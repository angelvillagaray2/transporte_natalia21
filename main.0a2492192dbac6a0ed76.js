(self.webpackChunksistema=self.webpackChunksistema||[]).push([[179],{8255:We=>{function we(L){return Promise.resolve().then(()=>{var d=new Error("Cannot find module '"+L+"'");throw d.code="MODULE_NOT_FOUND",d})}we.keys=()=>[],we.resolve=we,we.id=8255,We.exports=we},3018:(We,we,L)=>{"use strict";L.d(we,{deG:()=>sc,tb:()=>IT,AFp:()=>bT,ip1:()=>NC,CZH:()=>Za,hGG:()=>D1,z2F:()=>Bd,sBO:()=>Ht,Sil:()=>Vd,_Vd:()=>Ra,EJc:()=>V_,SBq:()=>ci,qLn:()=>$,vpe:()=>hi,gxx:()=>Vo,tBr:()=>ts,XFs:()=>De,OlP:()=>mn,zs3:()=>Lt,ZZ4:()=>Vn,aQg:()=>u_,soG:()=>Fd,YKP:()=>M0,v3s:()=>y1,h0i:()=>hs,PXZ:()=>UT,R0b:()=>xi,FiY:()=>xr,Lbi:()=>ET,g9A:()=>RC,Qsj:()=>s_,FYo:()=>En,JOm:()=>Hs,Tiy:()=>a_,q3G:()=>He,tp0:()=>Bs,EAV:()=>iM,Rgc:()=>hd,dDg:()=>kT,DyG:()=>bi,q4F:()=>to,GfV:()=>dd,s_b:()=>_p,ifc:()=>pn,eFA:()=>jT,G48:()=>H_,Gpc:()=>ne,X6Q:()=>j_,_c5:()=>na,VLi:()=>LT,c2e:()=>DT,zSh:()=>qs,wAp:()=>de,vHH:()=>xe,EiD:()=>ky,mCW:()=>Ro,qzn:()=>Oo,JVY:()=>Rg,pB0:()=>xy,eBb:()=>ku,L6k:()=>Dy,LAX:()=>Ay,cg1:()=>zn,Tjo:()=>XC,kL8:()=>qo,yhl:()=>yc,dqk:()=>B,sIi:()=>Mf,CqO:()=>Fm,QGY:()=>Bv,F4k:()=>Yc,RDi:()=>ws,AaK:()=>G,z3N:()=>Ei,qOj:()=>Uc,TTD:()=>hh,_Bn:()=>mI,xp6:()=>Sc,uIk:()=>Rf,Tol:()=>qv,ekj:()=>Yf,Suo:()=>cC,Xpm:()=>Fl,lG2:()=>rg,Yz7:()=>nn,cJS:()=>gi,oAB:()=>Ya,Yjl:()=>ig,Y36:()=>jo,_UZ:()=>bE,BQk:()=>km,ynx:()=>Hf,qZA:()=>Rm,TgZ:()=>tl,EpF:()=>Uv,n5z:()=>dy,Ikx:()=>tp,LFG:()=>Zt,$8M:()=>nc,NdJ:()=>Jc,CRH:()=>XI,oxw:()=>rl,Q6J:()=>Bf,DdM:()=>KI,iGM:()=>x_,CHM:()=>gh,oJD:()=>qn,LSH:()=>lr,kYT:()=>sa,Jzz:()=>Gm,vpz:()=>zm,Udp:()=>Vm,d8E:()=>r0,YNc:()=>xv,_uU:()=>Wv,Oqu:()=>jm,hij:()=>al});var d=L(9765),ee=L(5319),U=L(7574),me=L(6682),ge=L(2441);var fe=L(1307);function q(){return new d.xQ}function F(s){for(let o in s)if(s[o]===F)return o;throw Error("Could not find renamed property on target object.")}function W(s,o){for(const u in o)o.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=o[u])}function G(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(G).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function Y(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const he=F({__forward_ref__:F});function ne(s){return s.__forward_ref__=ne,s.toString=function(){return G(this())},s}function X(s){return Oe(s)?s():s}function Oe(s){return"function"==typeof s&&s.hasOwnProperty(he)&&s.__forward_ref__===ne}class xe extends Error{constructor(o,u){super(function(s,o){return`${s?`NG0${s}: `:""}${o}`}(o,u)),this.code=o}}function Fe(s){return"string"==typeof s?s:null==s?"":String(s)}function pt(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Fe(s)}function ae(s,o){const u=o?` in ${o}`:"";throw new xe("201",`No provider for ${pt(s)} found${u}`)}function tn(s,o){null==s&&function(s,o,u,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${u} ${c} ${o} <=Actual]`))}(o,s,null,"!=")}function nn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function gi(s){return{providers:s.providers||[],imports:s.imports||[]}}function wr(s){return ra(s,Sn)||ra(s,Ka)}function ra(s,o){return s.hasOwnProperty(o)?s[o]:null}function vs(s){return s&&(s.hasOwnProperty(kr)||s.hasOwnProperty(st))?s[kr]:null}const Sn=F({\u0275prov:F}),kr=F({\u0275inj:F}),Ka=F({ngInjectableDef:F}),st=F({ngInjectorDef:F});var De=(()=>((De=De||{})[De.Default=0]="Default",De[De.Host=1]="Host",De[De.Self=2]="Self",De[De.SkipSelf=4]="SkipSelf",De[De.Optional=8]="Optional",De))();let Bt;function sn(s){const o=Bt;return Bt=s,o}function Ot(s,o,u){const c=wr(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:u&De.Optional?null:void 0!==o?o:void ae(G(s),"Injector")}function Je(s){return{toString:s}.toString()}var fn=(()=>((fn=fn||{})[fn.OnPush=0]="OnPush",fn[fn.Default=1]="Default",fn))(),pn=(()=>((pn=pn||{})[pn.Emulated=0]="Emulated",pn[pn.None=2]="None",pn[pn.ShadowDom=3]="ShadowDom",pn))();const Er="undefined"!=typeof globalThis&&globalThis,co="undefined"!=typeof window&&window,j="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,H="undefined"!=typeof global&&global,B=Er||H||co||j,Ze={},je=[],Rt=F({\u0275cmp:F}),on=F({\u0275dir:F}),$t=F({\u0275pipe:F}),Fr=F({\u0275mod:F}),Ct=F({\u0275loc:F}),qt=F({\u0275fac:F}),Xn=F({__NG_ELEMENT_ID__:F});let kl=0;function Fl(s){return Je(()=>{const u={},c={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===fn.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||je,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||pn.Emulated,id:"c",styles:s.styles||je,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,g=s.features,v=s.pipes;return c.id+=kl++,c.inputs=mi(s.inputs,u),c.outputs=mi(s.outputs),g&&g.forEach(C=>C(c)),c.directiveDefs=h?()=>("function"==typeof h?h():h).map(eh):null,c.pipeDefs=v?()=>("function"==typeof v?v():v).map(Ll):null,c})}function eh(s){return Zn(s)||function(s){return s[on]||null}(s)}function Ll(s){return function(s){return s[$t]||null}(s)}const ia={};function Ya(s){return Je(()=>{const o={type:s.type,bootstrap:s.bootstrap||je,declarations:s.declarations||je,imports:s.imports||je,exports:s.exports||je,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(ia[s.id]=s.type),o})}function sa(s,o){return Je(()=>{const u=or(s,!0);u.declarations=o.declarations||je,u.imports=o.imports||je,u.exports=o.exports||je})}function mi(s,o){if(null==s)return Ze;const u={};for(const c in s)if(s.hasOwnProperty(c)){let h=s[c],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),u[h]=c,o&&(o[h]=g)}return u}const rg=Fl;function ig(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function Zn(s){return s[Rt]||null}function or(s,o){const u=s[Fr]||null;if(!u&&!0===o)throw new Error(`Type ${G(s)} does not have '\u0275mod' property.`);return u}function Ur(s){return Array.isArray(s)&&"object"==typeof s[1]}function Ft(s){return Array.isArray(s)&&!0===s[1]}function Xa(s){return 0!=(8&s.flags)}function Ul(s){return 2==(2&s.flags)}function Br(s){return 1==(1&s.flags)}function _i(s){return null!==s.template}function sh(s){return 0!=(512&s[2])}function Wi(s,o){return s.hasOwnProperty(qt)?s[qt]:null}class dh{constructor(o,u,c){this.previousValue=o,this.currentValue=u,this.firstChange=c}isFirstChange(){return this.firstChange}}function hh(){return tu}function tu(s){return s.type.prototype.ngOnChanges&&(s.setInput=ey),yi}function yi(){const s=nu(this),o=null==s?void 0:s.current;if(o){const u=s.previous;if(u===Ze)s.previous=o;else for(let c in o)u[c]=o[c];s.current=null,this.ngOnChanges(o)}}function ey(s,o,u,c){const h=nu(s)||function(s,o){return s[ty]=o}(s,{previous:Ze,current:null}),g=h.current||(h.current={}),v=h.previous,C=this.declaredInputs[u],I=v[C];g[C]=new dh(I&&I.currentValue,o,v===Ze),s[c]=o}hh.ngInherit=!0;const ty="__ngSimpleChanges__";function nu(s){return s[ty]||null}let _o;function ws(s){_o=s}function iu(){return void 0!==_o?_o:"undefined"!=typeof document?document:void 0}function Yt(s){return!!s.listen}const ql={createRenderer:(s,o)=>iu()};function Jt(s){for(;Array.isArray(s);)s=s[0];return s}function su(s,o){return Jt(o[s])}function jr(s,o){return Jt(o[s.index])}function Es(s,o){return s.data[o]}function ur(s,o){const u=o[s];return Ur(u)?u:u[0]}function au(s){return 4==(4&s[2])}function uu(s){return 128==(128&s[2])}function Is(s,o){return null==o?null:s[o]}function zl(s){s[18]=0}function fh(s,o){s[5]+=o;let u=s,c=s[3];for(;null!==c&&(1===o&&1===u[5]||-1===o&&0===u[5]);)c[5]+=o,u=c,c=c[3]}const it={lFrame:_g(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ph(){return it.bindingsEnabled}function Ie(){return it.lFrame.lView}function bt(){return it.lFrame.tView}function gh(s){return it.lFrame.contextLView=s,s[8]}function gn(){let s=fg();for(;null!==s&&64===s.type;)s=s.parent;return s}function fg(){return it.lFrame.currentTNode}function ei(s,o){const u=it.lFrame;u.currentTNode=s,u.isParent=o}function mh(){return it.lFrame.isParent}function Ts(){it.lFrame.isParent=!1}function da(){return it.isInCheckNoChangesMode}function Ds(s){it.isInCheckNoChangesMode=s}function As(){return it.lFrame.bindingIndex++}function Ki(s){const o=it.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,u}function vh(s,o){const u=it.lFrame;u.bindingIndex=u.bindingRootIndex=s,fu(o)}function fu(s){it.lFrame.currentDirectiveIndex=s}function bh(s){const o=it.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function Co(){return it.lFrame.currentQueryIndex}function wh(s){it.lFrame.currentQueryIndex=s}function ry(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function iy(s,o,u){if(u&De.SkipSelf){let h=o,g=s;for(;!(h=h.parent,null!==h||u&De.Host||(h=ry(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;o=h,s=g}const c=it.lFrame=mg();return c.currentTNode=o,c.lView=s,!0}function pu(s){const o=mg(),u=s[1];it.lFrame=o,o.currentTNode=u.firstChild,o.lView=s,o.tView=u,o.contextLView=s,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function mg(){const s=it.lFrame,o=null===s?null:s.child;return null===o?_g(s):o}function _g(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function yg(){const s=it.lFrame;return it.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Mb=yg;function vg(){const s=yg();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Tr(){return it.lFrame.selectedIndex}function bo(s){it.lFrame.selectedIndex=s}function Qt(){const s=it.lFrame;return Es(s.tView,s.selectedIndex)}function ha(s,o){for(let u=o.directiveStart,c=o.directiveEnd;u<c;u++){const g=s.data[u].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:I,ngAfterViewChecked:D,ngOnDestroy:A}=g;v&&(s.contentHooks||(s.contentHooks=[])).push(-u,v),C&&((s.contentHooks||(s.contentHooks=[])).push(u,C),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(u,C)),I&&(s.viewHooks||(s.viewHooks=[])).push(-u,I),D&&((s.viewHooks||(s.viewHooks=[])).push(u,D),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(u,D)),null!=A&&(s.destroyHooks||(s.destroyHooks=[])).push(u,A)}}function fa(s,o,u){Dh(s,o,3,u)}function Th(s,o,u,c){(3&s[2])===u&&Dh(s,o,u,c)}function gu(s,o){let u=s[2];(3&u)===o&&(u&=2047,u+=1,s[2]=u)}function Dh(s,o,u,c){const g=null!=c?c:-1,v=o.length-1;let C=0;for(let I=void 0!==c?65535&s[18]:0;I<v;I++)if("number"==typeof o[I+1]){if(C=o[I],null!=c&&C>=c)break}else o[I]<0&&(s[18]+=65536),(C<g||-1==g)&&(uy(s,u,o,I),s[18]=(4294901760&s[18])+I+2),I++}function uy(s,o,u,c){const h=u[c]<0,g=u[c+1],C=s[h?-u[c]:u[c]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(C)}finally{}}}else try{g.call(C)}finally{}}class mu{constructor(o,u,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=c}}function Xt(s,o,u){const c=Yt(s);let h=0;for(;h<u.length;){const g=u[h];if("number"==typeof g){if(0!==g)break;h++;const v=u[h++],C=u[h++],I=u[h++];c?s.setAttribute(o,C,I,v):o.setAttributeNS(v,C,I)}else{const v=g,C=u[++h];Yl(v)?c&&s.setProperty(o,v,C):c?s.setAttribute(o,v,C):o.setAttribute(v,C),h++}}return h}function xh(s){return 3===s||4===s||6===s}function Yl(s){return 64===s.charCodeAt(0)}function Sh(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let u=-1;for(let c=0;c<o.length;c++){const h=o[c];"number"==typeof h?u=h:0===u||Mh(s,u,h,null,-1===u||2===u?o[++c]:null)}}return s}function Mh(s,o,u,c,h){let g=0,v=s.length;if(-1===o)v=-1;else for(;g<s.length;){const C=s[g++];if("number"==typeof C){if(C===o){v=-1;break}if(C>o){v=g-1;break}}}for(;g<s.length;){const C=s[g];if("number"==typeof C)break;if(C===u){if(null===c)return void(null!==h&&(s[g+1]=h));if(c===s[g+1])return void(s[g+2]=h)}g++,null!==c&&g++,null!==h&&g++}-1!==v&&(s.splice(v,0,o),g=v+1),s.splice(g++,0,u),null!==c&&s.splice(g++,0,c),null!==h&&s.splice(g++,0,h)}function Cg(s){return-1!==s}function _u(s){return 32767&s}function yu(s,o){let u=function(s){return s>>16}(s),c=o;for(;u>0;)c=c[15],u--;return c}let vu=!0;function Jl(s){const o=vu;return vu=s,o}let Hr=0;function lt(s,o){const u=Cu(s,o);if(-1!==u)return u;const c=o[1];c.firstCreatePass&&(s.injectorIndex=o.length,Nh(c.data,s),Nh(o,null),Nh(c.blueprint,null));const h=Ms(s,o),g=s.injectorIndex;if(Cg(h)){const v=_u(h),C=yu(h,o),I=C[1].data;for(let D=0;D<8;D++)o[g+D]=C[v+D]|I[v+D]}return o[g+8]=h,g}function Nh(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Cu(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Ms(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,c=null,h=o;for(;null!==h;){const g=h[1],v=g.type;if(c=2===v?g.declTNode:1===v?h[6]:null,null===c)return-1;if(u++,h=h[15],-1!==c.injectorIndex)return c.injectorIndex|u<<16}return-1}function bu(s,o,u){!function(s,o,u){let c;"string"==typeof u?c=u.charCodeAt(0)||0:u.hasOwnProperty(Xn)&&(c=u[Xn]),null==c&&(c=u[Xn]=Hr++);const h=255&c;o.data[s+(h>>5)]|=1<<h}(s,o,u)}function Ri(s,o,u){if(u&De.Optional)return s;ae(o,"NodeInjector")}function pa(s,o,u,c){if(u&De.Optional&&void 0===c&&(c=null),0==(u&(De.Self|De.Host))){const h=s[9],g=sn(void 0);try{return h?h.get(o,c,u&De.Optional):Ot(o,c,u&De.Optional)}finally{sn(g)}}return Ri(c,o,u)}function Oh(s,o,u,c=De.Default,h){if(null!==s){const g=function(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Xn)?s[Xn]:void 0;return"number"==typeof o?o>=0?255&o:cy:o}(u);if("function"==typeof g){if(!iy(o,s,c))return c&De.Host?Ri(h,u,c):pa(o,u,c,h);try{const v=g(c);if(null!=v||c&De.Optional)return v;ae(u)}finally{Mb()}}else if("number"==typeof g){let v=null,C=Cu(s,o),I=-1,D=c&De.Host?o[16][6]:null;for((-1===C||c&De.SkipSelf)&&(I=-1===C?Ms(s,o):o[C+8],-1!==I&&Ji(c,!1)?(v=o[1],C=_u(I),o=yu(I,o)):C=-1);-1!==C;){const A=o[1];if($n(g,C,A.data)){const N=Rh(C,o,u,v,c,D);if(N!==wg)return N}I=o[C+8],-1!==I&&Ji(c,o[1].data[C+8]===D)&&$n(g,C,o)?(v=A,C=_u(I),o=yu(I,o)):C=-1}}}return pa(o,u,c,h)}const wg={};function cy(){return new Qi(gn(),Ie())}function Rh(s,o,u,c,h,g){const v=o[1],C=v.data[s+8],A=Ns(C,v,u,null==c?Ul(C)&&vu:c!=v&&0!=(3&C.type),h&De.Host&&g===C);return null!==A?Zr(o,v,A,C):wg}function Ns(s,o,u,c,h){const g=s.providerIndexes,v=o.data,C=1048575&g,I=s.directiveStart,A=g>>20,R=h?C+A:s.directiveEnd;for(let V=c?C:C+A;V<R;V++){const Z=v[V];if(V<I&&u===Z||V>=I&&Z.type===u)return V}if(h){const V=v[I];if(V&&_i(V)&&V.type===u)return I}return null}function Zr(s,o,u,c){let h=s[u];const g=o.data;if(function(s){return s instanceof mu}(h)){const v=h;v.resolving&&function(s,o){throw new xe("200",`Circular dependency in DI detected for ${s}`)}(pt(g[u]));const C=Jl(v.canSeeViewProviders);v.resolving=!0;const I=v.injectImpl?sn(v.injectImpl):null;iy(s,c,De.Default);try{h=s[u]=v.factory(void 0,g,s,c),o.firstCreatePass&&u>=c.directiveStart&&function(s,o,u){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:g}=o.type.prototype;if(c){const v=tu(o);(u.preOrderHooks||(u.preOrderHooks=[])).push(s,v),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,v)}h&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-s,h),g&&((u.preOrderHooks||(u.preOrderHooks=[])).push(s,g),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,g))}(u,g[u],o)}finally{null!==I&&sn(I),Jl(C),v.resolving=!1,Mb()}}return h}function $n(s,o,u){return!!(u[o+(s>>5)]&1<<s)}function Ji(s,o){return!(s&De.Self||s&De.Host&&o)}class Qi{constructor(o,u){this._tNode=o,this._lView=u}get(o,u){return Oh(this._tNode,this._lView,o,void 0,u)}}function dy(s){return Je(()=>{const o=s.prototype.constructor,u=o[qt]||tc(o),c=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==c;){const g=h[qt]||tc(h);if(g&&g!==u)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function tc(s){return Oe(s)?()=>{const o=tc(X(s));return o&&o()}:Wi(s)}function nc(s){return function(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const u=s.attrs;if(u){const c=u.length;let h=0;for(;h<c;){const g=u[h];if(xh(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<c&&"string"==typeof u[h];)h++;else{if(g===o)return u[h+1];h+=2}}}return null}(gn(),s)}const Eo="__parameters__";function Os(s,o,u){return Je(()=>{const c=function(s){return function(...u){if(s){const c=s(...u);for(const h in c)this[h]=c[h]}}}(o);function h(...g){if(this instanceof h)return c.apply(this,g),this;const v=new h(...g);return C.annotation=v,C;function C(I,D,A){const N=I.hasOwnProperty(Eo)?I[Eo]:Object.defineProperty(I,Eo,{value:[]})[Eo];for(;N.length<=A;)N.push(null);return(N[A]=N[A]||[]).push(v),I}}return u&&(h.prototype=Object.create(u.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class mn{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=nn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const sc=new mn("AnalyzeForEntryComponents"),bi=Function;function Dr(s,o){void 0===o&&(o=s);for(let u=0;u<s.length;u++){let c=s[u];Array.isArray(c)?(o===s&&(o=s.slice(0,u)),Dr(c,o)):o!==s&&o.push(c)}return o}function ni(s,o){s.forEach(u=>Array.isArray(u)?ni(u,o):o(u))}function ma(s,o,u){o>=s.length?s.push(u):s.splice(o,0,u)}function ri(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Ar(s,o,u){let c=Fs(s,o);return c>=0?s[1|c]=u:(c=~c,function(s,o,u,c){let h=s.length;if(h==o)s.push(u,c);else if(1===h)s.push(c,s[0]),s[0]=u;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=u,s[o+1]=c}}(s,c,o,u)),c}function cc(s,o){const u=Fs(s,o);if(u>=0)return s[1|u]}function Fs(s,o){return function(s,o,u){let c=0,h=s.length>>u;for(;h!==c;){const g=c+(h-c>>1),v=s[g<<u];if(o===v)return g<<u;v>o?h=g:c=g+1}return~(h<<u)}(s,o,1)}const Vs={},Uh="__NG_DI_FLAG__",xo="ngTempTokenPath",Au=/\n/gm,ya="__source",So=F({provide:String,useValue:F});let xu;function wi(s){const o=xu;return xu=s,o}function pc(s,o=De.Default){if(void 0===xu)throw new Error("inject() must be called from an injection context");return null===xu?Ot(s,void 0,o):xu.get(s,o&De.Optional?null:void 0,o)}function Zt(s,o=De.Default){return(Bt||pc)(X(s),o)}function es(s){const o=[];for(let u=0;u<s.length;u++){const c=X(s[u]);if(Array.isArray(c)){if(0===c.length)throw new Error("Arguments array must have arguments.");let h,g=De.Default;for(let v=0;v<c.length;v++){const C=c[v],I=Su(C);"number"==typeof I?-1===I?h=C.token:g|=I:h=C}o.push(Zt(h,g))}else o.push(Zt(c))}return o}function va(s,o){return s[Uh]=o,s.prototype[Uh]=o,s}function Su(s){return s[Uh]}function Bh(s,o,u,c){const h=s[xo];throw o[ya]&&h.unshift(o[ya]),s.message=function(s,o,u,c=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=G(o);if(Array.isArray(o))h=o.map(G).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let C=o[v];g.push(v+":"+("string"==typeof C?JSON.stringify(C):G(C)))}h=`{${g.join(", ")}}`}return`${u}${c?"("+c+")":""}[${h}]: ${s.replace(Au,"\n  ")}`}("\n"+s.message,h,u,c),s.ngTokenPath=h,s[xo]=null,s}const ts=va(Os("Inject",s=>({token:s})),-1),xr=va(Os("Optional"),8),Bs=va(Os("SkipSelf"),4);let ba,Mo;function ns(s){var o;return(null===(o=function(){if(void 0===ba&&(ba=null,B.trustedTypes))try{ba=B.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return ba}())||void 0===o?void 0:o.createHTML(s))||s}function Sg(s){var o;return(null===(o=function(){if(void 0===Mo&&(Mo=null,B.trustedTypes))try{Mo=B.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Mo}())||void 0===o?void 0:o.createHTML(s))||s}class rs{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ty extends rs{getTypeName(){return"HTML"}}class Ng extends rs{getTypeName(){return"Style"}}class No extends rs{getTypeName(){return"Script"}}class Gh extends rs{getTypeName(){return"URL"}}class Og extends rs{getTypeName(){return"ResourceURL"}}function Ei(s){return s instanceof rs?s.changingThisBreaksApplicationSecurity:s}function Oo(s,o){const u=yc(s);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===o}function yc(s){return s instanceof rs&&s.getTypeName()||null}function Rg(s){return new Ty(s)}function Dy(s){return new Ng(s)}function ku(s){return new No(s)}function Ay(s){return new Gh(s)}function xy(s){return new Og(s)}class Sy{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const u=(new window.DOMParser).parseFromString(ns(o),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(o):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class jb{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const c=this.inertDocument.createElement("body");u.appendChild(c)}}getInertBodyElement(o){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=ns(o),u;const c=this.inertDocument.createElement("body");return c.innerHTML=ns(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(o){const u=o.attributes;for(let h=u.length-1;0<h;h--){const v=u.item(h).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&o.removeAttribute(v)}let c=o.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const My=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Wh=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ro(s){return(s=String(s)).match(My)||s.match(Wh)?s:"unsafe:"+s}function Pi(s){const o={};for(const u of s.split(","))o[u]=!0;return o}function js(...s){const o={};for(const u of s)for(const c in u)u.hasOwnProperty(c)&&(o[c]=!0);return o}const vc=Pi("area,br,col,hr,img,wbr"),Pg=Pi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Cc=Pi("rp,rt"),Yh=js(vc,js(Pg,Pi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),js(Cc,Pi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),js(Cc,Pg)),Lu=Pi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Jh=Pi("srcset"),Qh=js(Lu,Jh,Pi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Pi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Xh=Pi("script,style,template");class $b{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let u=o.firstChild,c=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?c=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,c&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let h=this.checkClobberedElement(u,u.nextSibling);if(h){u=h;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(o){const u=o.nodeName.toLowerCase();if(!Yh.hasOwnProperty(u))return this.sanitizedSomething=!0,!Xh.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const c=o.attributes;for(let h=0;h<c.length;h++){const g=c.item(h),v=g.name,C=v.toLowerCase();if(!Qh.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let I=g.value;Lu[C]&&(I=Ro(I)),Jh[C]&&(s=I,I=(s=String(s)).split(",").map(o=>Ro(o.trim())).join(", ")),this.buf.push(" ",v,'="',Fg(I),'"')}var s;return this.buf.push(">"),!0}endElement(o){const u=o.nodeName.toLowerCase();Yh.hasOwnProperty(u)&&!vc.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(o){this.buf.push(Fg(o))}checkClobberedElement(o,u){if(u&&(o.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return u}}const Py=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,kg=/([^\#-~ |!])/g;function Fg(s){return s.replace(/&/g,"&amp;").replace(Py,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(kg,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ef;function ky(s,o){let u=null;try{ef=ef||function(s){const o=new jb(s);return function(){try{return!!(new window.DOMParser).parseFromString(ns(""),"text/html")}catch(s){return!1}}()?new Sy(o):o}(s);let c=o?String(o):"";u=ef.getInertBodyElement(c);let h=5,g=c;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,c=g,g=u.innerHTML,u=ef.getInertBodyElement(c)}while(c!==g);return ns((new $b).sanitizeChildren(tf(u)||u))}finally{if(u){const c=tf(u)||u;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function tf(s){return"content"in s&&function(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var He=(()=>((He=He||{})[He.NONE=0]="NONE",He[He.HTML=1]="HTML",He[He.STYLE=2]="STYLE",He[He.SCRIPT=3]="SCRIPT",He[He.URL=4]="URL",He[He.RESOURCE_URL=5]="RESOURCE_URL",He))();function qn(s){const o=Vu();return o?Sg(o.sanitize(He.HTML,s)||""):Oo(s,"HTML")?Sg(Ei(s)):ky(iu(),Fe(s))}function lr(s){const o=Vu();return o?o.sanitize(He.URL,s)||"":Oo(s,"URL")?Ei(s):Ro(Fe(s))}function Vu(){const s=Ie();return s&&s[12]}const Uu="__ngContext__";function Mn(s,o){s[Uu]=o}function kn(s){const o=function(s){return s[Uu]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function E(s){return s.ngOriginalError}function O(s,...o){s.error(...o)}class ${constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o),c=this._findContext(o),h=(s=o)&&s.ngErrorLogger||O;var s;h(this._console,"ERROR",o),u&&h(this._console,"ORIGINAL ERROR",u),c&&h(this._console,"ERROR CONTEXT",c)}_findContext(o){return o?o.ngDebugContext||this._findContext(E(o)):null}_findOriginalError(o){let u=o&&E(o);for(;u&&E(u);)u=E(u);return u||null}}const Dc=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(B))();function Cn(s){return s instanceof Function?s():s}var Hs=(()=>((Hs=Hs||{})[Hs.Important=1]="Important",Hs[Hs.DashCase=2]="DashCase",Hs))();function hf(s,o){return undefined(s,o)}function pf(s){const o=s[3];return Ft(o)?o[3]:o}function jy(s){return Kb(s[13])}function Hy(s){return Kb(s[4])}function Kb(s){for(;null!==s&&!Ft(s);)s=s[4];return s}function Hu(s,o,u,c,h){if(null!=c){let g,v=!1;Ft(c)?g=c:Ur(c)&&(v=!0,c=c[0]);const C=Jt(c);0===s&&null!==u?null==h?ss(o,u,C):wn(o,u,C,h||null,!0):1===s&&null!==u?wn(o,u,C,h||null,!0):2===s?function(s,o,u){const c=gf(s,o);c&&function(s,o,u,c){Yt(s)?s.removeChild(o,u,c):o.removeChild(u)}(s,c,o,u)}(o,C,v):3===s&&o.destroyNode(C),null!=g&&function(s,o,u,c,h){const g=u[7];g!==Jt(u)&&Hu(o,s,c,g,h);for(let C=10;C<u.length;C++){const I=u[C];mf(I[1],I,s,o,c,g)}}(o,s,g,u,h)}}function $y(s,o,u){return Yt(s)?s.createElement(o,u):null===u?s.createElement(o):s.createElementNS(u,o)}function Xb(s,o){const u=s[9],c=u.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,fh(h,-1)),u.splice(c,1)}function Gy(s,o){if(s.length<=10)return;const u=10+o,c=s[u];if(c){const h=c[17];null!==h&&h!==s&&Xb(h,c),o>0&&(s[u-1][4]=c[4]);const g=ri(s,10+o);!function(s,o){mf(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(c[1],c);const v=g[19];null!==v&&v.detachView(g[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function ew(s,o){if(!(256&o[2])){const u=o[11];Yt(u)&&u.destroyNode&&mf(s,o,u,3,null,null),function(s){let o=s[13];if(!o)return Fi(s[1],s);for(;o;){let u=null;if(Ur(o))u=o[13];else{const c=o[10];c&&(u=c)}if(!u){for(;o&&!o[4]&&o!==s;)Ur(o)&&Fi(o[1],o),o=o[3];null===o&&(o=s),Ur(o)&&Fi(o[1],o),u=o&&o[4]}o=u}}(o)}}function Fi(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function(s,o){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let c=0;c<u.length;c+=2){const h=o[u[c]];if(!(h instanceof mu)){const g=u[c+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const C=h[g[v]],I=g[v+1];try{I.call(C)}finally{}}else try{g.call(h)}finally{}}}}(s,o),function(s,o){const u=s.cleanup,c=o[7];let h=-1;if(null!==u)for(let g=0;g<u.length-1;g+=2)if("string"==typeof u[g]){const v=u[g+1],C="function"==typeof v?v(o):Jt(o[v]),I=c[h=u[g+2]],D=u[g+3];"boolean"==typeof D?C.removeEventListener(u[g],I,D):D>=0?c[h=D]():c[h=-D].unsubscribe(),g+=2}else{const v=c[h=u[g+1]];u[g].call(v)}if(null!==c){for(let g=h+1;g<c.length;g++)c[g]();o[7]=null}}(s,o),1===o[1].type&&Yt(o[11])&&o[11].destroy();const u=o[17];if(null!==u&&Ft(o[3])){u!==o[3]&&Xb(u,o);const c=o[19];null!==c&&c.detachView(s)}}}function zy(s,o,u){return function(s,o,u){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return u[0];if(2&c.flags){const h=s.data[c.directiveStart].encapsulation;if(h===pn.None||h===pn.Emulated)return null}return jr(c,u)}(s,o.parent,u)}function wn(s,o,u,c,h){Yt(s)?s.insertBefore(o,u,c,h):o.insertBefore(u,c,h)}function ss(s,o,u){Yt(s)?s.appendChild(o,u):o.appendChild(u)}function rw(s,o,u,c,h){null!==c?wn(s,o,u,c,h):ss(s,o,u)}function gf(s,o){return Yt(s)?s.parentNode(o):o.parentNode}let ow=function(s,o,u){return 40&s.type?jr(s,u):null};function Zu(s,o,u,c){const h=zy(s,c,o),g=o[11],C=function(s,o,u){return ow(s,o,u)}(c.parent||o[6],c,o);if(null!=h)if(Array.isArray(u))for(let I=0;I<u.length;I++)rw(g,h,u[I],C,!1);else rw(g,h,u,C,!1)}function Zs(s,o){if(null!==o){const u=o.type;if(3&u)return jr(o,s);if(4&u)return $u(-1,s[o.index]);if(8&u){const c=o.child;if(null!==c)return Zs(s,c);{const h=s[o.index];return Ft(h)?$u(-1,h):Jt(h)}}if(32&u)return hf(o,s)()||Jt(s[o.index]);{const c=Tt(s,o);return null!==c?Array.isArray(c)?c[0]:Zs(pf(s[16]),c):Zs(s,o.next)}}return null}function Tt(s,o){return null!==o?s[16][6].projection[o.projection]:null}function $u(s,o){const u=10+s+1;if(u<o.length){const c=o[u],h=c[1].firstChild;if(null!==h)return Zs(c,h)}return o[7]}function Po(s,o,u,c,h,g,v){for(;null!=u;){const C=c[u.index],I=u.type;if(v&&0===o&&(C&&Mn(Jt(C),c),u.flags|=4),64!=(64&u.flags))if(8&I)Po(s,o,u.child,c,h,g,!1),Hu(o,s,h,C,g);else if(32&I){const D=hf(u,c);let A;for(;A=D();)Hu(o,s,h,A,g);Hu(o,s,h,C,g)}else 16&I?Jy(s,o,c,u,h,g):Hu(o,s,h,C,g);u=v?u.projectionNext:u.next}}function mf(s,o,u,c,h,g){Po(u,c,s.firstChild,o,h,g,!1)}function Jy(s,o,u,c,h,g){const v=u[16],I=v[6].projection[c.projection];if(Array.isArray(I))for(let D=0;D<I.length;D++)Hu(o,s,h,I[D],g);else Po(s,o,I,v[3],h,g,!0)}function xc(s,o,u){Yt(s)?s.setAttribute(o,"style",u):o.style.cssText=u}function Wg(s,o,u){Yt(s)?""===u?s.removeAttribute(o,"class"):s.setAttribute(o,"class",u):o.className=u}function _f(s,o,u){let c=s.length;for(;;){const h=s.indexOf(o,u);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=o.length;if(h+g===c||s.charCodeAt(h+g)<=32)return h}u=h+1}}const Kg="ng-template";function Yg(s,o,u){let c=0;for(;c<s.length;){let h=s[c++];if(u&&"class"===h){if(h=s[c],-1!==_f(h.toLowerCase(),o,0))return!0}else if(1===h){for(;c<s.length&&"string"==typeof(h=s[c++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function Qy(s){return 4===s.type&&s.value!==Kg}function uw(s,o,u){return o===(4!==s.type||u?s.value:Kg)}function LD(s,o,u){let c=4;const h=s.attrs||[],g=function(s){for(let o=0;o<s.length;o++)if(xh(s[o]))return o;return s.length}(h);let v=!1;for(let C=0;C<o.length;C++){const I=o[C];if("number"!=typeof I){if(!v)if(4&c){if(c=2|1&c,""!==I&&!uw(s,I,u)||""===I&&1===o.length){if(os(c))return!1;v=!0}}else{const D=8&c?I:o[++C];if(8&c&&null!==s.attrs){if(!Yg(s.attrs,D,u)){if(os(c))return!1;v=!0}continue}const N=VD(8&c?"class":I,h,Qy(s),u);if(-1===N){if(os(c))return!1;v=!0;continue}if(""!==D){let R;R=N>g?"":h[N+1].toLowerCase();const V=8&c?R:null;if(V&&-1!==_f(V,D,0)||2&c&&D!==R){if(os(c))return!1;v=!0}}}}else{if(!v&&!os(c)&&!os(I))return!1;if(v&&os(I))continue;v=!1,c=I|1&c}}return os(c)||v}function os(s){return 0==(1&s)}function VD(s,o,u,c){if(null===o)return-1;let h=0;if(c||!u){let g=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)g=!0;else{if(1===v||2===v){let C=o[++h];for(;"string"==typeof C;)C=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=g?1:2}return-1}return function(s,o){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const c=s[u];if("number"==typeof c)return-1;if(c===o)return u;u++}return-1}(o,s)}function yf(s,o,u=!1){for(let c=0;c<o.length;c++)if(LD(s,o[c],u))return!0;return!1}function lw(s,o){return s?":not("+o.trim()+")":o}function cw(s){let o=s[0],u=1,c=2,h="",g=!1;for(;u<s.length;){let v=s[u];if("string"==typeof v)if(2&c){const C=s[++u];h+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&c?h+="."+v:4&c&&(h+=" "+v);else""!==h&&!os(v)&&(o+=lw(g,h),h=""),c=v,g=g||!os(c);u++}return""!==h&&(o+=lw(g,h)),o}const nt={};function Sc(s){tv(bt(),Ie(),Tr()+s,da())}function tv(s,o,u,c){if(!c)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&fa(o,g,u)}else{const g=s.preOrderHooks;null!==g&&Th(o,g,0,u)}bo(u)}function vf(s,o){return s<<17|o<<2}function as(s){return s>>17&32767}function nv(s){return 2|s}function Li(s){return(131068&s)>>2}function Jg(s,o){return-131069&s|o<<2}function Xg(s){return 1|s}function vw(s,o){const u=s.contentQueries;if(null!==u)for(let c=0;c<u.length;c+=2){const h=u[c],g=u[c+1];if(-1!==g){const v=s.data[g];wh(h),v.contentQueries(2,o[g],g)}}}function Oc(s,o,u,c,h,g,v,C,I,D){const A=o.blueprint.slice();return A[0]=h,A[2]=140|c,zl(A),A[3]=A[15]=s,A[8]=u,A[10]=v||s&&s[10],A[11]=C||s&&s[11],A[12]=I||s&&s[12]||null,A[9]=D||s&&s[9]||null,A[6]=g,A[16]=2==o.type?s[16]:A,A}function Gu(s,o,u,c,h){let g=s.data[o];if(null===g)g=function(s,o,u,c,h){const g=fg(),v=mh(),I=s.data[o]=function(s,o,u,c,h,g){return{type:u,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,u,o,c,h);return null===s.firstChild&&(s.firstChild=I),null!==g&&(v?null==g.child&&null!==I.parent&&(g.child=I):null===g.next&&(g.next=I)),I}(s,o,u,c,h),it.lFrame.inI18n&&(g.flags|=64);else if(64&g.type){g.type=u,g.value=c,g.attrs=h;const v=function(){const s=it.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return ei(g,!0),g}function Fo(s,o,u,c){if(0===u)return-1;const h=o.length;for(let g=0;g<u;g++)o.push(c),s.blueprint.push(c),s.data.push(null);return h}function Ef(s,o,u){pu(o);try{const c=s.viewQuery;null!==c&&hm(1,c,u);const h=s.template;null!==h&&Cw(s,o,h,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&vw(s,o),s.staticViewQueries&&hm(2,s.viewQuery,u);const g=s.components;null!==g&&function(s,o){for(let u=0;u<o.length;u++)pA(s,o[u])}(o,g)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{o[2]&=-5,vg()}}function Pc(s,o,u,c){const h=o[2];if(256==(256&h))return;pu(o);const g=da();try{zl(o),function(s){it.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&Cw(s,o,u,2,c);const v=3==(3&h);if(!g)if(v){const D=s.preOrderCheckHooks;null!==D&&fa(o,D,null)}else{const D=s.preOrderHooks;null!==D&&Th(o,D,0,null),gu(o,0)}if(function(s){for(let o=jy(s);null!==o;o=Hy(o)){if(!o[2])continue;const u=o[9];for(let c=0;c<u.length;c++){const h=u[c],g=h[3];0==(1024&h[2])&&fh(g,1),h[2]|=1024}}}(o),function(s){for(let o=jy(s);null!==o;o=Hy(o))for(let u=10;u<o.length;u++){const c=o[u],h=c[1];uu(c)&&Pc(h,c,h.template,c[8])}}(o),null!==s.contentQueries&&vw(s,o),!g)if(v){const D=s.contentCheckHooks;null!==D&&fa(o,D)}else{const D=s.contentHooks;null!==D&&Th(o,D,1),gu(o,1)}!function(s,o){const u=s.hostBindingOpCodes;if(null!==u)try{for(let c=0;c<u.length;c++){const h=u[c];if(h<0)bo(~h);else{const g=h,v=u[++c],C=u[++c];vh(v,g),C(2,o[g])}}}finally{bo(-1)}}(s,o);const C=s.components;null!==C&&function(s,o){for(let u=0;u<o.length;u++)Mw(s,o[u])}(o,C);const I=s.viewQuery;if(null!==I&&hm(2,I,c),!g)if(v){const D=s.viewCheckHooks;null!==D&&fa(o,D)}else{const D=s.viewHooks;null!==D&&Th(o,D,2),gu(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),g||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,fh(o[3],-1))}finally{vg()}}function QD(s,o,u,c){const h=o[10],g=!da(),v=au(o);try{g&&!v&&h.begin&&h.begin(),v&&Ef(s,o,c),Pc(s,o,u,c)}finally{g&&!v&&h.end&&h.end()}}function Cw(s,o,u,c,h){const g=Tr(),v=2&c;try{bo(-1),v&&o.length>20&&tv(s,o,20,da()),u(c,h)}finally{bo(g)}}function If(s,o,u){if(Xa(o)){const h=o.directiveEnd;for(let g=o.directiveStart;g<h;g++){const v=s.data[g];v.contentQueries&&v.contentQueries(1,u[g],g)}}}function sm(s,o,u){!ph()||(function(s,o,u,c){const h=u.directiveStart,g=u.directiveEnd;s.firstCreatePass||lt(u,o),Mn(c,o);const v=u.initialInputs;for(let C=h;C<g;C++){const I=s.data[C],D=_i(I);D&&lA(o,u,I);const A=Zr(o,s,C,u);Mn(A,o),null!==v&&cA(0,C-h,A,I,0,v),D&&(ur(u.index,o)[8]=A)}}(s,o,u,jr(u,o)),128==(128&u.flags)&&function(s,o,u){const c=u.directiveStart,h=u.directiveEnd,v=u.index,C=it.lFrame.currentDirectiveIndex;try{bo(v);for(let I=c;I<h;I++){const D=s.data[I],A=o[I];fu(I),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&Tw(D,A)}}finally{bo(-1),fu(C)}}(s,o,u))}function om(s,o,u=jr){const c=o.localNames;if(null!==c){let h=o.index+1;for(let g=0;g<c.length;g+=2){const v=c[g+1],C=-1===v?u(o,s):s[v];s[h++]=C}}}function kc(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Tf(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Tf(s,o,u,c,h,g,v,C,I,D){const A=20+c,N=A+h,R=function(s,o){const u=[];for(let c=0;c<o;c++)u.push(c<s?null:nt);return u}(A,N),V="function"==typeof D?D():D;return R[1]={type:s,blueprint:R,template:u,queries:null,viewQuery:C,declTNode:o,data:R.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:I,consts:V,incompleteFirstPass:!1}}function ww(s,o,u,c){const h=Ow(o);null===u?h.push(c):(h.push(u),s.firstCreatePass&&Rw(s).push(c,h.length-1))}function Ew(s,o,u){for(let c in s)if(s.hasOwnProperty(c)){const h=s[c];(u=null===u?{}:u).hasOwnProperty(c)?u[c].push(o,h):u[c]=[o,h]}return u}function ii(s,o,u,c,h,g,v,C){const I=jr(o,u);let A,D=o.inputs;!C&&null!=D&&(A=D[c])?(_v(s,u,A,c,h),Ul(o)&&function(s,o){const u=ur(o,s);16&u[2]||(u[2]|=64)}(u,o.index)):3&o.type&&(c=function(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),h=null!=v?v(h,o.value||"",c):h,Yt(g)?g.setProperty(I,c,h):Yl(c)||(I.setProperty?I.setProperty(c,h):I[c]=h))}function dv(s,o,u,c){let h=!1;if(ph()){const g=function(s,o,u){const c=s.directiveRegistry;let h=null;if(c)for(let g=0;g<c.length;g++){const v=c[g];yf(u,v.selectors,!1)&&(h||(h=[]),bu(lt(u,o),s,v.type),_i(v)?(Dw(s,u),h.unshift(v)):h.push(v))}return h}(s,o,u),v=null===c?null:{"":-1};if(null!==g){h=!0,Aw(u,s.data.length,g.length);for(let A=0;A<g.length;A++){const N=g[A];N.providersResolver&&N.providersResolver(N)}let C=!1,I=!1,D=Fo(s,o,g.length,null);for(let A=0;A<g.length;A++){const N=g[A];u.mergedAttrs=Sh(u.mergedAttrs,N.hostAttrs),hv(s,u,o,D,N),uA(D,N,v),null!==N.contentQueries&&(u.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(u.flags|=128);const R=N.type.prototype;!C&&(R.ngOnChanges||R.ngOnInit||R.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(u.index),C=!0),!I&&(R.ngOnChanges||R.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(u.index),I=!0),D++}!function(s,o){const c=o.directiveEnd,h=s.data,g=o.attrs,v=[];let C=null,I=null;for(let D=o.directiveStart;D<c;D++){const A=h[D],N=A.inputs,R=null===g||Qy(o)?null:dA(N,g);v.push(R),C=Ew(N,D,C),I=Ew(A.outputs,D,I)}null!==C&&(C.hasOwnProperty("class")&&(o.flags|=16),C.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=C,o.outputs=I}(s,u)}v&&function(s,o,u){if(o){const c=s.localNames=[];for(let h=0;h<o.length;h+=2){const g=u[o[h+1]];if(null==g)throw new xe("301",`Export of name '${o[h+1]}' not found!`);c.push(o[h],g)}}}(u,c,v)}return u.mergedAttrs=Sh(u.mergedAttrs,u.attrs),h}function Fc(s,o,u,c,h,g){const v=g.hostBindings;if(v){let C=s.hostBindingOpCodes;null===C&&(C=s.hostBindingOpCodes=[]);const I=~o.index;(function(s){let o=s.length;for(;o>0;){const u=s[--o];if("number"==typeof u&&u<0)return u}return 0})(C)!=I&&C.push(I),C.push(c,h,v)}}function Tw(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Dw(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function uA(s,o,u){if(u){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)u[o.exportAs[c]]=s;_i(o)&&(u[""]=s)}}function Aw(s,o,u){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+u,s.providerIndexes=o}function hv(s,o,u,c,h){s.data[c]=h;const g=h.factory||(h.factory=Wi(h.type)),v=new mu(g,_i(h),null);s.blueprint[c]=v,u[c]=v,Fc(s,o,0,c,Fo(s,u,h.hostVars,nt),h)}function lA(s,o,u){const c=jr(o,s),h=kc(u),g=s[10],v=dm(s,Oc(s,h,null,u.onPush?64:16,c,o,g,g.createRenderer(c,u),null,null));s[o.index]=v}function $s(s,o,u,c,h,g){const v=jr(s,o);!function(s,o,u,c,h,g,v){if(null==g)Yt(s)?s.removeAttribute(o,h,u):o.removeAttribute(h);else{const C=null==v?Fe(g):v(g,c||"",h);Yt(s)?s.setAttribute(o,h,C,u):u?o.setAttributeNS(u,h,C):o.setAttribute(h,C)}}(o[11],v,g,s.value,u,c,h)}function cA(s,o,u,c,h,g){const v=g[o];if(null!==v){const C=c.setInput;for(let I=0;I<v.length;){const D=v[I++],A=v[I++],N=v[I++];null!==C?c.setInput(u,N,D,A):u[A]=N}}}function dA(s,o){let u=null,c=0;for(;c<o.length;){const h=o[c];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===u&&(u=[]),u.push(h,s[h],o[c+1])),c+=2}else c+=2;else c+=4}return u}function fA(s,o,u,c){return new Array(s,!0,!1,o,null,0,c,u,null,null)}function Mw(s,o){const u=ur(o,s);if(uu(u)){const c=u[1];80&u[2]?Pc(c,u,c.template,u[8]):u[5]>0&&cm(u)}}function cm(s){for(let c=jy(s);null!==c;c=Hy(c))for(let h=10;h<c.length;h++){const g=c[h];if(1024&g[2]){const v=g[1];Pc(v,g,v.template,g[8])}else g[5]>0&&cm(g)}const u=s[1].components;if(null!==u)for(let c=0;c<u.length;c++){const h=ur(u[c],s);uu(h)&&h[5]>0&&cm(h)}}function pA(s,o){const u=ur(o,s),c=u[1];(function(s,o){for(let u=o.length;u<s.blueprint.length;u++)o.push(s.blueprint[u])})(c,u),Ef(c,u,u[8])}function dm(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function pv(s){for(;s;){s[2]|=64;const o=pf(s);if(sh(s)&&!o)return s;s=o}return null}function gv(s,o,u){const c=o[10];c.begin&&c.begin();try{Pc(s,o,s.template,u)}catch(h){throw kw(o,h),h}finally{c.end&&c.end()}}function Nw(s){!function(s){for(let o=0;o<s.components.length;o++){const u=s.components[o],c=kn(u),h=c[1];QD(h,c,h.template,u)}}(s[8])}function hm(s,o,u){wh(0),o(s,u)}const Lc=(()=>Promise.resolve(null))();function Ow(s){return s[7]||(s[7]=[])}function Rw(s){return s.cleanup||(s.cleanup=[])}function kw(s,o){const u=s[9],c=u?u.get($,null):null;c&&c.handleError(o)}function _v(s,o,u,c,h){for(let g=0;g<u.length;){const v=u[g++],C=u[g++],I=o[v],D=s.data[v];null!==D.setInput?D.setInput(I,h,c,C):I[C]=h}}function Lo(s,o,u){const c=su(o,s);!function(s,o,u){Yt(s)?s.setValue(o,u):o.textContent=u}(s[11],c,u)}function fm(s,o,u){let c=u?s.styles:null,h=u?s.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const C=o[v];"number"==typeof C?g=C:1==g?h=Y(h,C):2==g&&(c=Y(c,C+": "+o[++v]+";"))}u?s.styles=c:s.stylesWithoutHost=c,u?s.classes=h:s.classesWithoutHost=h}const Vo=new mn("INJECTOR",-1);class pm{get(o,u=Vs){if(u===Vs){const c=new Error(`NullInjectorError: No provider for ${G(o)}!`);throw c.name="NullInjectorError",c}return u}}const qs=new mn("Set Injector scope."),Vc={},vA={};let Af;function Fw(){return void 0===Af&&(Af=new pm),Af}function Vw(s,o=null,u=null,c){return new Uw(s,u,o||Fw(),c)}class Uw{constructor(o,u,c,h=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];u&&ni(u,C=>this.processProvider(C,o,u)),ni([o],C=>this.processInjectorType(C,[],g)),this.records.set(Vo,zu(void 0,this));const v=this.records.get(qs);this.scope=null!=v?v.value:null,this.source=h||("object"==typeof o?null:G(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,u=Vs,c=De.Default){this.assertNotDestroyed();const h=wi(this),g=sn(void 0);try{if(!(c&De.SkipSelf)){let C=this.records.get(o);if(void 0===C){const I=("function"==typeof(s=o)||"object"==typeof s&&s instanceof mn)&&wr(o);C=I&&this.injectableDefInScope(I)?zu(gm(o),Vc):null,this.records.set(o,C)}if(null!=C)return this.hydrate(o,C)}return(c&De.Self?Fw():this.parent).get(o,u=c&De.Optional&&u===Vs?null:u)}catch(v){if("NullInjectorError"===v.name){if((v[xo]=v[xo]||[]).unshift(G(o)),h)throw v;return Bh(v,o,"R3InjectorError",this.source)}throw v}finally{sn(g),wi(h)}var s}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((c,h)=>o.push(G(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(o,u,c){if(!(o=X(o)))return!1;let h=vs(o);const g=null==h&&o.ngModule||void 0,v=void 0===g?o:g,C=-1!==c.indexOf(v);if(void 0!==g&&(h=vs(g)),null==h)return!1;if(null!=h.imports&&!C){let A;c.push(v);try{ni(h.imports,N=>{this.processInjectorType(N,u,c)&&(void 0===A&&(A=[]),A.push(N))})}finally{}if(void 0!==A)for(let N=0;N<A.length;N++){const{ngModule:R,providers:V}=A[N];ni(V,Z=>this.processProvider(Z,R,V||je))}}this.injectorDefTypes.add(v);const I=Wi(v)||(()=>new v);this.records.set(v,zu(I,Vc));const D=h.providers;if(null!=D&&!C){const A=o;ni(D,N=>this.processProvider(N,A,D))}return void 0!==g&&void 0!==o.providers}processProvider(o,u,c){let h=Wu(o=X(o))?o:X(o&&o.provide);const g=Bw(s=o)?zu(void 0,s.useValue):zu(xa(s),Vc);var s;if(Wu(o)||!0!==o.multi)this.records.get(h);else{let v=this.records.get(h);v||(v=zu(void 0,Vc,!0),v.factory=()=>es(v.multi),this.records.set(h,v)),h=o,v.multi.push(o)}this.records.set(h,g)}hydrate(o,u){return u.value===Vc&&(u.value=vA,u.value=u.factory()),"object"==typeof u.value&&u.value&&null!==(s=u.value)&&"object"==typeof s&&"function"==typeof s.ngOnDestroy&&this.onDestroy.add(u.value),u.value;var s}injectableDefInScope(o){if(!o.providedIn)return!1;const u=X(o.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function gm(s){const o=wr(s),u=null!==o?o.factory:Wi(s);if(null!==u)return u;if(s instanceof mn)throw new Error(`Token ${G(s)} is missing a \u0275prov definition.`);if(s instanceof Function)return function(s){const o=s.length;if(o>0){const c=function(s,o){const u=[];for(let c=0;c<s;c++)u.push(o);return u}(o,"?");throw new Error(`Can't resolve all parameters for ${G(s)}: (${c.join(", ")}).`)}const u=function(s){const o=s&&(s[Sn]||s[Ka]);if(o){const u=function(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),o}return null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new Error("unreachable")}function xa(s,o,u){let c;if(Wu(s)){const h=X(s);return Wi(h)||gm(h)}if(Bw(s))c=()=>X(s.useValue);else if(function(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...es(s.deps||[]));else if(function(s){return!(!s||!s.useExisting)}(s))c=()=>Zt(X(s.useExisting));else{const h=X(s&&(s.useClass||s.provide));if(!function(s){return!!s.deps}(s))return Wi(h)||gm(h);c=()=>new h(...es(s.deps))}return c}function zu(s,o,u=!1){return{factory:s,value:o,multi:u?[]:void 0}}function Bw(s){return null!==s&&"object"==typeof s&&So in s}function Wu(s){return"function"==typeof s}const Hw=function(s,o,u){return function(s,o=null,u=null,c){const h=Vw(s,o,u,c);return h._resolveInjectorDefTypes(),h}({name:u},o,s,u)};class Lt{static create(o,u){return Array.isArray(o)?Hw(o,u,""):Hw(o.providers,o.parent,o.name||"")}}function NA(s,o){ha(kn(s)[1],gn())}function Uc(s){let o=function(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const c=[s];for(;o;){let h;if(_i(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Error("Directives cannot inherit Components");h=o.\u0275dir}if(h){if(u){c.push(h);const v=s;v.inputs=fr(s.inputs),v.declaredInputs=fr(s.declaredInputs),v.outputs=fr(s.outputs);const C=h.hostBindings;C&&eE(s,C);const I=h.viewQuery,D=h.contentQueries;if(I&&Dv(s,I),D&&qr(s,D),W(s.inputs,h.inputs),W(s.declaredInputs,h.declaredInputs),W(s.outputs,h.outputs),_i(h)&&h.data.animation){const A=s.data;A.animation=(A.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let v=0;v<g.length;v++){const C=g[v];C&&C.ngInherit&&C(s),C===Uc&&(u=!1)}}o=Object.getPrototypeOf(o)}!function(s){let o=0,u=null;for(let c=s.length-1;c>=0;c--){const h=s[c];h.hostVars=o+=h.hostVars,h.hostAttrs=Sh(h.hostAttrs,u=Sh(u,h.hostAttrs))}}(c)}function fr(s){return s===Ze?{}:s===je?[]:s}function Dv(s,o){const u=s.viewQuery;s.viewQuery=u?(c,h)=>{o(c,h),u(c,h)}:o}function qr(s,o){const u=s.contentQueries;s.contentQueries=u?(c,h,g)=>{o(c,h,g),u(c,h,g)}:o}function eE(s,o){const u=s.hostBindings;s.hostBindings=u?(c,h)=>{o(c,h),u(c,h)}:o}Lt.THROW_IF_NOT_FOUND=Vs,Lt.NULL=new pm,Lt.\u0275prov=nn({token:Lt,providedIn:"any",factory:()=>Zt(Vo)}),Lt.__NG_ELEMENT_ID__=-1;let Sf=null;function Ju(){if(!Sf){const s=B.Symbol;if(s&&s.iterator)Sf=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<o.length;++u){const c=o[u];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(Sf=c)}}}return Sf}function Mf(s){return!!Nf(s)&&(Array.isArray(s)||!(s instanceof Map)&&Ju()in s)}function Nf(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function pr(s,o,u){return!Object.is(s[o],u)&&(s[o]=u,!0)}function Rf(s,o,u,c){const h=Ie();return pr(h,As(),o)&&(bt(),$s(Qt(),h,s,o,u,c)),Rf}function Zc(s,o,u,c){return pr(s,As(),u)?o+Fe(u)+c:nt}function Sa(s,o,u,c,h,g){const C=function(s,o,u,c){const h=pr(s,o,u);return pr(s,o+1,c)||h}(s,it.lFrame.bindingIndex,u,h);return Ki(2),C?o+Fe(u)+c+Fe(h)+g:nt}function xv(s,o,u,c,h,g,v,C){const I=Ie(),D=bt(),A=s+20,N=D.firstCreatePass?function(s,o,u,c,h,g,v,C,I){const D=o.consts,A=Gu(o,s,4,v||null,Is(D,C));dv(o,u,A,Is(D,I)),ha(o,A);const N=A.tViews=Tf(2,A,c,h,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,D);return null!==o.queries&&(o.queries.template(o,A),N.queries=o.queries.embeddedTView(A)),A}(A,D,I,o,u,c,h,g,v):D.data[A];ei(N,!1);const R=I[11].createComment("");Zu(D,I,R,N),Mn(R,I),dm(I,I[A]=fA(R,I,R,N)),Br(N)&&sm(D,I,N),null!=v&&om(I,N,C)}function jo(s,o=De.Default){const u=Ie();return null===u?Zt(s,o):Oh(gn(),u,X(s),o)}function Bf(s,o,u){const c=Ie();return pr(c,As(),o)&&ii(bt(),Qt(),c,s,o,c[11],u,!1),Bf}function jf(s,o,u,c,h){const v=h?"class":"style";_v(s,u,o.inputs[v],v,c)}function tl(s,o,u,c){const h=Ie(),g=bt(),v=20+s,C=h[11],I=h[v]=$y(C,o,it.lFrame.currentNamespace),D=g.firstCreatePass?function(s,o,u,c,h,g,v){const C=o.consts,D=Gu(o,s,2,h,Is(C,g));return dv(o,u,D,Is(C,v)),null!==D.attrs&&fm(D,D.attrs,!1),null!==D.mergedAttrs&&fm(D,D.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,D),D}(v,g,h,0,o,u,c):g.data[v];ei(D,!0);const A=D.mergedAttrs;null!==A&&Xt(C,I,A);const N=D.classes;null!==N&&Wg(C,I,N);const R=D.styles;null!==R&&xc(C,I,R),64!=(64&D.flags)&&Zu(g,h,I,D),0===it.lFrame.elementDepthCount&&Mn(I,h),it.lFrame.elementDepthCount++,Br(D)&&(sm(g,h,D),If(g,D,h)),null!==c&&om(h,D)}function Rm(){let s=gn();mh()?Ts():(s=s.parent,ei(s,!1));const o=s;it.lFrame.elementDepthCount--;const u=bt();u.firstCreatePass&&(ha(u,s),Xa(s)&&u.queries.elementEnd(s)),null!=o.classesWithoutHost&&function(s){return 0!=(16&s.flags)}(o)&&jf(u,o,Ie(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function(s){return 0!=(32&s.flags)}(o)&&jf(u,o,Ie(),o.stylesWithoutHost,!1)}function bE(s,o,u,c){tl(s,o,u,c),Rm()}function Hf(s,o,u){const c=Ie(),h=bt(),g=s+20,v=h.firstCreatePass?function(s,o,u,c,h){const g=o.consts,v=Is(g,c),C=Gu(o,s,8,"ng-container",v);return null!==v&&fm(C,v,!0),dv(o,u,C,Is(g,h)),null!==o.queries&&o.queries.elementStart(o,C),C}(g,h,c,o,u):h.data[g];ei(v,!0);const C=c[g]=c[11].createComment("");Zu(h,c,C,v),Mn(C,c),Br(v)&&(sm(h,c,v),If(h,v,c)),null!=u&&om(c,v)}function km(){let s=gn();const o=bt();mh()?Ts():(s=s.parent,ei(s,!1)),o.firstCreatePass&&(ha(o,s),Xa(s)&&o.queries.elementEnd(s))}function Uv(){return Ie()}function Bv(s){return!!s&&"function"==typeof s.then}function Yc(s){return!!s&&"function"==typeof s.subscribe}const Fm=Yc;function Jc(s,o,u,c){const h=Ie(),g=bt(),v=gn();return function(s,o,u,c,h,g,v,C){const I=Br(c),A=s.firstCreatePass&&Rw(s),N=o[8],R=Ow(o);let V=!0;if(3&c.type||C){const Q=jr(c,o),Se=C?C(Q):Q,ye=R.length,Qe=C?ut=>C(Jt(ut[c.index])):c.index;if(Yt(u)){let ut=null;if(!C&&I&&(ut=function(s,o,u,c){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const v=h[g];if(v===u&&h[g+1]===c){const C=o[7],I=h[g+2];return C.length>I?C[I]:null}"string"==typeof v&&(g+=2)}return null}(s,o,h,c.index)),null!==ut)(ut.__ngLastListenerFn__||ut).__ngNextListenerFn__=g,ut.__ngLastListenerFn__=g,V=!1;else{g=Zf(c,o,N,g,!1);const Et=u.listen(Se,h,g);R.push(g,Et),A&&A.push(h,Qe,ye,ye+1)}}else g=Zf(c,o,N,g,!0),Se.addEventListener(h,g,v),R.push(g),A&&A.push(h,Qe,ye,v)}else g=Zf(c,o,N,g,!1);const Z=c.outputs;let oe;if(V&&null!==Z&&(oe=Z[h])){const Q=oe.length;if(Q)for(let Se=0;Se<Q;Se+=2){const Qn=o[oe[Se]][oe[Se+1]].subscribe(g),$i=R.length;R.push(g,Qn),A&&A.push(h,c.index,$i,-($i+1))}}}(g,h,h[11],v,s,o,!!u,c),Jc}function IE(s,o,u,c){try{return!1!==u(c)}catch(h){return kw(s,h),!1}}function Zf(s,o,u,c,h){return function g(v){if(v===Function)return c;const C=2&s.flags?ur(s.index,o):o;0==(32&o[2])&&pv(C);let I=IE(o,0,c,v),D=g.__ngNextListenerFn__;for(;D;)I=IE(o,0,D,v)&&I,D=D.__ngNextListenerFn__;return h&&!1===I&&(v.preventDefault(),v.returnValue=!1),I}}function rl(s=1){return function(s){return(it.lFrame.contextLView=function(s,o){for(;s>0;)o=o[15],s--;return o}(s,it.lFrame.contextLView))[8]}(s)}function xE(s,o,u,c,h){const g=s[u+1],v=null===o;let C=c?as(g):Li(g),I=!1;for(;0!==C&&(!1===I||v);){const A=s[C+1];SE(s[C],o)&&(I=!0,s[C+1]=c?Xg(A):nv(A)),C=c?as(A):Li(A)}I&&(s[u+1]=c?nv(g):Xg(g))}function SE(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Fs(s,o)>=0}const Gn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ME(s){return s.substring(Gn.key,Gn.keyEnd)}function $A(s){return s.substring(Gn.value,Gn.valueEnd)}function Xc(s,o){const u=Gn.textEnd;return u===o?-1:(o=Gn.keyEnd=function(s,o,u){for(;o<u&&s.charCodeAt(o)>32;)o++;return o}(s,Gn.key=o,u),sl(s,o,u))}function Zv(s,o){const u=Gn.textEnd;let c=Gn.key=sl(s,o,u);return u===c?-1:(c=Gn.keyEnd=function(s,o,u){let c;for(;o<u&&(45===(c=s.charCodeAt(o))||95===c||(-33&c)>=65&&(-33&c)<=90||c>=48&&c<=57);)o++;return o}(s,c,u),c=NE(s,c,u),c=Gn.value=sl(s,c,u),c=Gn.valueEnd=function(s,o,u){let c=-1,h=-1,g=-1,v=o,C=v;for(;v<u;){const I=s.charCodeAt(v++);if(59===I)return C;34===I||39===I?C=v=RE(s,I,v,u):o===v-4&&85===g&&82===h&&76===c&&40===I?C=v=RE(s,41,v,u):I>32&&(C=v),g=h,h=c,c=-33&I}return C}(s,c,u),NE(s,c,u))}function $v(s){Gn.key=0,Gn.keyEnd=0,Gn.value=0,Gn.valueEnd=0,Gn.textEnd=s.length}function sl(s,o,u){for(;o<u&&s.charCodeAt(o)<=32;)o++;return o}function NE(s,o,u,c){return(o=sl(s,o,u))<u&&o++,o}function RE(s,o,u,c){let h=-1,g=u;for(;g<c;){const v=s.charCodeAt(g++);if(v==o&&92!==h)return g;h=92==v&&92===h?0:v}throw new Error}function Vm(s,o,u){return cs(s,o,u,!1),Vm}function Yf(s,o){return cs(s,o,null,!0),Yf}function Bi(s){ds(On,PE,s,!1)}function PE(s,o){for(let u=function(s){return $v(s),Zv(s,sl(s,0,Gn.textEnd))}(o);u>=0;u=Zv(o,u))On(s,ME(o),$A(o))}function qv(s){ds(Ar,ji,s,!0)}function ji(s,o){for(let u=function(s){return $v(s),Xc(s,sl(s,0,Gn.textEnd))}(o);u>=0;u=Xc(o,u))Ar(s,ME(o),!0)}function cs(s,o,u,c){const h=Ie(),g=bt(),v=Ki(2);g.firstUpdatePass&&Jf(g,s,v,c),o!==nt&&pr(h,v,o)&&VE(g,g.data[Tr()],h,h[11],s,h[v+1]=function(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=G(Ei(s)))),s}(o,u),c,v)}function ds(s,o,u,c){const h=bt(),g=Ki(2);h.firstUpdatePass&&Jf(h,null,g,c);const v=Ie();if(u!==nt&&pr(v,g,u)){const C=h.data[Tr()];if(zv(C,c)&&!kE(h,g)){let I=c?C.classesWithoutHost:C.stylesWithoutHost;null!==I&&(u=Y(I,u||"")),jf(h,C,v,u,c)}else!function(s,o,u,c,h,g,v,C){h===nt&&(h=je);let I=0,D=0,A=0<h.length?h[0]:null,N=0<g.length?g[0]:null;for(;null!==A||null!==N;){const R=I<h.length?h[I+1]:void 0,V=D<g.length?g[D+1]:void 0;let oe,Z=null;A===N?(I+=2,D+=2,R!==V&&(Z=N,oe=V)):null===N||null!==A&&A<N?(I+=2,Z=A):(D+=2,Z=N,oe=V),null!==Z&&VE(s,o,u,c,Z,oe,v,C),A=I<h.length?h[I]:null,N=D<g.length?g[D]:null}}(h,C,v,v[11],v[g+1],v[g+1]=function(s,o,u){if(null==u||""===u)return je;const c=[],h=Ei(u);if(Array.isArray(h))for(let g=0;g<h.length;g++)s(c,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&s(c,g,h[g]);else"string"==typeof h&&o(c,h);return c}(s,o,u),c,g)}}function kE(s,o){return o>=s.expandoStartIndex}function Jf(s,o,u,c){const h=s.data;if(null===h[u+1]){const g=h[Tr()],v=kE(s,u);zv(g,c)&&null===o&&!v&&(o=!1),o=function(s,o,u,c){const h=bh(s);let g=c?o.residualClasses:o.residualStyles;if(null===h)0===(c?o.classBindings:o.styleBindings)&&(u=Zo(u=ol(null,s,o,u,c),o.attrs,c),g=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(u=ol(h,s,o,u,c),null===g){let I=function(s,o,u){const c=u?o.classBindings:o.styleBindings;if(0!==Li(c))return s[as(c)]}(s,o,c);void 0!==I&&Array.isArray(I)&&(I=ol(null,s,o,I[1],c),I=Zo(I,o.attrs,c),function(s,o,u,c){s[as(u?o.classBindings:o.styleBindings)]=c}(s,o,c,I))}else g=function(s,o,u){let c;const h=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<h;g++)c=Zo(c,s[g].hostAttrs,u);return Zo(c,o.attrs,u)}(s,o,c)}return void 0!==g&&(c?o.residualClasses=g:o.residualStyles=g),u}(h,g,o,c),function(s,o,u,c,h,g){let v=g?o.classBindings:o.styleBindings,C=as(v),I=Li(v);s[c]=u;let A,D=!1;if(Array.isArray(u)){const N=u;A=N[1],(null===A||Fs(N,A)>0)&&(D=!0)}else A=u;if(h)if(0!==I){const R=as(s[C+1]);s[c+1]=vf(R,C),0!==R&&(s[R+1]=Jg(s[R+1],c)),s[C+1]=function(s,o){return 131071&s|o<<17}(s[C+1],c)}else s[c+1]=vf(C,0),0!==C&&(s[C+1]=Jg(s[C+1],c)),C=c;else s[c+1]=vf(I,0),0===C?C=c:s[I+1]=Jg(s[I+1],c),I=c;D&&(s[c+1]=nv(s[c+1])),xE(s,A,c,!0),xE(s,A,c,!1),function(s,o,u,c,h){const g=h?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&Fs(g,o)>=0&&(u[c+1]=Xg(u[c+1]))}(o,A,s,c,g),v=vf(C,I),g?o.classBindings=v:o.styleBindings=v}(h,g,o,u,v,c)}}function ol(s,o,u,c,h){let g=null;const v=u.directiveEnd;let C=u.directiveStylingLast;for(-1===C?C=u.directiveStart:C++;C<v&&(g=o[C],c=Zo(c,g.hostAttrs,h),g!==s);)C++;return null!==s&&(u.directiveStylingLast=C),c}function Zo(s,o,u){const c=u?1:2;let h=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?h=v:h===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Ar(s,v,!!u||o[++g]))}return void 0===s?null:s}function On(s,o,u){Ar(s,o,Ei(u))}function VE(s,o,u,c,h,g,v,C){if(!(3&o.type))return;const I=s.data,D=I[C+1];Bm(function(s){return 1==(1&s)}(D)?UE(I,o,u,h,Li(D),v):void 0)||(Bm(g)||function(s){return 2==(2&s)}(D)&&(g=UE(I,null,u,h,C,v)),function(s,o,u,c,h){const g=Yt(s);if(o)h?g?s.addClass(u,c):u.classList.add(c):g?s.removeClass(u,c):u.classList.remove(c);else{let v=-1===c.indexOf("-")?void 0:Hs.DashCase;if(null==h)g?s.removeStyle(u,c,v):u.style.removeProperty(c);else{const C="string"==typeof h&&h.endsWith("!important");C&&(h=h.slice(0,-10),v|=Hs.Important),g?s.setStyle(u,c,h,v):u.style.setProperty(c,h,C?"important":"")}}}(c,v,su(Tr(),u),h,g))}function UE(s,o,u,c,h,g){const v=null===o;let C;for(;h>0;){const I=s[h],D=Array.isArray(I),A=D?I[1]:I,N=null===A;let R=u[h+1];R===nt&&(R=N?je:void 0);let V=N?cc(R,c):A===c?R:void 0;if(D&&!Bm(V)&&(V=cc(I,c)),Bm(V)&&(C=V,v))return C;const Z=s[h+1];h=v?as(Z):Li(Z)}if(null!==o){let I=g?o.residualClasses:o.residualStyles;null!=I&&(C=cc(I,c))}return C}function Bm(s){return void 0!==s}function zv(s,o){return 0!=(s.flags&(o?16:32))}function Wv(s,o=""){const u=Ie(),c=bt(),h=s+20,g=c.firstCreatePass?Gu(c,h,1,o,null):c.data[h],v=u[h]=function(s,o){return Yt(s)?s.createText(o):s.createTextNode(o)}(u[11],o);Zu(c,u,v,g),ei(g,!1)}function jm(s){return al("",s,""),jm}function al(s,o,u){const c=Ie(),h=Zc(c,s,o,u);return h!==nt&&Lo(c,Tr(),h),al}function Gm(s,o,u){Bi(Zc(Ie(),s,o,u))}function zm(s,o,u,c,h){Bi(Sa(Ie(),s,o,u,c,h))}function tp(s,o,u){const c=Ie();return pr(c,As(),o)&&ii(bt(),Qt(),c,s,o,c[11],u,!0),tp}function r0(s,o,u){const c=Ie();if(pr(c,As(),o)){const g=bt(),v=Qt();ii(g,v,c,s,o,function(s,o,u){return(null===s||_i(s))&&(u=function(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(u[o.index])),u[11]}(bh(g.data),v,c),u,!0)}return r0}const cl=void 0;var JA=["en",[["a","p"],["AM","PM"],cl],[["AM","PM"],cl,cl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],cl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],cl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",cl,"{1} 'at' {0}",cl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(s){const o=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let $o={};function zn(s){const o=function(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=Km(o);if(u)return u;const c=o.split("-")[0];if(u=Km(c),u)return u;if("en"===c)return JA;throw new Error(`Missing locale data for the locale "${s}".`)}function qo(s){return zn(s)[de.PluralCase]}function Km(s){return s in $o||($o[s]=B.ng&&B.ng.common&&B.ng.common.locales&&B.ng.common.locales[s]),$o[s]}var de=(()=>((de=de||{})[de.LocaleId=0]="LocaleId",de[de.DayPeriodsFormat=1]="DayPeriodsFormat",de[de.DayPeriodsStandalone=2]="DayPeriodsStandalone",de[de.DaysFormat=3]="DaysFormat",de[de.DaysStandalone=4]="DaysStandalone",de[de.MonthsFormat=5]="MonthsFormat",de[de.MonthsStandalone=6]="MonthsStandalone",de[de.Eras=7]="Eras",de[de.FirstDayOfWeek=8]="FirstDayOfWeek",de[de.WeekendRange=9]="WeekendRange",de[de.DateFormat=10]="DateFormat",de[de.TimeFormat=11]="TimeFormat",de[de.DateTimeFormat=12]="DateTimeFormat",de[de.NumberSymbols=13]="NumberSymbols",de[de.NumberFormats=14]="NumberFormats",de[de.CurrencyCode=15]="CurrencyCode",de[de.CurrencySymbol=16]="CurrencySymbol",de[de.CurrencyName=17]="CurrencyName",de[de.Currencies=18]="Currencies",de[de.Directionality=19]="Directionality",de[de.PluralCase=20]="PluralCase",de[de.ExtraData=21]="ExtraData",de))();const ze="en-US";let Wn=ze;function Jm(s){tn(s,"Expected localeId to be defined"),"string"==typeof s&&(Wn=s.toLowerCase().replace(/_/g,"-"))}function Oa(s,o,u,c,h){if(s=X(s),Array.isArray(s))for(let g=0;g<s.length;g++)Oa(s[g],o,u,c,h);else{const g=bt(),v=Ie();let C=Wu(s)?s:X(s.provide),I=xa(s);const D=gn(),A=1048575&D.providerIndexes,N=D.directiveStart,R=D.providerIndexes>>20;if(Wu(s)||!s.multi){const V=new mu(I,h,jo),Z=fl(C,o,h?A:A+R,N);-1===Z?(bu(lt(D,v),g,C),li(g,s,o.length),o.push(C),D.directiveStart++,D.directiveEnd++,h&&(D.providerIndexes+=1048576),u.push(V),v.push(V)):(u[Z]=V,v[Z]=V)}else{const V=fl(C,o,A+R,N),Z=fl(C,o,A,A+R),oe=V>=0&&u[V],Q=Z>=0&&u[Z];if(h&&!Q||!h&&!oe){bu(lt(D,v),g,C);const Se=function(s,o,u,c,h){const g=new mu(s,u,jo);return g.multi=[],g.index=o,g.componentProviders=0,C0(g,h,c&&!u),g}(h?b0:pI,u.length,h,c,I);!h&&Q&&(u[Z].providerFactory=Se),li(g,s,o.length,0),o.push(C),D.directiveStart++,D.directiveEnd++,h&&(D.providerIndexes+=1048576),u.push(Se),v.push(Se)}else li(g,s,V>-1?V:Z,C0(u[h?Z:V],I,!h&&c));!h&&c&&Q&&u[Z].componentProviders++}}}function li(s,o,u,c){const h=Wu(o);if(h||function(s){return!!s.useClass}(o)){const v=(o.useClass||o).prototype.ngOnDestroy;if(v){const C=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const I=C.indexOf(u);-1===I?C.push(u,[c,v]):C[I+1].push(c,v)}else C.push(u,v)}}}function C0(s,o,u){return u&&s.componentProviders++,s.multi.push(o)-1}function fl(s,o,u,c){for(let h=u;h<c;h++)if(o[h]===s)return h;return-1}function pI(s,o,u,c){return pl(this.multi,[])}function b0(s,o,u,c){const h=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=Zr(u,u[1],this.providerFactory.index,c);g=C.slice(0,v),pl(h,g);for(let I=v;I<C.length;I++)g.push(C[I])}else g=[],pl(h,g);return g}function pl(s,o){for(let u=0;u<s.length;u++)o.push((0,s[u])());return o}function mI(s,o=[]){return u=>{u.providersResolver=(c,h)=>function(s,o,u){const c=bt();if(c.firstCreatePass){const h=_i(s);Oa(u,c.data,c.blueprint,h,!0),Oa(o,c.data,c.blueprint,h,!1)}}(c,h?h(s):s,o)}}class w0{}const lp="ngComponent";class cx{resolveComponentFactory(o){throw function(s){const o=Error(`No component factory found for ${G(s)}. Did you add it to @NgModule.entryComponents?`);return o[lp]=s,o}(o)}}class Ra{}function dp(...s){}function ml(s,o){return new ci(jr(s,o))}Ra.NULL=new cx;const yI=function(){return ml(gn(),Ie())};let ci=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=yI,s})();function vI(s){return s instanceof ci?s.nativeElement:s}class En{}let s_=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>I0(),s})();const I0=function(){const s=Ie(),u=ur(gn().index,s);return function(s){return s[11]}(Ur(u)?u:s)};let a_=(()=>{class s{}return s.\u0275prov=nn({token:s,providedIn:"root",factory:()=>null}),s})();class dd{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const to=new dd("12.2.5");class T0{constructor(){}supports(o){return Mf(o)}create(o){return new hp(o)}}const bI=(s,o)=>o;class hp{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||bI}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,c=this._removalsHead,h=0,g=null;for(;u||c;){const v=!c||u&&u.currentIndex<St(c,h,g)?u:c,C=St(v,h,g),I=v.currentIndex;if(v===c)h--,c=c._nextRemoved;else if(u=u._next,null==v.previousIndex)h++;else{g||(g=[]);const D=C-h,A=I-h;if(D!=A){for(let R=0;R<D;R++){const V=R<g.length?g[R]:g[R]=0,Z=V+R;A<=Z&&Z<D&&(g[R]=V+1)}g[v.previousIndex]=A-D}}C!==I&&o(v,C,I)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!Mf(o))throw new Error(`Error trying to diff '${G(o)}'. Only arrays and iterables are allowed`);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,g,v,u=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let C=0;C<this.length;C++)g=o[C],v=this._trackByFn(C,g),null!==u&&Object.is(u.trackById,v)?(c&&(u=this._verifyReinsertion(u,g,v,C)),Object.is(u.item,g)||this._addIdentityChange(u,g)):(u=this._mismatch(u,g,v,C),c=!0),u=u._next}else h=0,function(s,o){if(Array.isArray(s))for(let u=0;u<s.length;u++)o(s[u]);else{const u=s[Ju()]();let c;for(;!(c=u.next()).done;)o(c.value)}}(o,C=>{v=this._trackByFn(h,C),null!==u&&Object.is(u.trackById,v)?(c&&(u=this._verifyReinsertion(u,C,v,h)),Object.is(u.item,C)||this._addIdentityChange(u,C)):(u=this._mismatch(u,C,v,h),c=!0),u=u._next,h++}),this.length=h;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,c,h){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,g,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,g,h)):o=this._addAfter(new D0(u,c),g,h),o}_verifyReinsertion(o,u,c,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==g?o=this._reinsertAfter(g,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,g=o._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(o,u,c),this._addToMoves(o,c),o}_moveAfter(o,u,c){return this._unlink(o),this._insertAfter(o,u,c),this._addToMoves(o,c),o}_addAfter(o,u,c){return this._insertAfter(o,u,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,c){const h=null===u?this._itHead:u._next;return o._next=h,o._prev=u,null===h?this._itTail=o:h._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new Rn),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,c=o._next;return null===u?this._itHead=c:u._next=c,null===c?this._itTail=u:c._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Rn),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class D0{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class px{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===u||u<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const u=o._prevDup,c=o._nextDup;return null===u?this._head=c:u._nextDup=c,null===c?this._tail=u:c._prevDup=u,null===this._head}}class Rn{constructor(){this.map=new Map}put(o){const u=o.trackById;let c=this.map.get(u);c||(c=new px,this.map.set(u,c)),c.add(o)}get(o,u){const h=this.map.get(o);return h?h.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function St(s,o,u){const c=s.previousIndex;if(null===c)return c;let h=0;return u&&c<u.length&&(h=u[c]),c+o+h}class A0{constructor(){}supports(o){return o instanceof Map||Nf(o)}create(){return new wI}}class wI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||Nf(o)))throw new Error(`Error trying to diff '${G(o)}'. Only maps and objects are allowed`)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,h)=>{if(u&&u.key===h)this._maybeAddToChanges(u,c),this._appendAfter=u,u=u._next;else{const g=this._getOrCreateRecordForKey(h,c);u=this._insertBeforeOrAppend(u,g)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let c=u;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const c=o._prev;return u._next=o,u._prev=c,o._prev=u,c&&(c._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,u);const g=h._prev,v=h._next;return g&&(g._next=v),v&&(v._prev=g),h._next=null,h._prev=null,h}const c=new Yn(o);return this._records.set(o,c),c.currentValue=u,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(c=>u(o[c],c))}}class Yn{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function fp(){return new Vn([new T0])}let Vn=(()=>{class s{constructor(u){this.factories=u}static create(u,c){if(null!=c){const h=c.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:c=>s.create(u,c||fp()),deps:[[s,new Bs,new xr]]}}find(u){const c=this.factories.find(h=>h.supports(u));if(null!=c)return c;throw new Error(`Cannot find a differ supporting object '${u}' of type '${function(s){return s.name||typeof s}(u)}'`)}}return s.\u0275prov=nn({token:s,providedIn:"root",factory:fp}),s})();function x0(){return new u_([new A0])}let u_=(()=>{class s{constructor(u){this.factories=u}static create(u,c){if(c){const h=c.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:c=>s.create(u,c||x0()),deps:[[s,new Bs,new xr]]}}find(u){const c=this.factories.find(h=>h.supports(u));if(c)return c;throw new Error(`Cannot find a differ supporting object '${u}'`)}}return s.\u0275prov=nn({token:s,providedIn:"root",factory:x0}),s})();function zr(s,o,u,c,h=!1){for(;null!==u;){const g=o[u.index];if(null!==g&&c.push(Jt(g)),Ft(g))for(let C=10;C<g.length;C++){const I=g[C],D=I[1].firstChild;null!==D&&zr(I[1],I,D,c)}const v=u.type;if(8&v)zr(s,o,u.child,c);else if(32&v){const C=hf(u,o);let I;for(;I=C();)c.push(I)}else if(16&v){const C=Tt(o,u);if(Array.isArray(C))c.push(...C);else{const I=pf(o[16]);zr(I[1],I,C,c,!0)}}u=h?u.projectionNext:u.next}return c}class pp{constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,u=o[1];return zr(u,o,u.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Ft(o)){const u=o[8],c=u?u.indexOf(this):-1;c>-1&&(Gy(o,c),ri(u,c))}this._attachedToViewContainer=!1}ew(this._lView[1],this._lView)}onDestroy(o){ww(this._lView[1],this._lView,null,o)}markForCheck(){pv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){gv(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(s,o,u){Ds(!0);try{gv(s,o,u)}finally{Ds(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var o;this._appRef=null,mf(this._lView[1],o=this._lView,o[11],2,null,null)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=o}}class S0 extends pp{constructor(o){super(o),this._view=o}detectChanges(){Nw(this._view)}checkNoChanges(){!function(s){Ds(!0);try{Nw(s)}finally{Ds(!1)}}(this._view)}get context(){return null}}const _x=function(s){return function(s,o,u){if(Ul(s)&&!u){const c=ur(s.index,o);return new pp(c,c)}return 47&s.type?new pp(o[16],o):null}(gn(),Ie(),16==(16&s))};let Ht=(()=>{class s{}return s.__NG_ELEMENT_ID__=_x,s})();const gp=[new A0],c_=new Vn([new T0]),EI=new u_(gp),Cx=function(){return d_(gn(),Ie())};let hd=(()=>{class s{}return s.__NG_ELEMENT_ID__=Cx,s})();const TI=hd,bx=class extends TI{constructor(o,u,c){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=c}createEmbeddedView(o){const u=this._declarationTContainer.tViews,c=Oc(this._declarationLView,u,o,16,null,u.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(c[19]=g.createEmbeddedView(u)),Ef(u,c,o),new pp(c)}};function d_(s,o){return 4&s.type?new bx(o,s,ml(s,o)):null}class hs{}class M0{}const N0=function(){return R0(gn(),Ie())};let _p=(()=>{class s{}return s.__NG_ELEMENT_ID__=N0,s})();const no=_p,h_=class extends no{constructor(o,u,c){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=c}get element(){return ml(this._hostTNode,this._hostLView)}get injector(){return new Qi(this._hostTNode,this._hostLView)}get parentInjector(){const o=Ms(this._hostTNode,this._hostLView);if(Cg(o)){const u=yu(o,this._hostLView),c=_u(o);return new Qi(u[1].data[c+8],u)}return new Qi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=O0(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,u,c){const h=o.createEmbeddedView(u||{});return this.insert(h,c),h}createComponent(o,u,c,h,g){const v=c||this.parentInjector;if(!g&&null==o.ngModule&&v){const I=v.get(hs,null);I&&(g=I)}const C=o.create(v,h,void 0,g);return this.insert(C.hostView,u),C}insert(o,u){const c=o._lView,h=c[1];if(Ft(c[3])){const A=this.indexOf(o);if(-1!==A)this.detach(A);else{const N=c[3],R=new h_(N,N[6],N[3]);R.detach(R.indexOf(o))}}const g=this._adjustIndex(u),v=this._lContainer;!function(s,o,u,c){const h=10+c,g=u.length;c>0&&(u[h-1][4]=o),c<g-10?(o[4]=u[h],ma(u,10+c,o)):(u.push(o),o[4]=null),o[3]=u;const v=o[17];null!==v&&u!==v&&function(s,o){const u=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===u?s[9]=[o]:u.push(o)}(v,o);const C=o[19];null!==C&&C.insertView(s),o[2]|=128}(h,c,v,g);const C=$u(g,v),I=c[11],D=gf(I,v[7]);return null!==D&&function(s,o,u,c,h,g){c[0]=h,c[6]=o,mf(s,c,u,1,h,g)}(h,v[6],I,c,D,C),o.attachToViewContainerRef(),ma(_l(v),g,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=O0(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),c=Gy(this._lContainer,u);c&&(ri(_l(this._lContainer),u),ew(c[1],c))}detach(o){const u=this._adjustIndex(o,-1),c=Gy(this._lContainer,u);return c&&null!=ri(_l(this._lContainer),u)?new pp(c):null}_adjustIndex(o,u=0){return null==o?this.length+u:o}};function O0(s){return s[8]}function _l(s){return s[8]||(s[8]=[])}function R0(s,o){let u;const c=o[s.index];if(Ft(c))u=c;else{let h;if(8&s.type)h=Jt(c);else{const g=o[11];h=g.createComment("");const v=jr(s,o);wn(g,gf(g,v),h,function(s,o){return Yt(s)?s.nextSibling(o):o.nextSibling}(g,v),!1)}o[s.index]=u=fA(c,o,h,s),dm(o,u)}return new h_(u,s,o)}const Dd={};class E_ extends Ra{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=Zn(o);return new zI(u,this.ngModule)}}function $I(s){const o=[];for(let u in s)s.hasOwnProperty(u)&&o.push({propName:s[u],templateName:u});return o}const Vx=new mn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Dc});class zI extends w0{constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=o.selectors.map(cw).join(","),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return $I(this.componentDef.inputs)}get outputs(){return $I(this.componentDef.outputs)}create(o,u,c,h){const g=(h=h||this.ngModule)?function(s,o){return{get:(u,c,h)=>{const g=s.get(u,Dd,h);return g!==Dd||c===Dd?g:o.get(u,c,h)}}}(o,h.injector):o,v=g.get(En,ql),C=g.get(a_,null),I=v.createRenderer(null,this.componentDef),D=this.componentDef.selectors[0][0]||"div",A=c?function(s,o,u){if(Yt(s))return s.selectRootElement(o,u===pn.ShadowDom);let c="string"==typeof o?s.querySelector(o):o;return c.textContent="",c}(I,c,this.componentDef.encapsulation):$y(v.createRenderer(null,this.componentDef),D,function(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(D)),N=this.componentDef.onPush?576:528,R=function(s,o){return{components:[],scheduler:s||Dc,clean:Lc,playerHandler:o||null,flags:0}}(),V=Tf(0,null,null,1,0,null,null,null,null,null),Z=Oc(null,V,R,N,null,null,v,I,C,g);let oe,Q;pu(Z);try{const Se=function(s,o,u,c,h,g){const v=u[1];u[20]=s;const I=Gu(v,20,2,"#host",null),D=I.mergedAttrs=o.hostAttrs;null!==D&&(fm(I,D,!0),null!==s&&(Xt(h,s,D),null!==I.classes&&Wg(h,s,I.classes),null!==I.styles&&xc(h,s,I.styles)));const A=c.createRenderer(s,o),N=Oc(u,kc(o),null,o.onPush?64:16,u[20],I,c,A,g||null,null);return v.firstCreatePass&&(bu(lt(I,u),v,o.type),Dw(v,I),Aw(I,u.length,1)),dm(u,N),u[20]=N}(A,this.componentDef,Z,v,I);if(A)if(c)Xt(I,A,["ng-version",to.full]);else{const{attrs:ye,classes:Qe}=function(s){const o=[],u=[];let c=1,h=2;for(;c<s.length;){let g=s[c];if("string"==typeof g)2===h?""!==g&&o.push(g,s[++c]):8===h&&u.push(g);else{if(!os(h))break;h=g}c++}return{attrs:o,classes:u}}(this.componentDef.selectors[0]);ye&&Xt(I,A,ye),Qe&&Qe.length>0&&Wg(I,A,Qe.join(" "))}if(Q=Es(V,20),void 0!==u){const ye=Q.projection=[];for(let Qe=0;Qe<this.ngContentSelectors.length;Qe++){const ut=u[Qe];ye.push(null!=ut?Array.from(ut):null)}}oe=function(s,o,u,c,h){const g=u[1],v=function(s,o,u){const c=gn();s.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),hv(s,c,o,Fo(s,o,1,null),u));const h=Zr(o,s,c.directiveStart,c);Mn(h,o);const g=jr(c,o);return g&&Mn(g,o),h}(g,u,o);if(c.components.push(v),s[8]=v,h&&h.forEach(I=>I(v,o)),o.contentQueries){const I=gn();o.contentQueries(1,v,I.directiveStart)}const C=gn();return!g.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(bo(C.index),Fc(u[1],C,0,C.directiveStart,C.directiveEnd,o),Tw(o,v)),v}(Se,this.componentDef,Z,R,[NA]),Ef(V,Z,null)}finally{vg()}return new Y0(this.componentType,oe,ml(Q,Z),Z,Q)}}class Y0 extends class{}{constructor(o,u,c,h,g){super(),this.location=c,this._rootLView=h,this._tNode=g,this.instance=u,this.hostView=this.changeDetectorRef=new S0(h),this.componentType=o}get injector(){return new Qi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}const Il=new Map;class Bx extends hs{constructor(o,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new E_(this);const c=or(o),h=o[Ct]||null;h&&Jm(h),this._bootstrapComponents=Cn(c.bootstrap),this._r3Injector=Vw(o,u,[{provide:hs,useValue:this},{provide:Ra,useValue:this.componentFactoryResolver}],G(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,u=Lt.THROW_IF_NOT_FOUND,c=De.Default){return o===Lt||o===hs||o===Vo?this:this._r3Injector.get(o,u,c)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Tp extends M0{constructor(o){super(),this.moduleType=o,null!==or(o)&&function(s){const o=new Set;!function u(c){const h=or(c,!0),g=h.id;null!==g&&(function(s,o,u){if(o&&o!==u)throw new Error(`Duplicate module registered for ${s} - ${G(o)} vs ${G(o.name)}`)}(g,Il.get(g),c),Il.set(g,c));const v=Cn(h.imports);for(const C of v)o.has(C)||(o.add(C),u(C))}(s)}(o)}create(o){return new Bx(this.moduleType,o)}}function KI(s,o,u){const c=function(){const s=it.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}()+s,h=Ie();return h[c]===nt?function(s,o,u){return s[o]=u}(h,c,u?o.call(u):o()):function(s,o){return s[o]}(h,c)}function Md(s){return o=>{setTimeout(s,void 0,o)}}const hi=class extends d.xQ{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,c){var h,g,v;let C=o,I=u||(()=>null),D=c;if(o&&"object"==typeof o){const N=o;C=null===(h=N.next)||void 0===h?void 0:h.bind(N),I=null===(g=N.error)||void 0===g?void 0:g.bind(N),D=null===(v=N.complete)||void 0===v?void 0:v.bind(N)}this.__isAsync&&(I=Md(I),C&&(C=Md(C)),D&&(D=Md(D)));const A=super.subscribe({next:C,error:I,complete:D});return o instanceof ee.w&&o.add(A),A}};function iC(){return this._results[Ju()]()}class Mp{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Ju(),c=Mp.prototype;c[u]||(c[u]=iC)}get changes(){return this._changes||(this._changes=new hi)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const c=this;c.dirty=!1;const h=Dr(o);(this._changesDetected=!function(s,o,u){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++){let h=s[c],g=o[c];if(u&&(h=u(h),g=u(g)),g!==h)return!1}return!0}(c._results,h,u))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class sC{constructor(o){this.queryList=o,this.matches=null}clone(){return new sC(this.queryList)}setDirty(){this.queryList.setDirty()}}class oC{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const c=null!==o.contentQueries?o.contentQueries[0]:u.length,h=[];for(let g=0;g<c;g++){const v=u.getByIndex(g);h.push(this.queries[v.indexInDeclarationView].clone())}return new oC(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==M_(o,u).matches&&this.queries[u].setDirty()}}class Nd{constructor(o,u,c=null){this.predicate=o,this.flags=u,this.read=c}}class Np{constructor(o=[]){this.queries=o}elementStart(o,u){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let c=0;c<this.length;c++){const h=null!==u?u.length:0,g=this.getByIndex(c).embeddedTView(o,h);g&&(g.indexInDeclarationView=c,null!==u?u.push(g):u=[g])}return null!==u?new Np(u):null}template(o,u){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class ja{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new ja(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==u;)c=c.parent;return u===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const g=c[h];this.matchTNodeWithReadOption(o,u,aC(u,g)),this.matchTNodeWithReadOption(o,u,Ns(u,o,g,!1,!1))}else c===hd?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,Ns(u,o,c,!1,!1))}matchTNodeWithReadOption(o,u,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===ci||h===_p||h===hd&&4&u.type)this.addMatch(u.index,-2);else{const g=Ns(u,o,h,!1,!1);null!==g&&this.addMatch(u.index,g)}else this.addMatch(u.index,c)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function aC(s,o){const u=s.localNames;if(null!==u)for(let c=0;c<u.length;c+=2)if(u[c]===o)return u[c+1];return null}function Op(s,o,u,c){return-1===u?function(s,o){return 11&s.type?ml(s,o):4&s.type?d_(s,o):null}(o,s):-2===u?function(s,o,u){return u===ci?ml(o,s):u===hd?d_(o,s):u===_p?R0(o,s):void 0}(s,o,c):Zr(s,s[1],u,o)}function lC(s,o,u,c){const h=o[19].queries[c];if(null===h.matches){const g=s.data,v=u.matches,C=[];for(let I=0;I<v.length;I+=2){const D=v[I];C.push(D<0?null:Op(o,g[D],v[I+1],u.metadata.read))}h.matches=C}return h.matches}function Rp(s,o,u,c){const h=s.queries.getByIndex(u),g=h.matches;if(null!==g){const v=lC(s,o,h,u);for(let C=0;C<g.length;C+=2){const I=g[C];if(I>0)c.push(v[C/2]);else{const D=g[C+1],A=o[-I];for(let N=10;N<A.length;N++){const R=A[N];R[17]===R[3]&&Rp(R[1],R,D,c)}if(null!==A[9]){const N=A[9];for(let R=0;R<N.length;R++){const V=N[R];Rp(V[1],V,D,c)}}}}}return c}function x_(s){const o=Ie(),u=bt(),c=Co();wh(c+1);const h=M_(u,c);if(s.dirty&&au(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?Rp(u,o,c,[]):lC(u,o,h,c);s.reset(g,vI),s.notifyOnChanges()}return!0}return!1}function cC(s,o,u,c){const h=bt();if(h.firstCreatePass){const g=gn();(function(s,o,u){null===s.queries&&(s.queries=new Np),s.queries.track(new ja(o,u))})(h,new Nd(o,u,c),g.index),function(s,o){const u=s.contentQueries||(s.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,o)}(h,s),2==(2&u)&&(h.staticContentQueries=!0)}!function(s,o,u){const c=new Mp(4==(4&u));ww(s,o,c,c.destroy),null===o[19]&&(o[19]=new oC),o[19].queries.push(new sC(c))}(h,Ie(),u)}function XI(){return s=Ie(),o=Co(),s[19].queries[o].queryList;var s,o}function M_(s,o){return s.queries.getByIndex(o)}const NC=new mn("Application Initializer");let Za=(()=>{class s{constructor(u){this.appInits=u,this.resolve=dp,this.reject=dp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h})}runInitializers(){if(this.initialized)return;const u=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(Bv(g))u.push(g);else if(Fm(g)){const v=new Promise((C,I)=>{g.subscribe({complete:C,error:I})});u.push(v)}}Promise.all(u).then(()=>{c()}).catch(h=>{this.reject(h)}),0===u.length&&c(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)(Zt(NC,8))},s.\u0275prov=nn({token:s,factory:s.\u0275fac}),s})();const bT=new mn("AppId"),wT={provide:bT,useFactory:function(){return`${Lp()}${Lp()}${Lp()}`},deps:[]};function Lp(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const RC=new mn("Platform Initializer"),ET=new mn("Platform ID"),IT=new mn("appBootstrapListener");let DT=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=nn({token:s,factory:s.\u0275fac}),s})();const Fd=new mn("LocaleId"),V_=new mn("DefaultCurrencyCode");class ST{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}const kC=function(s){return new Tp(s)},l1=kC,FC=function(s){return Promise.resolve(kC(s))},U_=function(s){const o=kC(s),c=Cn(or(s).declarations).reduce((h,g)=>{const v=Zn(g);return v&&h.push(new zI(v)),h},[]);return new ST(o,c)},LC=U_,UC=function(s){return Promise.resolve(U_(s))};let Vd=(()=>{class s{constructor(){this.compileModuleSync=l1,this.compileModuleAsync=FC,this.compileModuleAndAllComponentsSync=LC,this.compileModuleAndAllComponentsAsync=UC}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=nn({token:s,factory:s.\u0275fac}),s})();const jC=(()=>Promise.resolve(0))();function $a(s){"undefined"==typeof Zone?jC.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class xi{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new hi(!1),this.onMicrotaskEmpty=new hi(!1),this.onStable=new hi(!1),this.onError=new hi(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&u,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function(){let s=B.requestAnimationFrame,o=B.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function(s){const o=()=>{!function(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(B,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,B_(s),s.isCheckStableRunning=!0,ZC(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),B_(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,c,h,g,v,C)=>{try{return RT(s),u.invokeTask(h,g,v,C)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),PT(s)}},onInvoke:(u,c,h,g,v,C,I)=>{try{return RT(s),u.invoke(h,g,v,C,I)}finally{s.shouldCoalesceRunChangeDetection&&o(),PT(s)}},onHasTask:(u,c,h,g)=>{u.hasTask(h,g),c===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,B_(s),ZC(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(u,c,h,g)=>(u.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!xi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(xi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,u,c){return this._inner.run(o,u,c)}runTask(o,u,c,h){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+h,o,h1,dp,dp);try{return g.runTask(v,u,c)}finally{g.cancelTask(v)}}runGuarded(o,u,c){return this._inner.runGuarded(o,u,c)}runOutsideAngular(o){return this._outer.run(o)}}const h1={};function ZC(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function B_(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function RT(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function PT(s){s._nesting--,ZC(s)}class p1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new hi,this.onMicrotaskEmpty=new hi,this.onStable=new hi,this.onError=new hi}run(o,u,c){return o.apply(u,c)}runGuarded(o,u,c){return o.apply(u,c)}runOutsideAngular(o){return o()}runTask(o,u,c,h){return o.apply(u,c)}}let kT=(()=>{class s{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{xi.assertNotInAngularZone(),$a(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())$a(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(u)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,c,h){let g=-1;c&&c>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),u(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:u,timeoutId:g,updateCb:h})}whenStable(u,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,c,h){return[]}}return s.\u0275fac=function(u){return new(u||s)(Zt(xi))},s.\u0275prov=nn({token:s,factory:s.\u0275fac}),s})(),FT=(()=>{class s{constructor(){this._applications=new Map,Vp.addToWindow(this)}registerApplication(u,c){this._applications.set(u,c)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,c=!0){return Vp.findTestabilityInTree(this,u,c)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=nn({token:s,factory:s.\u0275fac}),s})();class Ud{addToWindow(o){}findTestabilityInTree(o,u,c){return null}}function LT(s){Vp=s}let Vp=new Ud,$C=!0,qC=!1;function j_(){return qC=!0,$C}function H_(){if(qC)throw new Error("Cannot enable prod mode after platform setup.");$C=!1}let mt;const Bp=new mn("AllowMultipleToken");class UT{constructor(o,u){this.name=o,this.token=u}}function jT(s,o,u=[]){const c=`Platform: ${o}`,h=new mn(c);return(g=[])=>{let v=HT();if(!v||v.injector.get(Bp,!1))if(s)s(u.concat(g).concat({provide:h,useValue:!0}));else{const C=u.concat(g).concat({provide:h,useValue:!0},{provide:qs,useValue:"platform"});!function(s){if(mt&&!mt.destroyed&&!mt.injector.get(Bp,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");mt=s.get(Dn);const o=s.get(RC,null);o&&o.forEach(u=>u())}(Lt.create({providers:C,name:c}))}return function(s){const o=HT();if(!o)throw new Error("No platform exists!");if(!o.injector.get(s,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return o}(h)}}function HT(){return mt&&!mt.destroyed?mt:null}let Dn=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,c){const C=function(s,o){let u;return u="noop"===s?new p1:("zone.js"===s?void 0:s)||new xi({enableLongStackTrace:j_(),shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),u}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),I=[{provide:xi,useValue:C}];return C.run(()=>{const D=Lt.create({providers:I,parent:this.injector,name:u.moduleType.name}),A=u.create(D),N=A.injector.get($,null);if(!N)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return C.runOutsideAngular(()=>{const R=C.onError.subscribe({next:V=>{N.handleError(V)}});A.onDestroy(()=>{zC(this._modules,A),R.unsubscribe()})}),function(s,o,u){try{const c=u();return Bv(c)?c.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):c}catch(c){throw o.runOutsideAngular(()=>s.handleError(c)),c}}(N,C,()=>{const R=A.injector.get(Za);return R.runInitializers(),R.donePromise.then(()=>(Jm(A.injector.get(Fd,ze)||ze),this._moduleDoBootstrap(A),A))})})}bootstrapModule(u,c=[]){const h=jn({},c);return function(s,o,u){const c=new Tp(u);return Promise.resolve(c)}(0,0,u).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(u){const c=u.injector.get(Bd);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!u.instance.ngDoBootstrap)throw new Error(`The module ${G(u.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);u.instance.ngDoBootstrap(c)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(Zt(Lt))},s.\u0275prov=nn({token:s,factory:s.\u0275fac}),s})();function jn(s,o){return Array.isArray(o)?o.reduce(jn,s):Object.assign(Object.assign({},s),o)}let Bd=(()=>{class s{constructor(u,c,h,g,v){this._zone=u,this._injector=c,this._exceptionHandler=h,this._componentFactoryResolver=g,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const C=new U.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),I=new U.y(D=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{xi.assertNotInAngularZone(),$a(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const N=this._zone.onUnstable.subscribe(()=>{xi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{A.unsubscribe(),N.unsubscribe()}});this.isStable=(0,me.T)(C,I.pipe(s=>(0,fe.x)()(function(s,o){return function(c){let h;h="function"==typeof s?s:function(){return s};const g=Object.create(c,ge.N);return g.source=c,g.subjectFactory=h,g}}(q)(s))))}bootstrap(u,c){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let h;h=u instanceof w0?u:this._componentFactoryResolver.resolveComponentFactory(u),this.componentTypes.push(h.componentType);const g=function(s){return s.isBoundToModule}(h)?void 0:this._injector.get(hs),C=h.create(Lt.NULL,[],c||h.selector,g),I=C.location.nativeElement,D=C.injector.get(kT,null),A=D&&C.injector.get(FT);return D&&A&&A.registerApplication(I,D),C.onDestroy(()=>{this.detachView(C.hostView),zC(this.components,C),A&&A.unregisterApplication(I)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const c=u;this._views.push(c),c.attachToAppRef(this)}detachView(u){const c=u;zC(this._views,c),c.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(IT,[]).concat(this._bootstrapListeners).forEach(h=>h(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(u){return new(u||s)(Zt(xi),Zt(Lt),Zt($),Zt(Ra),Zt(Za))},s.\u0275prov=nn({token:s,factory:s.\u0275fac}),s})();function zC(s,o){const u=s.indexOf(o);u>-1&&s.splice(u,1)}class y1{}class GT{}const ta={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let iM=(()=>{class s{constructor(u,c){this._compiler=u,this._config=c||ta}load(u){return this.loadAndCompile(u)}loadAndCompile(u){let[c,h]=u.split("#");return void 0===h&&(h="default"),L(8255)(c).then(g=>g[h]).then(g=>ps(g,c,h)).then(g=>this._compiler.compileModuleAsync(g))}loadFactory(u){let[c,h]=u.split("#"),g="NgFactory";return void 0===h&&(h="default",g=""),L(8255)(this._config.factoryPathPrefix+c+this._config.factoryPathSuffix).then(v=>v[h+g]).then(v=>ps(v,c,h))}}return s.\u0275fac=function(u){return new(u||s)(Zt(Vd),Zt(GT,8))},s.\u0275prov=nn({token:s,factory:s.\u0275fac}),s})();function ps(s,o,u){if(!s)throw new Error(`Cannot find '${u}' in '${o}'`);return s}const XC=function(s){return null},na=jT(null,"core",[{provide:ET,useValue:"unknown"},{provide:Dn,deps:[Lt]},{provide:FT,deps:[]},{provide:DT,deps:[]}]),Wp=[{provide:Bd,useClass:Bd,deps:[xi,Lt,$,Ra,Za]},{provide:Vx,deps:[xi],useFactory:function(s){let o=[];return s.onStable.subscribe(()=>{for(;o.length;)o.pop()()}),function(u){o.push(u)}}},{provide:Za,useClass:Za,deps:[[new xr,NC]]},{provide:Vd,useClass:Vd,deps:[]},wT,{provide:Vn,useFactory:function(){return c_},deps:[]},{provide:u_,useFactory:function(){return EI},deps:[]},{provide:Fd,useFactory:function(s){return Jm(s=s||"undefined"!=typeof $localize&&$localize.locale||ze),s},deps:[[new ts(Fd),new xr,new Bs]]},{provide:V_,useValue:"USD"}];let D1=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(Zt(Bd))},s.\u0275mod=Ya({type:s}),s.\u0275inj=gi({providers:Wp}),s})()},8939:(We,we,L)=>{"use strict";L.d(we,{hO:()=>G,xv:()=>q,Dh:()=>fe,GT:()=>se,on:()=>P,pX:()=>ge});var d=L(3018),ee=L(7841),U=L(9126);We=L.hmd(We);const me=["ngOnDestroy"],ge=(Y,he,ne,X={})=>new Proxy(Y,{get:(Oe,Ne)=>ne.runOutsideAngular(()=>{var xe;if(Y[Ne])return(null===(xe=null==X?void 0:X.spy)||void 0===xe?void 0:xe.get)&&X.spy.get(Ne,Y[Ne]),Y[Ne];if(me.indexOf(Ne)>-1)return()=>{};const Ve=he.toPromise().then(Ue=>{const Fe=Ue&&Ue[Ne];return"function"==typeof Fe?Fe.bind(Ue):Fe&&Fe.then?Fe.then(pt=>ne.run(()=>pt)):ne.run(()=>Fe)});return new Proxy(()=>{},{get:(Ue,Fe)=>Ve[Fe],apply:(Ue,Fe,pt)=>Ve.then(Dt=>{var be;const ie=Dt&&Dt(...pt);return(null===(be=null==X?void 0:X.spy)||void 0===be?void 0:be.apply)&&X.spy.apply(Ne,pt,ie),ie})})})}),se=(Y,he)=>{he.forEach(ne=>{Object.getOwnPropertyNames(ne.prototype||ne).forEach(X=>{Object.defineProperty(Y.prototype,X,Object.getOwnPropertyDescriptor(ne.prototype||ne,X))})})};class _e{constructor(he){return he}}const fe=new d.OlP("angularfire2.app.options"),q=new d.OlP("angularfire2.app.name");function P(Y,he,ne){const Oe="object"==typeof ne&&ne||{};Oe.name=Oe.name||"string"==typeof ne&&ne||"[DEFAULT]";const xe=ee.Z.apps.filter(Ve=>Ve&&Ve.name===Oe.name)[0]||he.runOutsideAngular(()=>ee.Z.initializeApp(Y,Oe));try{JSON.stringify(Y)!==JSON.stringify(xe.options)&&F("error",`${xe.name} Firebase App already initialized with different options${We.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ve){}return new _e(xe)}const F=(Y,...he)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[Y](...he)},W={provide:_e,useFactory:P,deps:[fe,d.R0b,[new d.FiY,q]]};let G=(()=>{class Y{constructor(ne){ee.Z.registerVersion("angularfire",U.q4.full,"core"),ee.Z.registerVersion("angularfire",U.q4.full,"app-compat"),ee.Z.registerVersion("angular",d.q4F.full,ne.toString())}static initializeApp(ne,X){return{ngModule:Y,providers:[{provide:fe,useValue:ne},{provide:q,useValue:X}]}}}return Y.\u0275fac=function(ne){return new(ne||Y)(d.LFG(d.Lbi))},Y.\u0275mod=d.oAB({type:Y}),Y.\u0275inj=d.cJS({providers:[W]}),Y})()},9126:(We,we,L)=>{"use strict";L.d(we,{q4:()=>P,iC:()=>ie,HU:()=>Ve,cc:()=>G});var d=L(3018);(0,L(5452).registerVersion)("firebase","9.1.0","app");var ge=L(7771),se=L(3637),_e=L(3342),fe=L(3101),q=L(309);We=L.hmd(We);const P=new d.GfV("7.0.4"),F=!!We.hot,W=(le,...J)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[le](...J)};function G(le,J,Me,Ke,yt){const[,tt,gt]=globalThis.\u0275AngularfireInstanceCache.find(Kt=>Kt[0]===le)||[];if(tt)return function(le,J){try{return le.toString()===J.toString()}catch(Me){return le===J}}(yt,gt)||(W("error",`${J} was already initialized on the ${Me} Firebase App with different settings.${F?" You may need to reload as Firebase is not HMR aware.":""}`),W("warn",{is:yt,was:gt})),tt;{const Kt=Ke();return globalThis.\u0275AngularfireInstanceCache.push([le,Kt,yt]),Kt}}function Oe(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class Ne{constructor(J,Me=ge.N){this.zone=J,this.delegate=Me}now(){return this.delegate.now()}schedule(J,Me,Ke){const yt=this.zone;return this.delegate.schedule(function(gt){yt.runGuarded(()=>{J.apply(this,[gt])})},Me,Ke)}}class xe{constructor(J){this.zone=J,this.task=null}call(J,Me){const Ke=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Oe,{},Oe,Oe)),Me.pipe((0,_e.b)({next:Ke,complete:Ke,error:Ke})).subscribe(J).add(Ke)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ve=(()=>{class le{constructor(Me){this.ngZone=Me,this.outsideAngular=Me.runOutsideAngular(()=>new Ne(Zone.current)),this.insideAngular=Me.run(()=>new Ne(Zone.current,se.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return le.\u0275fac=function(Me){return new(Me||le)(d.LFG(d.R0b))},le.\u0275prov=d.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"}),le})();function Ue(){const le=globalThis.\u0275AngularFireScheduler;if(!le)throw new Error("AngularFireModule has not been provided");return le}function ie(le){return Ue(),function(le){return function(Me){return(Me=Me.lift(new xe(le.ngZone))).pipe((0,fe.R)(le.outsideAngular),(0,q.QV)(le.insideAngular))}}(Ue())(le)}},4486:(We,we,L)=>{"use strict";L.d(we,{Z:()=>he});var d=L(3854),ee=L(6034),U=L(5452),me=L(5601);class ge{constructor(X,Oe){this._delegate=X,this.firebase=Oe,(0,U._addComponent)(X,new ee.wA("app-compat",()=>this,"PUBLIC")),this.container=X.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(X){this._delegate.automaticDataCollectionEnabled=X}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(X=>{this._delegate.checkDestroyed(),X()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,U.deleteApp)(this._delegate)))}_getService(X,Oe=U._DEFAULT_ENTRY_NAME){var Ne;this._delegate.checkDestroyed();const xe=this._delegate.container.getProvider(X);return!xe.isInitialized()&&"EXPLICIT"===(null===(Ne=xe.getComponent())||void 0===Ne?void 0:Ne.instantiationMode)&&xe.initialize(),xe.getImmediate({identifier:Oe})}_removeServiceInstance(X,Oe=U._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(X).clearInstance(Oe)}_addComponent(X){(0,U._addComponent)(this._delegate,X)}_addOrOverwriteComponent(X){(0,U._addOrOverwriteComponent)(this._delegate,X)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const _e=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),P=function q(){const ne=function(ne){const X={},Oe={__esModule:!0,initializeApp:function(Dt,be={}){const ie=U.initializeApp(Dt,be);if((0,d.r3)(X,ie.name))return X[ie.name];const ae=new ne(ie,Oe);return X[ie.name]=ae,ae},app:xe,registerVersion:U.registerVersion,setLogLevel:U.setLogLevel,onLog:U.onLog,apps:null,SDK_VERSION:U.SDK_VERSION,INTERNAL:{registerComponent:function(Dt){const be=Dt.name,ie=be.replace("-compat","");if(U._registerComponent(Dt)&&"PUBLIC"===Dt.type){const ae=(ce=xe())=>{if("function"!=typeof ce[ie])throw _e.create("invalid-app-argument",{appName:be});return ce[ie]()};void 0!==Dt.serviceProps&&(0,d.ZB)(ae,Dt.serviceProps),Oe[ie]=ae,ne.prototype[ie]=function(...ce){return this._getService.bind(this,be).apply(this,Dt.multipleInstances?ce:[])}}return"PUBLIC"===Dt.type?Oe[ie]:null},removeApp:function(Dt){delete X[Dt]},useAsService:function(Dt,be){return"serverAuth"===be?null:be},modularAPIs:U}};function xe(Dt){if(!(0,d.r3)(X,Dt=Dt||U._DEFAULT_ENTRY_NAME))throw _e.create("no-app",{appName:Dt});return X[Dt]}return Oe.default=Oe,Object.defineProperty(Oe,"apps",{get:function(){return Object.keys(X).map(Dt=>X[Dt])}}),xe.App=ne,Oe}(ge);return ne.INTERNAL=Object.assign(Object.assign({},ne.INTERNAL),{createFirebaseNamespace:q,extendNamespace:function(Oe){(0,d.ZB)(ne,Oe)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),ne}(),F=new me.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){F.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ne=self.firebase.SDK_VERSION;ne&&ne.indexOf("LITE")>=0&&F.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const he=P;(0,U.registerVersion)("@firebase/app-compat","0.1.2",undefined)},5452:(We,we,L)=>{"use strict";L.r(we),L.d(we,{FirebaseError:()=>me.ZR,SDK_VERSION:()=>pi,_DEFAULT_ENTRY_NAME:()=>yt,_addComponent:()=>hn,_addOrOverwriteComponent:()=>Qr,_apps:()=>gt,_clearComponents:()=>Nt,_components:()=>Kt,_getProvider:()=>tn,_registerComponent:()=>Xr,_removeServiceInstance:()=>rt,deleteApp:()=>ys,getApp:()=>wr,getApps:()=>ra,initializeApp:()=>gi,onLog:()=>Sn,registerVersion:()=>vs,setLogLevel:()=>kr});var d=L(8239),ee=L(6034),U=L(5601),me=L(3854);class ge{constructor(De){this.container=De}getPlatformInfoString(){return this.container.getProviders().map(Bt=>{if(function(st){const De=st.getComponent();return"VERSION"===(null==De?void 0:De.type)}(Bt)){const rn=Bt.getImmediate();return`${rn.library}/${rn.version}`}return null}).filter(Bt=>Bt).join(" ")}}const _e="@firebase/app",q=new U.Yd("@firebase/app"),yt="[DEFAULT]",tt={[_e]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},gt=new Map,Kt=new Map;function hn(st,De){try{st.container.addComponent(De)}catch(Bt){q.debug(`Component ${De.name} failed to register with FirebaseApp ${st.name}`,Bt)}}function Qr(st,De){st.container.addOrOverwriteComponent(De)}function Xr(st){const De=st.name;if(Kt.has(De))return q.debug(`There were multiple attempts to register component ${De}.`),!1;Kt.set(De,st);for(const Bt of gt.values())hn(Bt,st);return!0}function tn(st,De){return st.container.getProvider(De)}function rt(st,De,Bt=yt){tn(st,De).clearInstance(Bt)}function Nt(){Kt.clear()}const qi=new me.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class nn{constructor(De,Bt,rn){this._isDeleted=!1,this._options=Object.assign({},De),this._config=Object.assign({},Bt),this._name=Bt.name,this._automaticDataCollectionEnabled=Bt.automaticDataCollectionEnabled,this._container=rn,this.container.addComponent(new ee.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(De){this.checkDestroyed(),this._automaticDataCollectionEnabled=De}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(De){this._isDeleted=De}checkDestroyed(){if(this.isDeleted)throw qi.create("app-deleted",{appName:this._name})}}const pi="9.1.0";function gi(st,De={}){"object"!=typeof De&&(De={name:De});const Bt=Object.assign({name:yt,automaticDataCollectionEnabled:!1},De),rn=Bt.name;if("string"!=typeof rn||!rn)throw qi.create("bad-app-name",{appName:String(rn)});const sn=gt.get(rn);if(sn){if((0,me.vZ)(st,sn.options)&&(0,me.vZ)(Bt,sn.config))return sn;throw qi.create("duplicate-app",{appName:rn})}const Ot=new ee.H0(rn);for(const Je of Kt.values())Ot.addComponent(Je);const Ge=new nn(st,Bt,Ot);return gt.set(rn,Ge),Ge}function wr(st=yt){const De=gt.get(st);if(!De)throw qi.create("no-app",{appName:st});return De}function ra(){return Array.from(gt.values())}function ys(st){return uo.apply(this,arguments)}function uo(){return(uo=(0,d.Z)(function*(st){const De=st.name;gt.has(De)&&(gt.delete(De),yield Promise.all(st.container.getProviders().map(Bt=>Bt.delete())),st.isDeleted=!0)})).apply(this,arguments)}function vs(st,De,Bt){var rn;let sn=null!==(rn=tt[st])&&void 0!==rn?rn:st;Bt&&(sn+=`-${Bt}`);const Ot=sn.match(/\s|\//),Ge=De.match(/\s|\//);if(Ot||Ge){const Je=[`Unable to register library "${sn}" with version "${De}":`];return Ot&&Je.push(`library name "${sn}" contains illegal characters (whitespace or "/")`),Ot&&Ge&&Je.push("and"),Ge&&Je.push(`version name "${De}" contains illegal characters (whitespace or "/")`),void q.warn(Je.join(" "))}Xr(new ee.wA(`${sn}-version`,()=>({library:sn,version:De}),"VERSION"))}function Sn(st,De){if(null!==st&&"function"!=typeof st)throw qi.create("invalid-log-argument");(0,U.Am)(st,De)}function kr(st){(0,U.Ub)(st)}Xr(new ee.wA("platform-logger",De=>new ge(De),"PRIVATE")),vs(_e,"0.7.1",undefined),vs("fire-js","")},6034:(We,we,L)=>{"use strict";L.d(we,{wA:()=>U,H0:()=>fe});var d=L(4762),ee=L(3854),U=function(){function q(P,F,W){this.name=P,this.instanceFactory=F,this.type=W,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return q.prototype.setInstantiationMode=function(P){return this.instantiationMode=P,this},q.prototype.setMultipleInstances=function(P){return this.multipleInstances=P,this},q.prototype.setServiceProps=function(P){return this.serviceProps=P,this},q.prototype.setInstanceCreatedCallback=function(P){return this.onInstanceCreated=P,this},q}(),me="[DEFAULT]",ge=function(){function q(P,F){this.name=P,this.container=F,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return q.prototype.get=function(P){var F=this.normalizeInstanceIdentifier(P);if(!this.instancesDeferred.has(F)){var W=new ee.BH;if(this.instancesDeferred.set(F,W),this.isInitialized(F)||this.shouldAutoInitialize())try{var G=this.getOrInitializeService({instanceIdentifier:F});G&&W.resolve(G)}catch(Y){}}return this.instancesDeferred.get(F).promise},q.prototype.getImmediate=function(P){var F,W=this.normalizeInstanceIdentifier(null==P?void 0:P.identifier),G=null!==(F=null==P?void 0:P.optional)&&void 0!==F&&F;if(!this.isInitialized(W)&&!this.shouldAutoInitialize()){if(G)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:W})}catch(Y){if(G)return null;throw Y}},q.prototype.getComponent=function(){return this.component},q.prototype.setComponent=function(P){var F,W;if(P.name!==this.name)throw Error("Mismatching Component "+P.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=P,this.shouldAutoInitialize()){if(function(q){return"EAGER"===q.instantiationMode}(P))try{this.getOrInitializeService({instanceIdentifier:me})}catch(xe){}try{for(var G=(0,d.XA)(this.instancesDeferred.entries()),Y=G.next();!Y.done;Y=G.next()){var he=(0,d.CR)(Y.value,2),X=he[1],Oe=this.normalizeInstanceIdentifier(he[0]);try{var Ne=this.getOrInitializeService({instanceIdentifier:Oe});X.resolve(Ne)}catch(xe){}}}catch(xe){F={error:xe}}finally{try{Y&&!Y.done&&(W=G.return)&&W.call(G)}finally{if(F)throw F.error}}}},q.prototype.clearInstance=function(P){void 0===P&&(P=me),this.instancesDeferred.delete(P),this.instancesOptions.delete(P),this.instances.delete(P)},q.prototype.delete=function(){return(0,d.mG)(this,void 0,void 0,function(){var P;return(0,d.Jh)(this,function(F){switch(F.label){case 0:return P=Array.from(this.instances.values()),[4,Promise.all((0,d.ev)((0,d.ev)([],(0,d.CR)(P.filter(function(W){return"INTERNAL"in W}).map(function(W){return W.INTERNAL.delete()}))),(0,d.CR)(P.filter(function(W){return"_delete"in W}).map(function(W){return W._delete()}))))];case 1:return F.sent(),[2]}})})},q.prototype.isComponentSet=function(){return null!=this.component},q.prototype.isInitialized=function(P){return void 0===P&&(P=me),this.instances.has(P)},q.prototype.getOptions=function(P){return void 0===P&&(P=me),this.instancesOptions.get(P)||{}},q.prototype.initialize=function(P){var F,W;void 0===P&&(P={});var G=P.options,Y=void 0===G?{}:G,he=this.normalizeInstanceIdentifier(P.instanceIdentifier);if(this.isInitialized(he))throw Error(this.name+"("+he+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var ne=this.getOrInitializeService({instanceIdentifier:he,options:Y});try{for(var X=(0,d.XA)(this.instancesDeferred.entries()),Oe=X.next();!Oe.done;Oe=X.next()){var Ne=(0,d.CR)(Oe.value,2),Ve=Ne[1];he===this.normalizeInstanceIdentifier(Ne[0])&&Ve.resolve(ne)}}catch(Fe){F={error:Fe}}finally{try{Oe&&!Oe.done&&(W=X.return)&&W.call(X)}finally{if(F)throw F.error}}return ne},q.prototype.onInit=function(P,F){var W,G=this.normalizeInstanceIdentifier(F),Y=null!==(W=this.onInitCallbacks.get(G))&&void 0!==W?W:new Set;Y.add(P),this.onInitCallbacks.set(G,Y);var he=this.instances.get(G);return he&&P(he,G),function(){Y.delete(P)}},q.prototype.invokeOnInitCallbacks=function(P,F){var W,G,Y=this.onInitCallbacks.get(F);if(Y)try{for(var he=(0,d.XA)(Y),ne=he.next();!ne.done;ne=he.next()){var X=ne.value;try{X(P,F)}catch(Oe){}}}catch(Oe){W={error:Oe}}finally{try{ne&&!ne.done&&(G=he.return)&&G.call(he)}finally{if(W)throw W.error}}},q.prototype.getOrInitializeService=function(P){var F=P.instanceIdentifier,W=P.options,G=void 0===W?{}:W,Y=this.instances.get(F);if(!Y&&this.component&&(Y=this.component.instanceFactory(this.container,{instanceIdentifier:se(F),options:G}),this.instances.set(F,Y),this.instancesOptions.set(F,G),this.invokeOnInitCallbacks(Y,F),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,F,Y)}catch(he){}return Y||null},q.prototype.normalizeInstanceIdentifier=function(P){return void 0===P&&(P=me),this.component?this.component.multipleInstances?P:me:P},q.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},q}();function se(q){return q===me?void 0:q}var fe=function(){function q(P){this.name=P,this.providers=new Map}return q.prototype.addComponent=function(P){var F=this.getProvider(P.name);if(F.isComponentSet())throw new Error("Component "+P.name+" has already been registered with "+this.name);F.setComponent(P)},q.prototype.addOrOverwriteComponent=function(P){this.getProvider(P.name).isComponentSet()&&this.providers.delete(P.name),this.addComponent(P)},q.prototype.getProvider=function(P){if(this.providers.has(P))return this.providers.get(P);var F=new ge(P,this);return this.providers.set(P,F),F},q.prototype.getProviders=function(){return Array.from(this.providers.values())},q}()},5601:(We,we,L)=>{"use strict";L.d(we,{in:()=>ee,Yd:()=>_e,Ub:()=>fe,Am:()=>q});const d=[];var ee=(()=>{return(P=ee||(ee={}))[P.DEBUG=0]="DEBUG",P[P.VERBOSE=1]="VERBOSE",P[P.INFO=2]="INFO",P[P.WARN=3]="WARN",P[P.ERROR=4]="ERROR",P[P.SILENT=5]="SILENT",ee;var P})();const U={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},me=ee.INFO,ge={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},se=(P,F,...W)=>{if(F<P.logLevel)return;const G=(new Date).toISOString(),Y=ge[F];if(!Y)throw new Error(`Attempted to log a message with an invalid logType (value: ${F})`);console[Y](`[${G}]  ${P.name}:`,...W)};class _e{constructor(F){this.name=F,this._logLevel=me,this._logHandler=se,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(F){if(!(F in ee))throw new TypeError(`Invalid value "${F}" assigned to \`logLevel\``);this._logLevel=F}setLogLevel(F){this._logLevel="string"==typeof F?U[F]:F}get logHandler(){return this._logHandler}set logHandler(F){if("function"!=typeof F)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=F}get userLogHandler(){return this._userLogHandler}set userLogHandler(F){this._userLogHandler=F}debug(...F){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...F),this._logHandler(this,ee.DEBUG,...F)}log(...F){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...F),this._logHandler(this,ee.VERBOSE,...F)}info(...F){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...F),this._logHandler(this,ee.INFO,...F)}warn(...F){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...F),this._logHandler(this,ee.WARN,...F)}error(...F){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...F),this._logHandler(this,ee.ERROR,...F)}}function fe(P){d.forEach(F=>{F.setLogLevel(P)})}function q(P,F){for(const W of d){let G=null;F&&F.level&&(G=U[F.level]),W.userLogHandler=null===P?null:(Y,he,...ne)=>{const X=ne.map(Oe=>{if(null==Oe)return null;if("string"==typeof Oe)return Oe;if("number"==typeof Oe||"boolean"==typeof Oe)return Oe.toString();if(Oe instanceof Error)return Oe.message;try{return JSON.stringify(Oe)}catch(Ne){return null}}).filter(Oe=>Oe).join(" ");he>=(null!=G?G:Y.logLevel)&&P({level:ee[he].toLowerCase(),message:X,args:ne,type:Y.name})}}}},3854:(We,we,L)=>{"use strict";L.d(we,{BH:()=>G,LL:()=>J,ZR:()=>le,tV:()=>q,r3:()=>tn,Sg:()=>Y,ne:()=>ys,vZ:()=>qi,ZB:()=>F,pd:()=>wr,m9:()=>co,z$:()=>he,jU:()=>Oe,ru:()=>Ne,d:()=>Ve,xb:()=>Nt,w1:()=>Ue,hl:()=>be,uI:()=>ne,UG:()=>X,b$:()=>xe,G6:()=>Dt,Mn:()=>Fe,xO:()=>pi,zd:()=>gi});const me=function(j){const H=[];let B=0;for(let Ee=0;Ee<j.length;Ee++){let re=j.charCodeAt(Ee);re<128?H[B++]=re:re<2048?(H[B++]=re>>6|192,H[B++]=63&re|128):55296==(64512&re)&&Ee+1<j.length&&56320==(64512&j.charCodeAt(Ee+1))?(re=65536+((1023&re)<<10)+(1023&j.charCodeAt(++Ee)),H[B++]=re>>18|240,H[B++]=re>>12&63|128,H[B++]=re>>6&63|128,H[B++]=63&re|128):(H[B++]=re>>12|224,H[B++]=re>>6&63|128,H[B++]=63&re|128)}return H},se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(j,H){if(!Array.isArray(j))throw Error("encodeByteArray takes an array as a parameter");this.init_();const B=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ee=[];for(let re=0;re<j.length;re+=3){const Ze=j[re],je=re+1<j.length,Rt=je?j[re+1]:0,on=re+2<j.length,$t=on?j[re+2]:0;let qt=(15&Rt)<<2|$t>>6,Xn=63&$t;on||(Xn=64,je||(qt=64)),Ee.push(B[Ze>>2],B[(3&Ze)<<4|Rt>>4],B[qt],B[Xn])}return Ee.join("")},encodeString(j,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(j):this.encodeByteArray(me(j),H)},decodeString(j,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(j):function(j){const H=[];let B=0,Ee=0;for(;B<j.length;){const re=j[B++];if(re<128)H[Ee++]=String.fromCharCode(re);else if(re>191&&re<224){const Ze=j[B++];H[Ee++]=String.fromCharCode((31&re)<<6|63&Ze)}else if(re>239&&re<365){const on=((7&re)<<18|(63&j[B++])<<12|(63&j[B++])<<6|63&j[B++])-65536;H[Ee++]=String.fromCharCode(55296+(on>>10)),H[Ee++]=String.fromCharCode(56320+(1023&on))}else{const Ze=j[B++],je=j[B++];H[Ee++]=String.fromCharCode((15&re)<<12|(63&Ze)<<6|63&je)}}return H.join("")}(this.decodeStringToByteArray(j,H))},decodeStringToByteArray(j,H){this.init_();const B=H?this.charToByteMapWebSafe_:this.charToByteMap_,Ee=[];for(let re=0;re<j.length;){const Ze=B[j.charAt(re++)],Rt=re<j.length?B[j.charAt(re)]:0;++re;const $t=re<j.length?B[j.charAt(re)]:64;++re;const Ct=re<j.length?B[j.charAt(re)]:64;if(++re,null==Ze||null==Rt||null==$t||null==Ct)throw Error();Ee.push(Ze<<2|Rt>>4),64!==$t&&(Ee.push(Rt<<4&240|$t>>2),64!==Ct&&Ee.push($t<<6&192|Ct))}return Ee},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let j=0;j<this.ENCODED_VALS.length;j++)this.byteToCharMap_[j]=this.ENCODED_VALS.charAt(j),this.charToByteMap_[this.byteToCharMap_[j]]=j,this.byteToCharMapWebSafe_[j]=this.ENCODED_VALS_WEBSAFE.charAt(j),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[j]]=j,j>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(j)]=j,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(j)]=j)}}},fe=function(j){return function(j){const H=me(j);return se.encodeByteArray(H,!0)}(j).replace(/\./g,"")},q=function(j){try{return se.decodeString(j,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function F(j,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===j&&(j={});break;case Array:j=[];break;default:return H}for(const B in H)!H.hasOwnProperty(B)||!W(B)||(j[B]=F(j[B],H[B]));return j}function W(j){return"__proto__"!==j}class G{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,B)=>{this.resolve=H,this.reject=B})}wrapCallback(H){return(B,Ee)=>{B?this.reject(B):this.resolve(Ee),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(B):H(B,Ee))}}}function Y(j,H){if(j.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ee=H||"demo-project",re=j.iat||0,Ze=j.sub||j.user_id;if(!Ze)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const je=Object.assign({iss:`https://securetoken.google.com/${Ee}`,aud:Ee,iat:re,exp:re+3600,auth_time:re,sub:Ze,user_id:Ze,firebase:{sign_in_provider:"custom",identities:{}}},j);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(je)),""].join(".")}function he(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ne(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(he())}function X(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(j){return!1}}function Oe(){return"object"==typeof self&&self.self===self}function Ne(){const j="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof j&&void 0!==j.id}function xe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ve(){return he().indexOf("Electron/")>=0}function Ue(){const j=he();return j.indexOf("MSIE ")>=0||j.indexOf("Trident/")>=0}function Fe(){return he().indexOf("MSAppHost/")>=0}function Dt(){return!X()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function be(){return"object"==typeof indexedDB}class le extends Error{constructor(H,B,Ee){super(B),this.code=H,this.customData=Ee,this.name="FirebaseError",Object.setPrototypeOf(this,le.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,J.prototype.create)}}class J{constructor(H,B,Ee){this.service=H,this.serviceName=B,this.errors=Ee}create(H,...B){const Ee=B[0]||{},re=`${this.service}/${H}`,Ze=this.errors[H],je=Ze?function(j,H){return j.replace(Ke,(B,Ee)=>{const re=H[Ee];return null!=re?String(re):`<${Ee}?>`})}(Ze,Ee):"Error";return new le(re,`${this.serviceName}: ${je} (${re}).`,Ee)}}const Ke=/\{\$([^}]+)}/g;function tn(j,H){return Object.prototype.hasOwnProperty.call(j,H)}function Nt(j){for(const H in j)if(Object.prototype.hasOwnProperty.call(j,H))return!1;return!0}function qi(j,H){if(j===H)return!0;const B=Object.keys(j),Ee=Object.keys(H);for(const re of B){if(!Ee.includes(re))return!1;const Ze=j[re],je=H[re];if(nn(Ze)&&nn(je)){if(!qi(Ze,je))return!1}else if(Ze!==je)return!1}for(const re of Ee)if(!B.includes(re))return!1;return!0}function nn(j){return null!==j&&"object"==typeof j}function pi(j){const H=[];for(const[B,Ee]of Object.entries(j))Array.isArray(Ee)?Ee.forEach(re=>{H.push(encodeURIComponent(B)+"="+encodeURIComponent(re))}):H.push(encodeURIComponent(B)+"="+encodeURIComponent(Ee));return H.length?"&"+H.join("&"):""}function gi(j){const H={};return j.replace(/^\?/,"").split("&").forEach(Ee=>{if(Ee){const[re,Ze]=Ee.split("=");H[decodeURIComponent(re)]=decodeURIComponent(Ze)}}),H}function wr(j){const H=j.indexOf("?");if(!H)return"";const B=j.indexOf("#",H);return j.substring(H,B>0?B:void 0)}function ys(j,H){const B=new uo(j,H);return B.subscribe.bind(B)}class uo{constructor(H,B){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=B,this.task.then(()=>{H(this)}).catch(Ee=>{this.error(Ee)})}next(H){this.forEachObserver(B=>{B.next(H)})}error(H){this.forEachObserver(B=>{B.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,B,Ee){let re;if(void 0===H&&void 0===B&&void 0===Ee)throw new Error("Missing Observer.");re=function(j,H){if("object"!=typeof j||null===j)return!1;for(const B of["next","error","complete"])if(B in j&&"function"==typeof j[B])return!0;return!1}(H)?H:{next:H,error:B,complete:Ee},void 0===re.next&&(re.next=kr),void 0===re.error&&(re.error=kr),void 0===re.complete&&(re.complete=kr);const Ze=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?re.error(this.finalError):re.complete()}catch(je){}}),this.observers.push(re),Ze}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let B=0;B<this.observers.length;B++)this.sendOne(B,H)}sendOne(H,B){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{B(this.observers[H])}catch(Ee){"undefined"!=typeof console&&console.error&&console.error(Ee)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kr(){}function co(j){return j&&j._delegate?j._delegate:j}},7841:(We,we,L)=>{"use strict";L.d(we,{Z:()=>d.Z});var d=L(4486);d.Z.registerVersion("firebase","9.1.0","app-compat")},670:(We,we,L)=>{"use strict";L.r(we);var d=L(8239),ee=L(4486),U=L(3854),me=L(5452),ge=L(4762),se=L(5601),_e=L(6034);const he=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ne=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},X=new U.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ne=new se.Yd("@firebase/auth");function xe(b,...m){Ne.logLevel<=se.in.ERROR&&Ne.error(`Auth (${me.SDK_VERSION}): ${b}`,...m)}function Ve(b,...m){throw Dt(b,...m)}function Ue(b,...m){return Dt(b,...m)}function Fe(b,m,y){const E=Object.assign(Object.assign({},ne()),{[m]:y});return new U.LL("auth","Firebase",E).create(m,{appName:b.name})}function pt(b,m,y){if(!(m instanceof y))throw y.name!==m.constructor.name&&Ve(b,"argument-error"),Fe(b,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Dt(b,...m){if("string"!=typeof b){const y=m[0],E=[...m.slice(1)];return E[0]&&(E[0].appName=b.name),b._errorFactory.create(y,...E)}return X.create(b,...m)}function be(b,m,...y){if(!b)throw Dt(m,...y)}function ie(b){const m="INTERNAL ASSERTION FAILED: "+b;throw xe(m),new Error(m)}function ae(b,m){b||ie(m)}const ce=new Map;function ue(b){ae(b instanceof Function,"Expected a class definition");let m=ce.get(b);return m?(ae(m instanceof b,"Instance stored in cache mismatched with class"),m):(m=new b,ce.set(b,m),m)}function Me(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function Ke(){return"http:"===yt()||"https:"===yt()}function yt(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Kt{constructor(m,y){this.shortDelay=m,this.longDelay=y,ae(y>m,"Short delay should be less than long delay!"),this.isMobile=(0,U.uI)()||(0,U.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ke()||(0,U.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function hn(b,m){ae(b.emulator,"Emulator should always be set here");const{url:y}=b.emulator;return m?`${y}${m.startsWith("/")?m.slice(1):m}`:y}class Qr{static initialize(m,y,E){this.fetchImpl=m,y&&(this.headersImpl=y),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ie("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ie("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ie("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Xr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},tn=new Kt(3e4,6e4);function rt(b,m){return b.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:b.tenantId}):m}function Nt(b,m,y,E){return ao.apply(this,arguments)}function ao(){return(ao=(0,d.Z)(function*(b,m,y,E,x={}){return qi(b,x,()=>{let O={},$={};E&&("GET"===m?$=E:O={body:JSON.stringify(E)});const pe=(0,U.xO)(Object.assign({key:b.config.apiKey},$)).slice(1),Pe=new(Qr.headers());return Pe.set("Content-Type","application/json"),Pe.set("X-Client-Version",b._getSdkClientVersion()),b.languageCode&&Pe.set("X-Firebase-Locale",b.languageCode),Qr.fetch()(wr(b,b.config.apiHost,y,pe),Object.assign({method:m,headers:Pe,referrerPolicy:"no-referrer"},O))})})).apply(this,arguments)}function qi(b,m,y){return nn.apply(this,arguments)}function nn(){return(nn=(0,d.Z)(function*(b,m,y){b._canInitEmulator=!1;const E=Object.assign(Object.assign({},Xr),m);try{const x=new ra(b),O=yield Promise.race([y(),x.promise]);x.clearNetworkTimeout();const $=yield O.json();if("needConfirmation"in $)throw ys(b,"account-exists-with-different-credential",$);if(O.ok&&!("errorMessage"in $))return $;{const pe=O.ok?$.errorMessage:$.error.message,[Pe,Le]=pe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Pe)throw ys(b,"credential-already-in-use",$);if("EMAIL_EXISTS"===Pe)throw ys(b,"email-already-in-use",$);const et=E[Pe]||Pe.toLowerCase().replace(/[_\s]+/g,"-");if(Le)throw Fe(b,et,Le);Ve(b,et)}}catch(x){if(x instanceof U.ZR)throw x;Ve(b,"network-request-failed")}})).apply(this,arguments)}function pi(b,m,y,E){return gi.apply(this,arguments)}function gi(){return(gi=(0,d.Z)(function*(b,m,y,E,x={}){const O=yield Nt(b,m,y,E,x);return"mfaPendingCredential"in O&&Ve(b,"multi-factor-auth-required",{serverResponse:O}),O})).apply(this,arguments)}function wr(b,m,y,E){const x=`${m}${y}?${E}`;return b.config.emulator?hn(b.config,x):`${b.config.apiScheme}://${x}`}class ra{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((y,E)=>{this.timer=setTimeout(()=>E(Ue(this.auth,"timeout")),tn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ys(b,m,y){const E={appName:b.name};y.email&&(E.email=y.email),y.phoneNumber&&(E.phoneNumber=y.phoneNumber);const x=Ue(b,m,E);return x.customData._tokenResponse=y,x}function vs(){return(vs=(0,d.Z)(function*(b,m){return Nt(b,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function Sn(b,m){return kr.apply(this,arguments)}function kr(){return(kr=(0,d.Z)(function*(b,m){return Nt(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Ka(b,m){return st.apply(this,arguments)}function st(){return(st=(0,d.Z)(function*(b,m){return Nt(b,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function De(b){if(b)try{const m=new Date(Number(b));if(!isNaN(m.getTime()))return m.toUTCString()}catch(m){}}function sn(){return(sn=(0,d.Z)(function*(b,m=!1){const y=(0,U.m9)(b),E=yield y.getIdToken(m),x=Ge(E);be(x&&x.exp&&x.auth_time&&x.iat,y.auth,"internal-error");const O="object"==typeof x.firebase?x.firebase:void 0,$=null==O?void 0:O.sign_in_provider;return{claims:x,token:E,authTime:De(Ot(x.auth_time)),issuedAtTime:De(Ot(x.iat)),expirationTime:De(Ot(x.exp)),signInProvider:$||null,signInSecondFactor:(null==O?void 0:O.sign_in_second_factor)||null}})).apply(this,arguments)}function Ot(b){return 1e3*Number(b)}function Ge(b){const[m,y,E]=b.split(".");if(void 0===m||void 0===y||void 0===E)return xe("JWT malformed, contained fewer than 3 sections"),null;try{const x=(0,U.tV)(y);return x?JSON.parse(x):(xe("Failed to decode base64 JWT payload"),null)}catch(x){return xe("Caught error parsing JWT payload as JSON",x),null}}function fn(b,m){return lo.apply(this,arguments)}function lo(){return(lo=(0,d.Z)(function*(b,m,y=!1){if(y)return m;try{return yield m}catch(E){throw E instanceof U.ZR&&Gi(E)&&b.auth.currentUser===b&&(yield b.auth.signOut()),E}})).apply(this,arguments)}function Gi({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class pn{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var y;if(m){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const x=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(m=!1){var y=this;if(!this.isRunning)return;const E=this.getInterval(m);this.timerId=setTimeout((0,d.Z)(function*(){yield y.iteration()}),E)}iteration(){var m=this;return(0,d.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y.code&&m.schedule(!0))}m.schedule()})()}}class Er{constructor(m,y){this.createdAt=m,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=De(this.lastLoginAt),this.creationTime=De(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function co(b){return j.apply(this,arguments)}function j(){return(j=(0,d.Z)(function*(b){var m;const y=b.auth,E=yield b.getIdToken(),x=yield fn(b,Ka(y,{idToken:E}));be(null==x?void 0:x.users.length,y,"internal-error");const O=x.users[0];b._notifyReloadListener(O);const $=(null===(m=O.providerUserInfo)||void 0===m?void 0:m.length)?re(O.providerUserInfo):[],pe=Ee(b.providerData,$),et=!!b.isAnonymous&&!(b.email&&O.passwordHash||(null==pe?void 0:pe.length)),Xe={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:pe,metadata:new Er(O.createdAt,O.lastLoginAt),isAnonymous:et};Object.assign(b,Xe)})).apply(this,arguments)}function B(){return(B=(0,d.Z)(function*(b){const m=(0,U.m9)(b);yield co(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function Ee(b,m){return[...b.filter(E=>!m.some(x=>x.providerId===E.providerId)),...m]}function re(b){return b.map(m=>{var{providerId:y}=m,E=(0,ge._T)(m,["providerId"]);return{providerId:y,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function je(){return(je=(0,d.Z)(function*(b,m){const y=yield qi(b,{},()=>{const E=(0,U.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:x,apiKey:O}=b.config,$=wr(b,x,"/v1/token",`key=${O}`);return Qr.fetch()($,{method:"POST",headers:{"X-Client-Version":b._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:E})});return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class Rt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){be(m.idToken,"internal-error"),be(void 0!==m.idToken,"internal-error"),be(void 0!==m.refreshToken,"internal-error");const y="expiresIn"in m&&void 0!==m.expiresIn?Number(m.expiresIn):function(b){const m=Ge(b);return be(m,"internal-error"),be(void 0!==m.exp,"internal-error"),be(void 0!==m.iat,"internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,y)}getToken(m,y=!1){var E=this;return(0,d.Z)(function*(){return be(!E.accessToken||E.refreshToken,m,"user-token-expired"),y||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(m,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,y){var E=this;return(0,d.Z)(function*(){const{accessToken:x,refreshToken:O,expiresIn:$}=yield function(b,m){return je.apply(this,arguments)}(m,y);E.updateTokensAndExpiration(x,O,Number($))})()}updateTokensAndExpiration(m,y,E){this.refreshToken=y||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(m,y){const{refreshToken:E,accessToken:x,expirationTime:O}=y,$=new Rt;return E&&(be("string"==typeof E,"internal-error",{appName:m}),$.refreshToken=E),x&&(be("string"==typeof x,"internal-error",{appName:m}),$.accessToken=x),O&&(be("number"==typeof O,"internal-error",{appName:m}),$.expirationTime=O),$}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new Rt,this.toJSON())}_performRefresh(){return ie("not implemented")}}function on(b,m){be("string"==typeof b||void 0===b,"internal-error",{appName:m})}class $t{constructor(m){var{uid:y,auth:E,stsTokenManager:x}=m,O=(0,ge._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new pn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=E,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.metadata=new Er(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(m){var y=this;return(0,d.Z)(function*(){const E=yield fn(y,y.stsTokenManager.getToken(y.auth,m));return be(E,y.auth,"internal-error"),y.accessToken!==E&&(y.accessToken=E,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),E})()}getIdTokenResult(m){return function(b){return sn.apply(this,arguments)}(this,m)}reload(){return function(b){return B.apply(this,arguments)}(this)}_assign(m){this!==m&&(be(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(y=>Object.assign({},y)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new $t(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,y=!1){var E=this;return(0,d.Z)(function*(){let x=!1;m.idToken&&m.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(m),x=!0),y&&(yield co(E)),yield E.auth._persistUserIfCurrent(E),x&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var m=this;return(0,d.Z)(function*(){const y=yield m.getIdToken();return yield fn(m,function(b,m){return vs.apply(this,arguments)}(m.auth,{idToken:y})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,y){var E,x,O,$,pe,Pe,Le,et;const Xe=null!==(E=y.displayName)&&void 0!==E?E:void 0,yn=null!==(x=y.email)&&void 0!==x?x:void 0,vn=null!==(O=y.phoneNumber)&&void 0!==O?O:void 0,Ia=null!==($=y.photoURL)&&void 0!==$?$:void 0,Hg=null!==(pe=y.tenantId)&&void 0!==pe?pe:void 0,uf=null!==(Pe=y._redirectEventId)&&void 0!==Pe?Pe:void 0,lf=null!==(Le=y.createdAt)&&void 0!==Le?Le:void 0,Zg=null!==(et=y.lastLoginAt)&&void 0!==et?et:void 0,{uid:Dc,emailVerified:$g,isAnonymous:cf,providerData:df,stsTokenManager:$r}=y;be(Dc&&$r,m,"internal-error");const Cn=Rt.fromJSON(this.name,$r);be("string"==typeof Dc,m,"internal-error"),on(Xe,m.name),on(yn,m.name),be("boolean"==typeof $g,m,"internal-error"),be("boolean"==typeof cf,m,"internal-error"),on(vn,m.name),on(Ia,m.name),on(Hg,m.name),on(uf,m.name),on(lf,m.name),on(Zg,m.name);const qg=new $t({uid:Dc,auth:m,email:yn,emailVerified:$g,displayName:Xe,isAnonymous:cf,photoURL:Ia,phoneNumber:vn,tenantId:Hg,stsTokenManager:Cn,createdAt:lf,lastLoginAt:Zg});return df&&Array.isArray(df)&&(qg.providerData=df.map(Uy=>Object.assign({},Uy))),uf&&(qg._redirectEventId=uf),qg}static _fromIdTokenResponse(m,y,E=!1){return(0,d.Z)(function*(){const x=new Rt;x.updateFromServerResponse(y);const O=new $t({uid:y.localId,auth:m,stsTokenManager:x,isAnonymous:E});return yield co(O),O})()}}const Ct=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(y,E){var x=this;return(0,d.Z)(function*(){x.storage[y]=E})()}_get(y){var E=this;return(0,d.Z)(function*(){const x=E.storage[y];return void 0===x?null:x})()}_remove(y){var E=this;return(0,d.Z)(function*(){delete E.storage[y]})()}_addListener(y,E){}_removeListener(y,E){}}return b.type="NONE",b})();function qt(b,m,y){return`firebase:${b}:${m}:${y}`}class Xn{constructor(m,y,E){this.persistence=m,this.auth=y,this.userKey=E;const{config:x,name:O}=this.auth;this.fullUserKey=qt(this.userKey,x.apiKey,O),this.fullPersistenceKey=qt("persistence",x.apiKey,O),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,d.Z)(function*(){const y=yield m.persistence._get(m.fullUserKey);return y?$t._fromJSON(m.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var y=this;return(0,d.Z)(function*(){if(y.persistence===m)return;const E=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=m,E?y.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,y,E="authUser"){return(0,d.Z)(function*(){if(!y.length)return new Xn(ue(Ct),m,E);const x=(yield Promise.all(y.map(function(){var Le=(0,d.Z)(function*(et){if(yield et._isAvailable())return et});return function(et){return Le.apply(this,arguments)}}()))).filter(Le=>Le);let O=x[0]||ue(Ct);const $=qt(E,m.config.apiKey,m.name);let pe=null;for(const Le of y)try{const et=yield Le._get($);if(et){const Xe=$t._fromJSON(m,et);Le!==O&&(pe=Xe),O=Le;break}}catch(et){}const Pe=x.filter(Le=>Le._shouldAllowMigration);return O._shouldAllowMigration&&Pe.length?(O=Pe[0],pe&&(yield O._set($,pe.toJSON())),yield Promise.all(y.map(function(){var Le=(0,d.Z)(function*(et){if(et!==O)try{yield et._remove($)}catch(Xe){}});return function(et){return Le.apply(this,arguments)}}())),new Xn(O,m,E)):new Xn(O,m,E)})()}}function kl(b){const m=b.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Ll(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(Fl(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(Ya(m))return"Blackberry";if(sa(m))return"Webos";if(Xd(m))return"Safari";if((m.includes("chrome/")||eh(m))&&!m.includes("edge/"))return"Chrome";if(ia(m))return"Android";{const E=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function Fl(b=(0,U.z$)()){return/firefox\//i.test(b)}function Xd(b=(0,U.z$)()){const m=b.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function eh(b=(0,U.z$)()){return/crios\//i.test(b)}function Ll(b=(0,U.z$)()){return/iemobile/i.test(b)}function ia(b=(0,U.z$)()){return/android/i.test(b)}function Ya(b=(0,U.z$)()){return/blackberry/i.test(b)}function sa(b=(0,U.z$)()){return/webos/i.test(b)}function mi(b=(0,U.z$)()){return/iphone|ipad|ipod/i.test(b)}function Mi(b=(0,U.z$)()){return mi(b)||ia(b)||sa(b)||Ya(b)||/windows phone/i.test(b)||Ll(b)}function or(b,m=[]){let y;switch(b){case"Browser":y=kl((0,U.z$)());break;case"Worker":y=`${kl((0,U.z$)())}-${b}`;break;default:y=b}const E=m.length?m.join(","):"FirebaseCore-web";return`${y}/JsCore/${me.SDK_VERSION}/${E}`}class Q_{constructor(m,y){this.app=m,this.config=y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Be(this),this.idTokenSubscription=new Be(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=X,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=y.sdkClientVersion}_initializeWithPersistence(m,y){var E=this;return y&&(this._popupRedirectResolver=ue(y)),this._initializationPromise=this.queue((0,d.Z)(function*(){var x;E._deleted||(E.persistenceManager=yield Xn.create(E,m),!E._deleted&&((null===(x=E._popupRedirectResolver)||void 0===x?void 0:x._shouldInitProactively)&&(yield E._popupRedirectResolver._initialize(E)),yield E.initializeCurrentUser(y),!E._deleted&&(E._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,d.Z)(function*(){if(m._deleted)return;const y=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||y){if(m.currentUser&&y&&m.currentUser.uid===y.uid)return m._currentUser._assign(y),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(y)}})()}initializeCurrentUser(m){var y=this;return(0,d.Z)(function*(){var E;let x=yield y.assertedPersistence.getCurrentUser();if(m&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const O=null===(E=y.redirectUser)||void 0===E?void 0:E._redirectEventId,$=null==x?void 0:x._redirectEventId,pe=yield y.tryRedirectSignIn(m);(!O||O===$)&&(null==pe?void 0:pe.user)&&(x=pe.user)}return x?x._redirectEventId?(be(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===x._redirectEventId?y.directlySetCurrentUser(x):y.reloadAndSetCurrentUserOrClear(x)):y.reloadAndSetCurrentUserOrClear(x):y.directlySetCurrentUser(null)})()}tryRedirectSignIn(m){var y=this;return(0,d.Z)(function*(){let E=null;try{E=yield y._popupRedirectResolver._completeRedirectFn(y,m,!0)}catch(x){yield y._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(m){var y=this;return(0,d.Z)(function*(){try{yield co(m)}catch(E){if("auth/network-request-failed"!==E.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var m=this;return(0,d.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var y=this;return(0,d.Z)(function*(){const E=m?(0,U.m9)(m):null;return E&&be(E.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(E&&E._clone(y))})()}_updateCurrentUser(m){var y=this;return(0,d.Z)(function*(){if(!y._deleted)return m&&be(y.tenantId===m.tenantId,y,"tenant-id-mismatch"),y.queue((0,d.Z)(function*(){yield y.directlySetCurrentUser(m),y.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,d.Z)(function*(){return(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null)})()}setPersistence(m){var y=this;return this.queue((0,d.Z)(function*(){yield y.assertedPersistence.setPersistence(ue(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new U.LL("auth","Firebase",m())}onAuthStateChanged(m,y,E){return this.registerStateListener(this.authStateSubscription,m,y,E)}onIdTokenChanged(m,y,E){return this.registerStateListener(this.idTokenSubscription,m,y,E)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,y){var E=this;return(0,d.Z)(function*(){const x=yield E.getOrInitRedirectPersistenceManager(y);return null===m?x.removeCurrentUser():x.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var y=this;return(0,d.Z)(function*(){if(!y.redirectPersistenceManager){const E=m&&ue(m)||y._popupRedirectResolver;be(E,y,"argument-error"),y.redirectPersistenceManager=yield Xn.create(y,[ue(E._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(m){var y=this;return(0,d.Z)(function*(){var E,x;return y._isInitialized&&(yield y.queue((0,d.Z)(function*(){}))),(null===(E=y._currentUser)||void 0===E?void 0:E._redirectEventId)===m?y._currentUser:(null===(x=y.redirectUser)||void 0===x?void 0:x._redirectEventId)===m?y.redirectUser:null})()}_persistUserIfCurrent(m){var y=this;return(0,d.Z)(function*(){if(m===y.currentUser)return y.queue((0,d.Z)(function*(){return y.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(y=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,y,E,x){if(this._deleted)return()=>{};const O="function"==typeof y?y:y.next.bind(y),$=this._isInitialized?Promise.resolve():this._initializationPromise;return be($,this,"internal-error"),$.then(()=>O(this.currentUser)),"function"==typeof y?m.addObserver(y,E,x):m.addObserver(y)}directlySetCurrentUser(m){var y=this;return(0,d.Z)(function*(){y.currentUser&&y.currentUser!==m&&(y._currentUser._stopProactiveRefresh(),m&&y.isProactiveRefreshEnabled&&m._startProactiveRefresh()),y.currentUser=m,m?yield y.assertedPersistence.setCurrentUser(m):yield y.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=or(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function kt(b){return(0,U.m9)(b)}class Be{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,U.ne)(y=>this.observer=y)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Gt(b){const m=b.indexOf(":");return m<0?"":b.substr(0,m+1)}function Cs(b){if(!b)return null;const m=Number(b);return isNaN(m)?null:m}class ar{constructor(m,y){this.providerId=m,this.signInMethod=y}toJSON(){return ie("not implemented")}_getIdTokenResponse(m){return ie("not implemented")}_linkToIdToken(m,y){return ie("not implemented")}_getReauthenticationResolver(m){return ie("not implemented")}}function an(b,m){return fo.apply(this,arguments)}function fo(){return(fo=(0,d.Z)(function*(b,m){return Nt(b,"POST","/v1/accounts:resetPassword",rt(b,m))})).apply(this,arguments)}function oa(b,m){return dt.apply(this,arguments)}function dt(){return(dt=(0,d.Z)(function*(b,m){return Nt(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Vl(b,m){return bs.apply(this,arguments)}function bs(){return(bs=(0,d.Z)(function*(b,m){return Nt(b,"POST","/v1/accounts:update",rt(b,m))})).apply(this,arguments)}function Ni(){return(Ni=(0,d.Z)(function*(b,m){return pi(b,"POST","/v1/accounts:signInWithPassword",rt(b,m))})).apply(this,arguments)}function Pn(b,m){return po.apply(this,arguments)}function po(){return(po=(0,d.Z)(function*(b,m){return Nt(b,"POST","/v1/accounts:sendOobCode",rt(b,m))})).apply(this,arguments)}function Oi(b,m){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,d.Z)(function*(b,m){return Pn(b,m)})).apply(this,arguments)}function jt(b,m){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,d.Z)(function*(b,m){return Pn(b,m)})).apply(this,arguments)}function nh(b,m){return aa.apply(this,arguments)}function aa(){return(aa=(0,d.Z)(function*(b,m){return Pn(b,m)})).apply(this,arguments)}function rh(b,m){return ua.apply(this,arguments)}function ua(){return(ua=(0,d.Z)(function*(b,m){return Pn(b,m)})).apply(this,arguments)}function zi(){return(zi=(0,d.Z)(function*(b,m){return pi(b,"POST","/v1/accounts:signInWithEmailLink",rt(b,m))})).apply(this,arguments)}function ih(){return(ih=(0,d.Z)(function*(b,m){return pi(b,"POST","/v1/accounts:signInWithEmailLink",rt(b,m))})).apply(this,arguments)}class Ur extends ar{constructor(m,y,E,x=null){super("password",E),this._email=m,this._password=y,this._tenantId=x}static _fromEmailAndPassword(m,y){return new Ur(m,y,"password")}static _fromEmailAndCode(m,y,E=null){return new Ur(m,y,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m;if((null==y?void 0:y.email)&&(null==y?void 0:y.password)){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(m){var y=this;return(0,d.Z)(function*(){switch(y.signInMethod){case"password":return function(b,m){return Ni.apply(this,arguments)}(m,{returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function(b,m){return zi.apply(this,arguments)}(m,{email:y._email,oobCode:y._password});default:Ve(m,"internal-error")}})()}_linkToIdToken(m,y){var E=this;return(0,d.Z)(function*(){switch(E.signInMethod){case"password":return oa(m,{idToken:y,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function(b,m){return ih.apply(this,arguments)}(m,{idToken:y,email:E._email,oobCode:E._password});default:Ve(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Ft(b,m){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,d.Z)(function*(b,m){return pi(b,"POST","/v1/accounts:signInWithIdp",rt(b,m))})).apply(this,arguments)}class Br extends ar{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const y=new Br(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(y.idToken=m.idToken),m.accessToken&&(y.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(y.nonce=m.nonce),m.pendingToken&&(y.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(y.accessToken=m.oauthToken,y.secret=m.oauthTokenSecret):Ve("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m,{providerId:E,signInMethod:x}=y,O=(0,ge._T)(y,["providerId","signInMethod"]);if(!E||!x)return null;const $=new Br(E,x);return Object.assign($,O),$}_getIdTokenResponse(m){return Ft(m,this.buildRequest())}_linkToIdToken(m,y){const E=this.buildRequest();return E.idToken=y,Ft(m,E)}_getReauthenticationResolver(m){const y=this.buildRequest();return y.autoCreate=!1,Ft(m,y)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),m.postBody=(0,U.xO)(y)}return m}}function _i(b,m){return sh.apply(this,arguments)}function sh(){return(sh=(0,d.Z)(function*(b,m){return Nt(b,"POST","/v1/accounts:sendVerificationCode",rt(b,m))})).apply(this,arguments)}function oh(){return(oh=(0,d.Z)(function*(b,m){return pi(b,"POST","/v1/accounts:signInWithPhoneNumber",rt(b,m))})).apply(this,arguments)}function sg(){return(sg=(0,d.Z)(function*(b,m){const y=yield pi(b,"POST","/v1/accounts:signInWithPhoneNumber",rt(b,m));if(y.temporaryProof)throw ys(b,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const wb={USER_NOT_FOUND:"user-not-found"};function og(){return(og=(0,d.Z)(function*(b,m){return pi(b,"POST","/v1/accounts:signInWithPhoneNumber",rt(b,Object.assign(Object.assign({},m),{operation:"REAUTH"})),wb)})).apply(this,arguments)}class la extends ar{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,y){return new la({verificationId:m,verificationCode:y})}static _fromTokenResponse(m,y){return new la({phoneNumber:m,temporaryProof:y})}_getIdTokenResponse(m){return function(b,m){return oh.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,y){return function(b,m){return sg.apply(this,arguments)}(m,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function(b,m){return og.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:y,verificationId:E,verificationCode:x}=this.params;return m&&y?{temporaryProof:m,phoneNumber:y}:{sessionInfo:E,code:x}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:y,verificationCode:E,phoneNumber:x,temporaryProof:O}=m;return E||y||x||O?new la({verificationId:y,verificationCode:E,phoneNumber:x,temporaryProof:O}):null}}class Bl{constructor(m){var y,E,x,O,$,pe;const Pe=(0,U.zd)((0,U.pd)(m)),Le=null!==(y=Pe.apiKey)&&void 0!==y?y:null,et=null!==(E=Pe.oobCode)&&void 0!==E?E:null,Xe=function(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=Pe.mode)&&void 0!==x?x:null);be(Le&&et&&Xe,"argument-error"),this.apiKey=Le,this.operation=Xe,this.code=et,this.continueUrl=null!==(O=Pe.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==($=Pe.languageCode)&&void 0!==$?$:null,this.tenantId=null!==(pe=Pe.tenantId)&&void 0!==pe?pe:null}static parseLink(m){const y=function(b){const m=(0,U.zd)((0,U.pd)(b)).link,y=m?(0,U.zd)((0,U.pd)(m)).deep_link_id:null,E=(0,U.zd)((0,U.pd)(b)).deep_link_id;return(E?(0,U.zd)((0,U.pd)(E)).link:null)||E||y||m||b}(m);try{return new Bl(y)}catch(E){return null}}}let ag=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(y,E){return Ur._fromEmailAndPassword(y,E)}static credentialWithLink(y,E){const x=Bl.parseLink(E);return be(x,"argument-error"),Ur._fromEmailAndCode(y,x.code,x.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class go{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class eu extends go{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class mo extends eu{static credentialFromJSON(m){const y="string"==typeof m?JSON.parse(m):m;return be("providerId"in y&&"signInMethod"in y,"argument-error"),Br._fromParams(y)}credential(m){return this._credential(m)}_credential(m){return be(m.idToken||m.accessToken,"argument-error"),Br._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return mo.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return mo.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:y,oauthAccessToken:E,oauthTokenSecret:x,pendingToken:O,nonce:$,providerId:pe}=m;if(!E&&!x&&!y&&!O||!pe)return null;try{return new mo(pe)._credential({idToken:y,accessToken:E,rawNonce:$,pendingToken:O})}catch(Pe){return null}}}let ah=(()=>{class b extends eu{constructor(){super("facebook.com")}static credential(y){return Br._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return b.credentialFromTaggedObject(y)}static credentialFromError(y){return b.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return b.credential(y.oauthAccessToken)}catch(E){return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),uh=(()=>{class b extends eu{constructor(){super("google.com"),this.addScope("profile")}static credential(y,E){return Br._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:E})}static credentialFromResult(y){return b.credentialFromTaggedObject(y)}static credentialFromError(y){return b.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:E,oauthAccessToken:x}=y;if(!E&&!x)return null;try{return b.credential(E,x)}catch(O){return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),lh=(()=>{class b extends eu{constructor(){super("github.com")}static credential(y){return Br._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return b.credentialFromTaggedObject(y)}static credentialFromError(y){return b.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return b.credential(y.oauthAccessToken)}catch(E){return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class ca extends ar{constructor(m,y){super(m,m),this.pendingToken=y}_getIdTokenResponse(m){return Ft(m,this.buildRequest())}_linkToIdToken(m,y){const E=this.buildRequest();return E.idToken=y,Ft(m,E)}_getReauthenticationResolver(m){const y=this.buildRequest();return y.autoCreate=!1,Ft(m,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const y="string"==typeof m?JSON.parse(m):m,{providerId:E,signInMethod:x,pendingToken:O}=y;return E&&x&&O&&E===x?new ca(E,O):null}static _create(m,y){return new ca(m,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let dh=(()=>{class b extends eu{constructor(){super("twitter.com")}static credential(y,E){return Br._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:E})}static credentialFromResult(y){return b.credentialFromTaggedObject(y)}static credentialFromError(y){return b.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:E,oauthTokenSecret:x}=y;if(!E||!x)return null;try{return b.credential(E,x)}catch(O){return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function hh(b,m){return tu.apply(this,arguments)}function tu(){return(tu=(0,d.Z)(function*(b,m){return pi(b,"POST","/v1/accounts:signUp",rt(b,m))})).apply(this,arguments)}class yi{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,y,E,x=!1){return(0,d.Z)(function*(){const O=yield $t._fromIdTokenResponse(m,E,x),$=ey(E);return new yi({user:O,providerId:$,_tokenResponse:E,operationType:y})})()}static _forOperation(m,y,E){return(0,d.Z)(function*(){yield m._updateTokensIfNecessary(E,!0);const x=ey(E);return new yi({user:m,providerId:x,_tokenResponse:E,operationType:y})})()}}function ey(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function nu(){return(nu=(0,d.Z)(function*(b){var m;const y=kt(b);if(yield y._initializationPromise,null===(m=y.currentUser)||void 0===m?void 0:m.isAnonymous)return new yi({user:y.currentUser,providerId:null,operationType:"signIn"});const E=yield hh(y,{returnSecureToken:!0}),x=yield yi._fromIdTokenResponse(y,"signIn",E,!0);return yield y._updateCurrentUser(x.user),x})).apply(this,arguments)}class jl extends U.ZR{constructor(m,y,E,x){var O;super(y.code,y.message),this.operationType=E,this.user=x,this.name="FirebaseError",Object.setPrototypeOf(this,jl.prototype),this.appName=m.name,this.code=y.code,this.tenantId=null!==(O=m.tenantId)&&void 0!==O?O:void 0,this.serverResponse=y.customData.serverResponse}static _fromErrorAndOperation(m,y,E,x){return new jl(m,y,E,x)}}function ru(b,m,y,E){return("reauthenticate"===m?y._getReauthenticationResolver(b):y._getIdTokenResponse(b)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?jl._fromErrorAndOperation(b,O,m,E):O})}function ug(b){return new Set(b.map(({providerId:m})=>m).filter(m=>!!m))}function Hl(){return(Hl=(0,d.Z)(function*(b,m){const y=(0,U.m9)(b);yield ws(!0,y,m);const{providerUserInfo:E}=yield Sn(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[m]}),x=ug(E||[]);return y.providerData=y.providerData.filter(O=>x.has(O.providerId)),x.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function Zl(b,m){return _o.apply(this,arguments)}function _o(){return(_o=(0,d.Z)(function*(b,m,y=!1){const E=yield fn(b,m._linkToIdToken(b.auth,yield b.getIdToken()),y);return yi._forOperation(b,"link",E)})).apply(this,arguments)}function ws(b,m,y){return iu.apply(this,arguments)}function iu(){return(iu=(0,d.Z)(function*(b,m,y){yield co(m);const x=!1===b?"provider-already-linked":"no-such-provider";be(ug(m.providerData).has(y)===b,m.auth,x)})).apply(this,arguments)}function $l(b,m){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,d.Z)(function*(b,m,y=!1){const{auth:E}=b,x="reauthenticate";try{const O=yield fn(b,ru(E,x,m,b),y);be(O.idToken,E,"internal-error");const $=Ge(O.idToken);be($,E,"internal-error");const{sub:pe}=$;return be(b.uid===pe,E,"user-mismatch"),yi._forOperation(b,x,O)}catch(O){throw"auth/user-not-found"===(null==O?void 0:O.code)&&Ve(E,"user-mismatch"),O}})).apply(this,arguments)}function lg(b,m){return ql.apply(this,arguments)}function ql(){return(ql=(0,d.Z)(function*(b,m,y=!1){const E="signIn",x=yield ru(b,E,m),O=yield yi._fromIdTokenResponse(b,E,x);return y||(yield b._updateCurrentUser(O.user)),O})).apply(this,arguments)}function Gl(b,m){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,d.Z)(function*(b,m){return lg(kt(b),m)})).apply(this,arguments)}function cg(b,m){return dg.apply(this,arguments)}function dg(){return(dg=(0,d.Z)(function*(b,m){const y=(0,U.m9)(b);return yield ws(!1,y,m.providerId),Zl(y,m)})).apply(this,arguments)}function su(b,m){return jr.apply(this,arguments)}function jr(){return(jr=(0,d.Z)(function*(b,m){return $l((0,U.m9)(b),m)})).apply(this,arguments)}function xb(b,m){return Es.apply(this,arguments)}function Es(){return(Es=(0,d.Z)(function*(b,m){return pi(b,"POST","/v1/accounts:signInWithCustomToken",rt(b,m))})).apply(this,arguments)}function ur(){return(ur=(0,d.Z)(function*(b,m){const y=kt(b),E=yield xb(y,{token:m,returnSecureToken:!0}),x=yield yi._fromIdTokenResponse(y,"signIn",E);return yield y._updateCurrentUser(x.user),x})).apply(this,arguments)}class au{constructor(m,y){this.factorId=m,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(m,y){return"phoneInfo"in y?uu._fromServerResponse(m,y):Ve(m,"internal-error")}}class uu extends au{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,y){return new uu(y)}}function lu(b,m,y){var E;be((null===(E=y.url)||void 0===E?void 0:E.length)>0,b,"invalid-continue-uri"),be(void 0===y.dynamicLinkDomain||y.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),m.continueUrl=y.url,m.dynamicLinkDomain=y.dynamicLinkDomain,m.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(be(y.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),m.iosBundleId=y.iOS.bundleId),y.android&&(be(y.android.packageName.length>0,b,"missing-android-pkg-name"),m.androidInstallApp=y.android.installApp,m.androidMinimumVersionCode=y.android.minimumVersion,m.androidPackageName=y.android.packageName)}function zl(){return(zl=(0,d.Z)(function*(b,m,y){const E=(0,U.m9)(b),x={requestType:"PASSWORD_RESET",email:m};y&&lu(E,x,y),yield jt(E,x)})).apply(this,arguments)}function it(){return(it=(0,d.Z)(function*(b,m,y){yield an((0,U.m9)(b),{oobCode:m,newPassword:y})})).apply(this,arguments)}function yo(){return(yo=(0,d.Z)(function*(b,m){yield Vl((0,U.m9)(b),{oobCode:m})})).apply(this,arguments)}function cu(b,m){return du.apply(this,arguments)}function du(){return(du=(0,d.Z)(function*(b,m){const y=(0,U.m9)(b),E=yield an(y,{oobCode:m}),x=E.requestType;switch(be(x,y,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":be(E.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":be(E.mfaInfo,y,"internal-error");default:be(E.email,y,"internal-error")}let O=null;return E.mfaInfo&&(O=au._fromServerResponse(kt(y),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:O},operation:x}})).apply(this,arguments)}function vo(){return(vo=(0,d.Z)(function*(b,m){const{data:y}=yield cu((0,U.m9)(b),m);return y.email})).apply(this,arguments)}function Ie(){return(Ie=(0,d.Z)(function*(b,m,y){const E=kt(b),x=yield hh(E,{returnSecureToken:!0,email:m,password:y}),O=yield yi._fromIdTokenResponse(E,"signIn",x);return yield E._updateCurrentUser(O.user),O})).apply(this,arguments)}function gn(){return(gn=(0,d.Z)(function*(b,m,y){const E=(0,U.m9)(b),x={requestType:"EMAIL_SIGNIN",email:m};be(y.handleCodeInApp,E,"argument-error"),y&&lu(E,x,y),yield nh(E,x)})).apply(this,arguments)}function ei(){return(ei=(0,d.Z)(function*(b,m,y){const E=(0,U.m9)(b),x=ag.credentialWithLink(m,y||Me());return be(x._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Gl(E,x)})).apply(this,arguments)}function mh(b,m){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,d.Z)(function*(b,m){return Nt(b,"POST","/v1/accounts:createAuthUri",rt(b,m))})).apply(this,arguments)}function pg(){return(pg=(0,d.Z)(function*(b,m){const E={identifier:m,continueUri:Ke()?Me():"http://localhost"},{signinMethods:x}=yield mh((0,U.m9)(b),E);return x||[]})).apply(this,arguments)}function Ds(){return(Ds=(0,d.Z)(function*(b,m){const y=(0,U.m9)(b),x={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};m&&lu(y.auth,x,m);const{email:O}=yield Oi(y.auth,x);O!==b.email&&(yield b.reload())})).apply(this,arguments)}function ti(){return(ti=(0,d.Z)(function*(b,m,y){const E=(0,U.m9)(b),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:m};y&&lu(E.auth,O,y);const{email:$}=yield rh(E.auth,O);$!==b.email&&(yield b.reload())})).apply(this,arguments)}function _h(b,m){return As.apply(this,arguments)}function As(){return(As=(0,d.Z)(function*(b,m){return Nt(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function yh(){return(yh=(0,d.Z)(function*(b,{displayName:m,photoURL:y}){if(void 0===m&&void 0===y)return;const E=(0,U.m9)(b),O={idToken:yield E.getIdToken(),displayName:m,photoUrl:y,returnSecureToken:!0},$=yield fn(E,_h(E.auth,O));E.displayName=$.displayName||null,E.photoURL=$.photoUrl||null;const pe=E.providerData.find(({providerId:Pe})=>"password"===Pe);pe&&(pe.displayName=E.displayName,pe.photoURL=E.photoURL),yield E._updateTokensIfNecessary($)})).apply(this,arguments)}function Ch(b,m,y){return fu.apply(this,arguments)}function fu(){return(fu=(0,d.Z)(function*(b,m,y){const{auth:E}=b,O={idToken:yield b.getIdToken(),returnSecureToken:!0};m&&(O.email=m),y&&(O.password=y);const $=yield fn(b,oa(E,O));yield b._updateTokensIfNecessary($,!0)})).apply(this,arguments)}class Co{constructor(m,y,E={}){this.isNewUser=m,this.providerId=y,this.profile=E}}class wh extends Co{constructor(m,y,E,x){super(m,y,E),this.username=x}}class ry extends Co{constructor(m,y){super(m,"facebook.com",y)}}class iy extends wh{constructor(m,y){super(m,"github.com",y,"string"==typeof(null==y?void 0:y.login)?null==y?void 0:y.login:null)}}class pu extends Co{constructor(m,y){super(m,"google.com",y)}}class mg extends wh{constructor(m,y,E){super(m,"twitter.com",y,E)}}function _g(b){const{user:m,_tokenResponse:y}=b;return m.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function(b){var m,y;if(!b)return null;const{providerId:E}=b,x=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},O=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!E&&(null==b?void 0:b.idToken)){const $=null===(y=null===(m=Ge(b.idToken))||void 0===m?void 0:m.firebase)||void 0===y?void 0:y.sign_in_provider;if($)return new Co(O,"anonymous"!==$&&"custom"!==$?$:null)}if(!E)return null;switch(E){case"facebook.com":return new ry(O,x);case"github.com":return new iy(O,x);case"google.com":return new pu(O,x);case"twitter.com":return new mg(O,x,b.screenName||null);case"custom":case"anonymous":return new Co(O,null);default:return new Co(O,E,x)}}(y)}class Ci{constructor(m,y){this.type=m,this.credential=y}static _fromIdtoken(m){return new Ci("enroll",m)}static _fromMfaPendingCredential(m){return new Ci("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var y,E;if(null==m?void 0:m.multiFactorSession){if(null===(y=m.multiFactorSession)||void 0===y?void 0:y.pendingCredential)return Ci._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null===(E=m.multiFactorSession)||void 0===E?void 0:E.idToken)return Ci._fromIdtoken(m.multiFactorSession.idToken)}return null}}class Eh{constructor(m,y,E){this.session=m,this.hints=y,this.signInResolver=E}static _fromError(m,y){const E=kt(m),x=(y.serverResponse.mfaInfo||[]).map($=>au._fromServerResponse(E,$));be(y.serverResponse.mfaPendingCredential,E,"internal-error");const O=Ci._fromMfaPendingCredential(y.serverResponse.mfaPendingCredential);return new Eh(O,x,function(){var $=(0,d.Z)(function*(pe){const Pe=yield pe._process(E,O);delete y.serverResponse.mfaInfo,delete y.serverResponse.mfaPendingCredential;const Le=Object.assign(Object.assign({},y.serverResponse),{idToken:Pe.idToken,refreshToken:Pe.refreshToken});switch(y.operationType){case"signIn":const et=yield yi._fromIdTokenResponse(E,y.operationType,Le);return yield E._updateCurrentUser(et.user),et;case"reauthenticate":return be(y.user,E,"internal-error"),yi._forOperation(y.user,y.operationType,Le);default:Ve(E,"internal-error")}});return function(pe){return $.apply(this,arguments)}}())}resolveSignIn(m){var y=this;return(0,d.Z)(function*(){return y.signInResolver(m)})()}}function sy(b,m){return Nt(b,"POST","/v2/accounts/mfaEnrollment:start",rt(b,m))}class ha{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(E=>au._fromServerResponse(m.auth,E)))})}static _fromUser(m){return new ha(m)}getSession(){var m=this;return(0,d.Z)(function*(){return Ci._fromIdtoken(yield m.user.getIdToken())})()}enroll(m,y){var E=this;return(0,d.Z)(function*(){const x=m,O=yield E.getSession(),$=yield fn(E.user,x._process(E.user.auth,O,y));return yield E.user._updateTokensIfNecessary($),E.user.reload()})()}unenroll(m){var y=this;return(0,d.Z)(function*(){const E="string"==typeof m?m:m.uid,x=yield y.user.getIdToken(),O=yield fn(y.user,function(b,m){return Nt(b,"POST","/v2/accounts/mfaEnrollment:withdraw",rt(b,m))}(y.user.auth,{idToken:x,mfaEnrollmentId:E}));y.enrolledFactors=y.enrolledFactors.filter(({uid:$})=>$!==E),yield y.user._updateTokensIfNecessary(O);try{yield y.user.reload()}catch($){if("auth/user-token-expired"!==$.code)throw $}})()}}const fa=new WeakMap,gu="__sak";class Dh{constructor(m,y){this.storage=m,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(gu,"1"),this.storage.removeItem(gu),Promise.resolve(!0)):Promise.resolve(!1)}catch(m){return Promise.resolve(!1)}}_set(m,y){return this.storage.setItem(m,JSON.stringify(y)),Promise.resolve()}_get(m){const y=this.storage.getItem(m);return Promise.resolve(y?JSON.parse(y):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}}const Wl=(()=>{class b extends Dh{constructor(){super(window.localStorage,"LOCAL"),this.boundEventHandler=(y,E)=>this.onStorageEvent(y,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const b=(0,U.z$)();return Xd(b)||mi(b)}()&&function(){try{return!(!window||window===window.top)}catch(b){return!1}}(),this.fallbackToPolling=Mi(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const E of Object.keys(this.listeners)){const x=this.storage.getItem(E),O=this.localCache[E];x!==O&&y(E,O,x)}}onStorageEvent(y,E=!1){if(!y.key)return void this.forAllChangedKeys((pe,Pe,Le)=>{this.notifyListeners(pe,Le)});const x=y.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const pe=this.storage.getItem(x);if(y.newValue!==pe)null!==y.newValue?this.storage.setItem(x,y.newValue):this.storage.removeItem(x);else if(this.localCache[x]===y.newValue&&!E)return}const O=()=>{const pe=this.storage.getItem(x);!E&&this.localCache[x]===pe||this.notifyListeners(x,pe)},$=this.storage.getItem(x);(0,U.w1)()&&10===document.documentMode&&$!==y.newValue&&y.newValue!==y.oldValue?setTimeout(O,10):O()}notifyListeners(y,E){this.localCache[y]=E;const x=this.listeners[y];if(x)for(const O of Array.from(x))O(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,E,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:E,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(E)}_removeListener(y,E){this.listeners[y]&&(this.listeners[y].delete(E),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,E){var x=()=>super._set,O=this;return(0,d.Z)(function*(){yield x().call(O,y,E),O.localCache[y]=JSON.stringify(E)})()}_get(y){var E=()=>super._get,x=this;return(0,d.Z)(function*(){const O=yield E().call(x,y);return x.localCache[y]=JSON.stringify(O),O})()}_remove(y){var E=()=>super._remove,x=this;return(0,d.Z)(function*(){yield E().call(x,y),delete x.localCache[y]})()}}return b.type="LOCAL",b})(),Yi=(()=>{class b extends Dh{constructor(){super(window.sessionStorage,"SESSION")}_addListener(y,E){}_removeListener(y,E){}}return b.type="SESSION",b})();let Ss=(()=>{class b{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const E=this.receivers.find(O=>O.isListeningto(y));if(E)return E;const x=new b(y);return this.receivers.push(x),x}isListeningto(y){return this.eventTarget===y}handleEvent(y){var E=this;return(0,d.Z)(function*(){const x=y,{eventId:O,eventType:$,data:pe}=x.data,Pe=E.handlersMap[$];if(!(null==Pe?void 0:Pe.size))return;x.ports[0].postMessage({status:"ack",eventId:O,eventType:$});const Le=Array.from(Pe).map(function(){var Xe=(0,d.Z)(function*(yn){return yn(x.origin,pe)});return function(yn){return Xe.apply(this,arguments)}}()),et=yield function(b){return Promise.all(b.map(function(){var m=(0,d.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(E){return{fulfilled:!1,reason:E}}});return function(y){return m.apply(this,arguments)}}()))}(Le);x.ports[0].postMessage({status:"done",eventId:O,eventType:$,response:et})})()}_subscribe(y,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(E)}_unsubscribe(y,E){this.handlersMap[y]&&E&&this.handlersMap[y].delete(E),(!E||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function Kl(b="",m=10){let y="";for(let E=0;E<m;E++)y+=Math.floor(10*Math.random());return b+y}class Nb{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,y,E=50){var x=this;return(0,d.Z)(function*(){const O="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let $,pe;return new Promise((Pe,Le)=>{const et=Kl("",20);O.port1.start();const Xe=setTimeout(()=>{Le(new Error("unsupported_event"))},E);pe={messageChannel:O,onMessage(yn){const vn=yn;if(vn.data.eventId===et)switch(vn.data.status){case"ack":clearTimeout(Xe),$=setTimeout(()=>{Le(new Error("timeout"))},3e3);break;case"done":clearTimeout($),Pe(vn.data.response);break;default:clearTimeout(Xe),clearTimeout($),Le(new Error("invalid_response"))}}},x.handlers.add(pe),O.port1.addEventListener("message",pe.onMessage),x.target.postMessage({eventType:m,eventId:et,data:y},[O.port2])}).finally(()=>{pe&&x.removeMessageHandler(pe)})})()}}function Xt(){return window}function Yl(){return void 0!==Xt().WorkerGlobalScope&&"function"==typeof Xt().importScripts}function Mh(){return(Mh=(0,d.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(b){return null}})).apply(this,arguments)}const bg="firebaseLocalStorageDb",vu="firebaseLocalStorage",Jl="fbase_key";class Ql{constructor(m){this.request=m}toPromise(){return new Promise((m,y)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function Xl(b,m){return b.transaction([vu],m?"readwrite":"readonly").objectStore(vu)}function Hr(){const b=indexedDB.open(bg,1);return new Promise((m,y)=>{b.addEventListener("error",()=>{y(b.error)}),b.addEventListener("upgradeneeded",()=>{const E=b.result;try{E.createObjectStore(vu,{keyPath:Jl})}catch(x){y(x)}}),b.addEventListener("success",(0,d.Z)(function*(){const E=b.result;E.objectStoreNames.contains(vu)?m(E):(E.close(),yield function(){const b=indexedDB.deleteDatabase(bg);return new Ql(b).toPromise()}(),m(yield Hr()))}))})}function ec(b,m,y){return lt.apply(this,arguments)}function lt(){return(lt=(0,d.Z)(function*(b,m,y){const E=Xl(b,!0).put({[Jl]:m,value:y});return new Ql(E).toPromise()})).apply(this,arguments)}function Cu(){return(Cu=(0,d.Z)(function*(b,m){const y=Xl(b,!1).get(m),E=yield new Ql(y).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Ms(b,m){const y=Xl(b,!0).delete(m);return new Ql(y).toPromise()}const pa=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,d.Z)(function*(){return y.db||(y.db=yield Hr()),y.db})()}_withRetries(y){var E=this;return(0,d.Z)(function*(){let x=0;for(;;)try{const O=yield E._openDb();return yield y(O)}catch(O){if(x++>3)throw O;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,d.Z)(function*(){return Yl()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,d.Z)(function*(){y.receiver=Ss._getInstance(Yl()?self:null),y.receiver._subscribe("keyChanged",function(){var E=(0,d.Z)(function*(x,O){return{keyProcessed:(yield y._poll()).includes(O.key)}});return function(x,O){return E.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var E=(0,d.Z)(function*(x,O){return["keyChanged"]});return function(x,O){return E.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,d.Z)(function*(){var E,x;if(y.activeServiceWorker=yield function(){return Mh.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new Nb(y.activeServiceWorker);const O=yield y.sender._send("ping",{},800);!O||(null===(E=O[0])||void 0===E?void 0:E.fulfilled)&&(null===(x=O[0])||void 0===x?void 0:x.value.includes("keyChanged"))&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var E=this;return(0,d.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function(){var b;return(null===(b=null==navigator?void 0:navigator.serviceWorker)||void 0===b?void 0:b.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:y},E.serviceWorkerReceiverAvailable?800:50)}catch(x){}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const y=yield Hr();return yield ec(y,gu,"1"),yield Ms(y,gu),!0}catch(y){}return!1})()}_withPendingWrite(y){var E=this;return(0,d.Z)(function*(){E.pendingWrites++;try{yield y()}finally{E.pendingWrites--}})()}_set(y,E){var x=this;return(0,d.Z)(function*(){return x._withPendingWrite((0,d.Z)(function*(){return yield x._withRetries(O=>ec(O,y,E)),x.localCache[y]=E,x.notifyServiceWorker(y)}))})()}_get(y){var E=this;return(0,d.Z)(function*(){const x=yield E._withRetries(O=>function(b,m){return Cu.apply(this,arguments)}(O,y));return E.localCache[y]=x,x})()}_remove(y){var E=this;return(0,d.Z)(function*(){return E._withPendingWrite((0,d.Z)(function*(){return yield E._withRetries(x=>Ms(x,y)),delete E.localCache[y],E.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,d.Z)(function*(){const E=yield y._withRetries($=>{const pe=Xl($,!1).getAll();return new Ql(pe).toPromise()});if(!E)return[];if(0!==y.pendingWrites)return[];const x=[],O=new Set;for(const{fbase_key:$,value:pe}of E)O.add($),JSON.stringify(y.localCache[$])!==JSON.stringify(pe)&&(y.notifyListeners($,pe),x.push($));for(const $ of Object.keys(y.localCache))y.localCache[$]&&!O.has($)&&(y.notifyListeners($,null),x.push($));return x})()}notifyListeners(y,E){this.localCache[y]=E;const x=this.listeners[y];if(x)for(const O of Array.from(x))O(E)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(E)}_removeListener(y,E){this.listeners[y]&&(this.listeners[y].delete(E),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function Oh(b,m){return Nt(b,"POST","/v2/accounts/mfaSignIn:start",rt(b,m))}function Rh(){return(Rh=(0,d.Z)(function*(b){return(yield Nt(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Zr(b){return new Promise((m,y)=>{const E=document.createElement("script");E.setAttribute("src",b),E.onload=m,E.onerror=x=>{const O=Ue("internal-error");O.customData=x,y(O)},E.type="text/javascript",E.charset="UTF-8",function(){var b,m;return null!==(m=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==m?m:document}().appendChild(E)})}function Ph(b){return`__${b}${Math.floor(1e6*Math.random())}`}const Qi=1e12;class dy{constructor(m){this.auth=m,this.counter=Qi,this._widgets=new Map}render(m,y){const E=this.counter;return this._widgets.set(E,new tc(m,this.auth.name,y||{})),this.counter++,E}reset(m){var y;const E=m||Qi;null===(y=this._widgets.get(E))||void 0===y||y.delete(),this._widgets.delete(E)}getResponse(m){var y;return(null===(y=this._widgets.get(m||Qi))||void 0===y?void 0:y.getResponse())||""}execute(m){var y=this;return(0,d.Z)(function*(){var E;return null===(E=y._widgets.get(m||Qi))||void 0===E||E.execute(),""})()}}class tc{constructor(m,y,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof m?document.getElementById(m):m;be(x,"argument-error",{appName:y}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(b){const m=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<50;E++)m.push(y.charAt(Math.floor(Math.random()*y.length)));return m.join("")}();const{callback:m,"expired-callback":y}=this.params;if(m)try{m(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Xi=Ph("rcb"),Eo=new Kt(3e4,6e4);class ga{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Xt().grecaptcha}load(m,y=""){return be((b=y).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b),m,"argument-error"),this.shouldResolveImmediately(y)?Promise.resolve(Xt().grecaptcha):new Promise((E,x)=>{const O=Xt().setTimeout(()=>{x(Ue(m,"network-request-failed"))},Eo.get());Xt()[Xi]=()=>{Xt().clearTimeout(O),delete Xt()[Xi];const pe=Xt().grecaptcha;if(!pe)return void x(Ue(m,"internal-error"));const Pe=pe.render;pe.render=(Le,et)=>{const Xe=Pe(Le,et);return this.counter++,Xe},this.hostLanguage=y,E(pe)},Zr(`https://www.google.com/recaptcha/api.js??${(0,U.xO)({onload:Xi,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(O),x(Ue(m,"internal-error"))})});var b}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){return!!Xt().grecaptcha&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Os{load(m){return(0,d.Z)(function*(){return new dy(m)})()}clearedOneInstance(){}}const Rs="recaptcha",hy={theme:"light",type:"image"};class Eg{constructor(m,y=Object.assign({},hy),E){this.parameters=y,this.type=Rs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=kt(E),this.isInvisible="invisible"===this.parameters.size,be("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof m?document.getElementById(m):m;be(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Os:new ga,this.validateStartingState()}verify(){var m=this;return(0,d.Z)(function*(){m.assertNotDestroyed();const y=yield m.render(),E=m.getAssertedRecaptcha();return E.getResponse(y)||new Promise(O=>{const $=pe=>{!pe||(m.tokenChangeListeners.delete($),O(pe))};m.tokenChangeListeners.add($),m.isInvisible&&E.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){be(!this.parameters.sitekey,this.auth,"argument-error"),be(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),be("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return y=>{if(this.tokenChangeListeners.forEach(E=>E(y)),"function"==typeof m)m(y);else if("string"==typeof m){const E=Xt()[m];"function"==typeof E&&E(y)}}}assertNotDestroyed(){be(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,d.Z)(function*(){if(yield m.init(),!m.widgetId){let y=m.container;if(!m.isInvisible){const E=document.createElement("div");y.appendChild(E),y=E}m.widgetId=m.getAssertedRecaptcha().render(y,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,d.Z)(function*(){be(Ke()&&!Yl(),m.auth,"internal-error"),yield function(){let b=null;return new Promise(m=>{"complete"!==document.readyState?(b=()=>m(),window.addEventListener("load",b)):m()}).catch(m=>{throw b&&window.removeEventListener("load",b),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const y=yield function(b){return Rh.apply(this,arguments)}(m.auth);be(y,m.auth,"internal-error"),m.parameters.sitekey=y})()}getAssertedRecaptcha(){return be(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ic{constructor(m,y){this.verificationId=m,this.onConfirmation=y}confirm(m){const y=la._fromVerification(this.verificationId,m);return this.onConfirmation(y)}}function sc(){return(sc=(0,d.Z)(function*(b,m,y){const E=kt(b),x=yield uc(E,m,(0,U.m9)(y));return new ic(x,O=>Gl(E,O))})).apply(this,arguments)}function oc(){return(oc=(0,d.Z)(function*(b,m,y){const E=(0,U.m9)(b);yield ws(!1,E,"phone");const x=yield uc(E.auth,m,(0,U.m9)(y));return new ic(x,O=>cg(E,O))})).apply(this,arguments)}function ac(){return(ac=(0,d.Z)(function*(b,m,y){const E=(0,U.m9)(b),x=yield uc(E.auth,m,(0,U.m9)(y));return new ic(x,O=>su(E,O))})).apply(this,arguments)}function uc(b,m,y){return Fh.apply(this,arguments)}function Fh(){return(Fh=(0,d.Z)(function*(b,m,y){var E;const x=yield y.verify();try{let O;if(be("string"==typeof x,b,"argument-error"),be(y.type===Rs,b,"argument-error"),O="string"==typeof m?{phoneNumber:m}:m,"session"in O){const $=O.session;if("phoneNumber"in O)return be("enroll"===$.type,b,"internal-error"),(yield sy(b,{idToken:$.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{be("signin"===$.type,b,"internal-error");const pe=(null===(E=O.multiFactorHint)||void 0===E?void 0:E.uid)||O.multiFactorUid;return be(pe,b,"missing-multi-factor-info"),(yield Oh(b,{mfaPendingCredential:$.credential,mfaEnrollmentId:pe,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:$}=yield _i(b,{phoneNumber:O.phoneNumber,recaptchaToken:x});return $}}finally{y._reset()}})).apply(this,arguments)}function lc(){return(lc=(0,d.Z)(function*(b,m){yield Zl((0,U.m9)(b),m)})).apply(this,arguments)}let To=(()=>{class b{constructor(y){this.providerId=b.PROVIDER_ID,this.auth=kt(y)}verifyPhoneNumber(y,E){return uc(this.auth,y,(0,U.m9)(E))}static credential(y,E){return la._fromVerification(y,E)}static credentialFromResult(y){return b.credentialFromTaggedObject(y)}static credentialFromError(y){return b.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:E,temporaryProof:x}=y;return E&&x?la._fromTokenResponse(E,x):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function Do(b,m){return m?ue(m):(be(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class Ps extends ar{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Ft(m,this._buildIdpRequest())}_linkToIdToken(m,y){return Ft(m,this._buildIdpRequest(y))}_getReauthenticationResolver(m){return Ft(m,this._buildIdpRequest())}_buildIdpRequest(m){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(y.idToken=m),y}}function my(b){return lg(b.auth,new Ps(b),b.bypassAuthState)}function At(b){const{auth:m,user:y}=b;return be(y,m,"internal-error"),$l(y,new Ps(b),b.bypassAuthState)}function bi(b){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,d.Z)(function*(b){const{auth:m,user:y}=b;return be(y,m,"internal-error"),Zl(y,new Ps(b),b.bypassAuthState)})).apply(this,arguments)}class Ob{constructor(m,y,E,x,O=!1){this.auth=m,this.resolver=E,this.user=x,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var m=this;return new Promise(function(){var y=(0,d.Z)(function*(E,x){m.pendingPromise={resolve:E,reject:x};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(O){m.reject(O)}});return function(E,x){return y.apply(this,arguments)}}())}onAuthEvent(m){var y=this;return(0,d.Z)(function*(){const{urlResponse:E,sessionId:x,postBody:O,tenantId:$,error:pe,type:Pe}=m;if(pe)return void y.reject(pe);const Le={auth:y.auth,requestUri:E,sessionId:x,tenantId:$||void 0,postBody:O||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(Pe)(Le))}catch(et){y.reject(et)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return my;case"linkViaPopup":case"linkViaRedirect":return bi;case"reauthViaPopup":case"reauthViaRedirect":return At;default:Ve(this.auth,"internal-error")}}resolve(m){ae(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){ae(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Rb=new Kt(2e3,1e4);function ni(){return(ni=(0,d.Z)(function*(b,m,y){const E=kt(b);pt(b,m,go);const x=Do(E,y);return new Lh(E,"signInViaPopup",m,x).executeNotNull()})).apply(this,arguments)}function ri(){return(ri=(0,d.Z)(function*(b,m,y){const E=(0,U.m9)(b);pt(E.auth,m,go);const x=Do(E.auth,y);return new Lh(E.auth,"reauthViaPopup",m,x,E).executeNotNull()})).apply(this,arguments)}function _a(){return(_a=(0,d.Z)(function*(b,m,y){const E=(0,U.m9)(b);pt(E.auth,m,go);const x=Do(E.auth,y);return new Lh(E.auth,"linkViaPopup",m,x,E).executeNotNull()})).apply(this,arguments)}let Lh=(()=>{class b extends Ob{constructor(y,E,x,O,$){super(y,E,O,$),this.provider=x,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var y=this;return(0,d.Z)(function*(){const E=yield y.execute();return be(E,y.auth,"internal-error"),E})()}onExecution(){var y=this;return(0,d.Z)(function*(){ae(1===y.filter.length,"Popup operations only handle one event");const E=Kl();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],E),y.authWindow.associatedEvent=E,y.resolver._originValidation(y.auth).catch(x=>{y.reject(x)}),y.resolver._isIframeWebStorageSupported(y.auth,x=>{x||y.reject(Ue(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(Ue(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const y=()=>{var E,x;this.pollId=(null===(x=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===x?void 0:x.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ue(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(y,Rb.get())};y()}}return b.currentPopupAction=null,b})();const _y=new Map;class MD extends Ob{constructor(m,y,E=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,E),this.eventId=null}execute(){var m=()=>super.execute,y=this;return(0,d.Z)(function*(){let E=_y.get(y.auth._key());if(!E){try{const O=(yield function(b,m){return Ar.apply(this,arguments)}(y.resolver,y.auth))?yield m().call(y):null;E=()=>Promise.resolve(O)}catch(x){E=()=>Promise.reject(x)}_y.set(y.auth._key(),E)}return E()})()}onAuthEvent(m){var y=()=>super.onAuthEvent,E=this;return(0,d.Z)(function*(){if("signInViaRedirect"===m.type)return y().call(E,m);if("unknown"!==m.type){if(m.eventId){const x=yield E.auth._redirectUserForId(m.eventId);if(x)return E.user=x,y().call(E,m);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function Ar(){return(Ar=(0,d.Z)(function*(b,m){const y=wu(m),E="true"===(yield Ls(b)._get(y));return yield Ls(b)._remove(y),E})).apply(this,arguments)}function cc(b,m){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,d.Z)(function*(b,m){return Ls(b)._set(wu(m),"true")})).apply(this,arguments)}function Ls(b){return ue(b._redirectPersistence)}function wu(b){return qt("pendingRedirect",b.config.apiKey,b.name)}function Eu(){return(Eu=(0,d.Z)(function*(b,m,y){const E=kt(b);pt(b,m,go);const x=Do(E,y);return yield cc(x,E),x._openRedirect(E,m,"signInViaRedirect")})).apply(this,arguments)}function Tu(){return(Tu=(0,d.Z)(function*(b,m,y){const E=(0,U.m9)(b);pt(E.auth,m,go);const x=Do(E.auth,y);yield cc(x,E.auth);const O=yield Ig(E);return x._openRedirect(E.auth,m,"reauthViaRedirect",O)})).apply(this,arguments)}function Vs(){return(Vs=(0,d.Z)(function*(b,m,y){const E=(0,U.m9)(b);pt(E.auth,m,go);const x=Do(E.auth,y);yield ws(!1,E,m.providerId),yield cc(x,E.auth);const O=yield Ig(E);return x._openRedirect(E.auth,m,"linkViaRedirect",O)})).apply(this,arguments)}function xo(){return(xo=(0,d.Z)(function*(b,m){return yield kt(b)._initializationPromise,fc(b,m,!1)})).apply(this,arguments)}function fc(b,m){return Au.apply(this,arguments)}function Au(){return(Au=(0,d.Z)(function*(b,m,y=!1){const E=kt(b),x=Do(E,m),$=yield new MD(E,x,y).execute();return $&&!y&&(delete $.user._redirectEventId,yield E._persistUserIfCurrent($.user),yield E._setRedirectUser(null,m)),$})).apply(this,arguments)}function Ig(b){return ya.apply(this,arguments)}function ya(){return(ya=(0,d.Z)(function*(b){const m=Kl(`${b.uid}:::`);return b._redirectEventId=m,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),m})).apply(this,arguments)}class So{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let y=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(m,E)&&(y=!0,this.sendToConsumer(m,E),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wi(b);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=m,y=!0)),y}sendToConsumer(m,y){var E;if(m.error&&!wi(m)){const x=(null===(E=m.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";y.onError(Ue(this.auth,x))}else y.onAuthEvent(m)}isEventForConsumer(m,y){const E=null===y.eventId||!!m.eventId&&m.eventId===y.eventId;return y.filter.includes(m.type)&&E}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(xu(m))}saveEventToCache(m){this.cachedEventUids.add(xu(m)),this.lastProcessedEventTime=Date.now()}}function xu(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(m=>m).join("-")}function wi({type:b,error:m}){return"unknown"===b&&"auth/no-auth-event"===(null==m?void 0:m.code)}function Zt(b){return Us.apply(this,arguments)}function Us(){return(Us=(0,d.Z)(function*(b,m={}){return Nt(b,"GET","/v1/projects",m)})).apply(this,arguments)}const Fb=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,es=/^https?/;function Su(){return(Su=(0,d.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:m}=yield Zt(b);for(const y of m)try{if(Bh(y))return}catch(E){}Ve(b,"unauthorized-domain")})).apply(this,arguments)}function Bh(b){const m=Me(),{protocol:y,hostname:E}=new URL(m);if(b.startsWith("chrome-extension://")){const $=new URL(b);return""===$.hostname&&""===E?"chrome-extension:"===y&&b.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===y&&$.hostname===E}if(!es.test(y))return!1;if(Fb.test(b))return E===b;const x=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(E)}const gc=new Kt(3e4,6e4);function jh(){const b=Xt().___jsl;if(null==b?void 0:b.H)for(const m of Object.keys(b.H))if(b.H[m].r=b.H[m].r||[],b.H[m].L=b.H[m].L||[],b.H[m].r=[...b.H[m].L],b.CP)for(let y=0;y<b.CP.length;y++)b.CP[y]=null}let xr=null;function mc(b){return xr=xr||function(b){return new Promise((m,y)=>{var E,x,O;function $(){jh(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{jh(),y(Ue(b,"network-request-failed"))},timeout:gc.get()})}if(null===(x=null===(E=Xt().gapi)||void 0===E?void 0:E.iframes)||void 0===x?void 0:x.Iframe)m(gapi.iframes.getContext());else{if(!(null===(O=Xt().gapi)||void 0===O?void 0:O.load)){const pe=Ph("iframefcb");return Xt()[pe]=()=>{gapi.load?$():y(Ue(b,"network-request-failed"))},Zr(`https://apis.google.com/js/api.js?onload=${pe}`)}$()}}).catch(m=>{throw xr=null,m})}(b),xr}const Bs=new Kt(5e3,15e3),Mu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},Nu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cy(b){const m=b.config;be(m.authDomain,b,"auth-domain-config-required");const y=m.emulator?hn(m,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,E={apiKey:m.apiKey,appName:b.name,v:me.SDK_VERSION},x=Nu.get(b.config.apiHost);x&&(E.eid=x);const O=b._getFrameworks();return O.length&&(E.fw=O.join(",")),`${y}?${(0,U.xO)(E).slice(1)}`}function Dg(){return(Dg=(0,d.Z)(function*(b){const m=yield mc(b),y=Xt().gapi;return be(y,b,"internal-error"),m.open({where:document.body,url:Cy(b),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Mu,dontclear:!0},E=>new Promise(function(){var x=(0,d.Z)(function*(O,$){yield E.restyle({setHideOnLeave:!1});const pe=Ue(b,"network-request-failed"),Pe=Xt().setTimeout(()=>{$(pe)},Bs.get());function Le(){Xt().clearTimeout(Pe),O(E)}E.ping(Le).then(Le,()=>{$(pe)})});return function(O,$){return x.apply(this,arguments)}}()))})).apply(this,arguments)}const Ou={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Hh{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(m){}}}function ba(b,m,y,E,x,O){be(b.config.authDomain,b,"auth-domain-config-required"),be(b.config.apiKey,b,"invalid-api-key");const $={apiKey:b.config.apiKey,appName:b.name,authType:y,redirectUrl:E,v:me.SDK_VERSION,eventId:x};if(m instanceof go){m.setDefaultLanguage(b.languageCode),$.providerId=m.providerId||"",(0,U.xb)(m.getCustomParameters())||($.customParameters=JSON.stringify(m.getCustomParameters()));for(const[Pe,Le]of Object.entries(O||{}))$[Pe]=Le}if(m instanceof eu){const Pe=m.getScopes().filter(Le=>""!==Le);Pe.length>0&&($.scopes=Pe.join(","))}b.tenantId&&($.tid=b.tenantId);const pe=$;for(const Pe of Object.keys(pe))void 0===pe[Pe]&&delete pe[Pe];return`${function({config:b}){return b.emulator?hn(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,U.xO)(pe).slice(1)}`}const ns="webStorageSupport";class Mo extends class{constructor(m){this.factorId=m}_process(m,y,E){switch(y.type){case"enroll":return this._finalizeEnroll(m,y.credential,E);case"signin":return this._finalizeSignIn(m,y.credential);default:return ie("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Mo(m)}_finalizeEnroll(m,y,E){return function(b,m){return Nt(b,"POST","/v2/accounts/mfaEnrollment:finalize",rt(b,m))}(m,{idToken:y,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,y){return function(b,m){return Nt(b,"POST","/v2/accounts/mfaSignIn:finalize",rt(b,m))}(m,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Pu=(()=>{class b{constructor(){}static assertion(y){return Mo._fromCredential(y)}}return b.FACTOR_ID="phone",b})();var b;class Mg{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var y=this;return(0,d.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const y=this.auth.onIdTokenChanged(E=>{var x;m((null===(x=E)||void 0===x?void 0:x.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,y),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const y=this.internalListeners.get(m);!y||(this.internalListeners.delete(m),y(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function No(){return window}function Ei(){return(Ei=(0,d.Z)(function*(b,m,y){var E;const{BuildInfo:x}=No();ae(m.sessionId,"AuthEvent did not contain a session ID");const O=yield xy(m.sessionId),$={};return mi()?$.ibi=x.packageName:ia()?$.apn=x.packageName:Ve(b,"operation-not-supported-in-this-environment"),x.displayName&&($.appDisplayName=x.displayName),$.sessionId=O,ba(b,y,m.type,void 0,null!==(E=m.eventId)&&void 0!==E?E:void 0,$)})).apply(this,arguments)}function yc(){return(yc=(0,d.Z)(function*(b){const{BuildInfo:m}=No(),y={};mi()?y.iosBundleId=m.packageName:ia()?y.androidPackageName=m.packageName:Ve(b,"operation-not-supported-in-this-environment"),yield Zt(b,y)})).apply(this,arguments)}function ku(){return(ku=(0,d.Z)(function*(b,m,y){const{cordova:E}=No();let x=()=>{};try{yield new Promise((O,$)=>{let pe=null;function Pe(){var Xe;O();const yn=null===(Xe=E.plugins.browsertab)||void 0===Xe?void 0:Xe.close;"function"==typeof yn&&yn(),"function"==typeof(null==y?void 0:y.close)&&y.close()}function Le(){pe||(pe=window.setTimeout(()=>{$(Ue(b,"redirect-cancelled-by-user"))},2e3))}function et(){"visible"===(null==document?void 0:document.visibilityState)&&Le()}m.addPassiveListener(Pe),document.addEventListener("resume",Le,!1),ia()&&document.addEventListener("visibilitychange",et,!1),x=()=>{m.removePassiveListener(Pe),document.removeEventListener("resume",Le,!1),document.removeEventListener("visibilitychange",et,!1),pe&&window.clearTimeout(pe)}})}finally{x()}})).apply(this,arguments)}function xy(b){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,d.Z)(function*(b){const m=Sy(b),y=yield crypto.subtle.digest("SHA-256",m);return Array.from(new Uint8Array(y)).map(x=>x.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Sy(b){if(ae(/[0-9a-zA-Z]+/.test(b),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(b);const m=new ArrayBuffer(b.length),y=new Uint8Array(m);for(let E=0;E<b.length;E++)y[E]=b.charCodeAt(E);return y}b="Browser",(0,me._registerComponent)(new _e.wA("auth",(m,{options:y})=>{const E=m.getProvider("app").getImmediate(),{apiKey:x,authDomain:O}=E.options;return($=>{be(x&&!x.includes(":"),"invalid-api-key",{appName:$.name}),be(!(null==O?void 0:O.includes(":")),"argument-error",{appName:$.name});const pe={apiKey:x,authDomain:O,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:or(b)},Pe=new Q_($,pe);return function(b,m){const y=(null==m?void 0:m.persistence)||[],E=(Array.isArray(y)?y:[y]).map(ue);(null==m?void 0:m.errorMap)&&b._updateErrorMap(m.errorMap),b._initializeWithPersistence(E,null==m?void 0:m.popupRedirectResolver)}(Pe,y),Pe})(E)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,y,E)=>{m.getProvider("auth-internal").initialize()})),(0,me._registerComponent)(new _e.wA("auth-internal",m=>{const y=kt(m.getProvider("auth").getImmediate());return new Mg(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,me.registerVersion)("@firebase/auth","0.18.0",void 0);class zh extends So{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(m=>{this.resolveInialized=m})}addPassiveListener(m){this.passiveListeners.add(m)}removePassiveListener(m){this.passiveListeners.delete(m)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(m){return this.resolveInialized(),this.passiveListeners.forEach(y=>y(m)),super.onEvent(m)}initialized(){var m=this;return(0,d.Z)(function*(){yield m.initPromise})()}}function Wh(b){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,d.Z)(function*(b){const m=yield js()._get(vc(b));return m&&(yield js()._remove(vc(b))),m})).apply(this,arguments)}function Pi(){const b=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let y=0;y<20;y++){const E=Math.floor(Math.random()*m.length);b.push(m.charAt(E))}return b.join("")}function js(){return ue(Wl)}function vc(b){return qt("authEvent",b.config.apiKey,b.name)}function bc(b){if(!(null==b?void 0:b.includes("?")))return{};const[m,...y]=b.split("?");return(0,U.zd)(y.join("?"))}function Lu(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ue("no-auth-event")}}function Xh(){var b;return(null===(b=null==self?void 0:self.location)||void 0===b?void 0:b.protocol)||null}function Py(b=(0,U.z$)()){return!("file:"!==Xh()&&"ionic:"!==Xh()||!b.toLowerCase().match(/iphone|ipad|ipod|android/))}function tf(){try{const b=self.localStorage,m=Kl();if(b)return b.setItem(m,"1"),b.removeItem(m),!function(b=(0,U.z$)()){return(0,U.w1)()&&11===(null==document?void 0:document.documentMode)||function(b=(0,U.z$)()){return/Edge\/\d+/.test(b)}(b)}()||(0,U.hl)()}catch(b){return Lg()&&(0,U.hl)()}return!1}function Lg(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function He(){return("http:"===Xh()||"https:"===Xh()||(0,U.ru)()||Py())&&!((0,U.b$)()||(0,U.UG)())&&tf()&&!Lg()}function qn(){return Py()&&"undefined"!=typeof document}function lr(){return(lr=(0,d.Z)(function*(){return!!qn()&&new Promise(b=>{const m=setTimeout(()=>{b(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(m),b(!0)})})})).apply(this,arguments)}const cr={LOCAL:"local",NONE:"none",SESSION:"session"},dr=be,Ug="persistence";function nf(b){return rf.apply(this,arguments)}function rf(){return(rf=(0,d.Z)(function*(b){yield b._initializationPromise;const m=Bg(),y=qt(Ug,b.config.apiKey,b.name);(null==m?void 0:m.sessionStorage)&&m.sessionStorage.setItem(y,b._getPersistence())})).apply(this,arguments)}function Bg(){return"undefined"!=typeof window?window:null}const Vu=be;class _n{constructor(){this.browserResolver=ue(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yi,this._completeRedirectFn=fc}_openPopup(m,y,E,x){var O=this;return(0,d.Z)(function*(){var $;ae(null===($=O.eventManagers[m._key()])||void 0===$?void 0:$.manager,"_initialize() not called before _openPopup()");const pe=ba(m,y,E,Me(),x);return function(b,m,y,E=500,x=600){const O=Math.max((window.screen.availHeight-x)/2,0).toString(),$=Math.max((window.screen.availWidth-E)/2,0).toString();let pe="";const Pe=Object.assign(Object.assign({},Ou),{width:E.toString(),height:x.toString(),top:O,left:$}),Le=(0,U.z$)().toLowerCase();y&&(pe=eh(Le)?"_blank":y),Fl(Le)&&(m=m||"http://localhost",Pe.scrollbars="yes");const et=Object.entries(Pe).reduce((yn,[vn,Ia])=>`${yn}${vn}=${Ia},`,"");if(function(b=(0,U.z$)()){var m;return mi(b)&&!!(null===(m=window.navigator)||void 0===m?void 0:m.standalone)}(Le)&&"_self"!==pe)return function(b,m){const y=document.createElement("a");y.href=b,y.target=m;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(E)}(m||"",pe),new Hh(null);const Xe=window.open(m||"",pe,et);be(Xe,b,"popup-blocked");try{Xe.focus()}catch(yn){}return new Hh(Xe)}(m,pe,Kl())})()}_openRedirect(m,y,E,x){var O=this;return(0,d.Z)(function*(){return yield O._originValidation(m),b=ba(m,y,E,Me(),x),Xt().location.href=b,new Promise(()=>{});var b})()}_initialize(m){const y=m._key();if(this.eventManagers[y]){const{manager:x,promise:O}=this.eventManagers[y];return x?Promise.resolve(x):(ae(O,"If manager is not set, promise should be"),O)}const E=this.initAndGetManager(m);return this.eventManagers[y]={promise:E},E}initAndGetManager(m){var y=this;return(0,d.Z)(function*(){const E=yield function(b){return Dg.apply(this,arguments)}(m),x=new So(m);return E.register("authEvent",O=>(be(null==O?void 0:O.authEvent,m,"invalid-auth-event"),{status:x.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[m._key()]={manager:x},y.iframes[m._key()]=E,x})()}_isIframeWebStorageSupported(m,y){this.iframes[m._key()].send(ns,{type:ns},x=>{var O;const $=null===(O=null==x?void 0:x[0])||void 0===O?void 0:O[ns];void 0!==$&&y(!!$),Ve(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const y=m._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function(b){return Su.apply(this,arguments)}(m)),this.originValidationPromises[y]}get _shouldInitProactively(){return Mi()||Xd()||mi()}}),this.cordovaResolver=ue(class{constructor(){this._redirectPersistence=Yi,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=fc}_initialize(m){var y=this;return(0,d.Z)(function*(){const E=m._key();let x=y.eventManagers.get(E);return x||(x=new zh(m),y.eventManagers.set(E,x),y.attachCallbackListeners(m,x)),x})()}_openPopup(m){Ve(m,"operation-not-supported-in-this-environment")}_openRedirect(m,y,E,x){var O=this;return(0,d.Z)(function*(){!function(b){var m,y,E,x,O,$,pe,Pe,Le,et;const Xe=No();be("function"==typeof(null===(m=null==Xe?void 0:Xe.universalLinks)||void 0===m?void 0:m.subscribe),b,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),be(void 0!==(null===(y=null==Xe?void 0:Xe.BuildInfo)||void 0===y?void 0:y.packageName),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),be("function"==typeof(null===(O=null===(x=null===(E=null==Xe?void 0:Xe.cordova)||void 0===E?void 0:E.plugins)||void 0===x?void 0:x.browsertab)||void 0===O?void 0:O.openUrl),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),be("function"==typeof(null===(Pe=null===(pe=null===($=null==Xe?void 0:Xe.cordova)||void 0===$?void 0:$.plugins)||void 0===pe?void 0:pe.browsertab)||void 0===Pe?void 0:Pe.isAvailable),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),be("function"==typeof(null===(et=null===(Le=null==Xe?void 0:Xe.cordova)||void 0===Le?void 0:Le.InAppBrowser)||void 0===et?void 0:et.open),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(m);const $=yield O._initialize(m);yield $.initialized(),$.resetRedirect(),_y.clear(),yield O._originValidation(m);const pe=function(b,m,y=null){return{type:m,eventId:y,urlResponse:null,sessionId:Pi(),postBody:null,tenantId:b.tenantId,error:Ue(b,"no-auth-event")}}(m,E,x);yield function(b,m){return js()._set(vc(b),m)}(m,pe);const Pe=yield function(b,m,y){return Ei.apply(this,arguments)}(m,pe,y),Le=yield function(b){const{cordova:m}=No();return new Promise(y=>{m.plugins.browsertab.isAvailable(E=>{let x=null;E?m.plugins.browsertab.openUrl(b):x=m.InAppBrowser.open(b,function(b=(0,U.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}()?"_blank":"_system","location=yes"),y(x)})})}(Pe);return function(b,m,y){return ku.apply(this,arguments)}(m,$,Le)})()}_isIframeWebStorageSupported(m,y){throw new Error("Method not implemented.")}_originValidation(m){const y=m._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function(b){return yc.apply(this,arguments)}(m)),this.originValidationPromises[y]}attachCallbackListeners(m,y){const{universalLinks:E,handleOpenURL:x,BuildInfo:O}=No(),$=setTimeout((0,d.Z)(function*(){yield Wh(m),y.onEvent(Lu())}),500),pe=function(){var et=(0,d.Z)(function*(Xe){clearTimeout($);const yn=yield Wh(m);let vn=null;yn&&(null==Xe?void 0:Xe.url)&&(vn=function(b,m){var y,E;const x=function(b){const m=bc(b),y=m.link?decodeURIComponent(m.link):void 0,E=bc(y).link,x=m.deep_link_id?decodeURIComponent(m.deep_link_id):void 0;return bc(x).link||x||E||y||b}(m);if(x.includes("/__/auth/callback")){const O=bc(x),$=O.firebaseError?function(b){try{return JSON.parse(b)}catch(m){return null}}(decodeURIComponent(O.firebaseError)):null,pe=null===(E=null===(y=null==$?void 0:$.code)||void 0===y?void 0:y.split("auth/"))||void 0===E?void 0:E[1],Pe=pe?Ue(pe):null;return Pe?{type:b.type,eventId:b.eventId,tenantId:b.tenantId,error:Pe,urlResponse:null,sessionId:null,postBody:null}:{type:b.type,eventId:b.eventId,tenantId:b.tenantId,sessionId:b.sessionId,urlResponse:x,postBody:null}}return null}(yn,Xe.url)),y.onEvent(vn||Lu())});return function(yn){return et.apply(this,arguments)}}();void 0!==E&&"function"==typeof E.subscribe&&E.subscribe(null,pe);const Pe=x,Le=`${O.packageName.toLowerCase()}://`;No().handleOpenURL=function(){var et=(0,d.Z)(function*(Xe){if(Xe.toLowerCase().startsWith(Le)&&pe({url:Xe}),"function"==typeof Pe)try{Pe(Xe)}catch(yn){console.error(yn)}});return function(Xe){return et.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Yi,this._completeRedirectFn=fc}_initialize(m){var y=this;return(0,d.Z)(function*(){return yield y.selectUnderlyingResolver(),y.assertedUnderlyingResolver._initialize(m)})()}_openPopup(m,y,E,x){var O=this;return(0,d.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(m,y,E,x)})()}_openRedirect(m,y,E,x){var O=this;return(0,d.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(m,y,E,x)})()}_isIframeWebStorageSupported(m,y){this.assertedUnderlyingResolver._isIframeWebStorageSupported(m,y)}_originValidation(m){return this.assertedUnderlyingResolver._originValidation(m)}get _shouldInitProactively(){return qn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Vu(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var m=this;return(0,d.Z)(function*(){if(m.underlyingResolver)return;const y=yield function(){return lr.apply(this,arguments)}();m.underlyingResolver=y?m.cordovaResolver:m.browserResolver})()}}function wc(b){return b.unwrap()}function Uu(b){return wa(b)}function Mn(b,m){var y;const E=null===(y=m.customData)||void 0===y?void 0:y._tokenResponse;if("auth/multi-factor-auth-required"===m.code)m.resolver=new Ea(b,function(b,m){var y;const E=(0,U.m9)(b),x=m;return be(m.operationType,E,"argument-error"),be(null===(y=x.serverResponse)||void 0===y?void 0:y.mfaPendingCredential,E,"argument-error"),Eh._fromError(E,x)}(b,m));else if(E){const x=wa(m),O=m;x&&(O.credential=x,O.tenantId=E.tenantId||void 0,O.email=E.email||void 0,O.phoneNumber=E.phoneNumber||void 0)}}function wa(b){const{_tokenResponse:m}=b instanceof U.ZR?b.customData:b;if(!m)return null;if(!(b instanceof U.ZR)&&"temporaryProof"in m&&"phoneNumber"in m)return To.credentialFromResult(b);const y=m.providerId;if(!y||"password"===y)return null;let E;switch(y){case"google.com":E=uh;break;case"facebook.com":E=ah;break;case"github.com":E=lh;break;case"twitter.com":E=dh;break;default:const{oauthIdToken:x,oauthAccessToken:O,oauthTokenSecret:$,pendingToken:pe,nonce:Pe}=m;return O||$||x||pe?pe?y.startsWith("saml.")?ca._create(y,pe):Br._fromParams({providerId:y,signInMethod:y,pendingToken:pe,idToken:x,accessToken:O}):new mo(y).credential({idToken:x,accessToken:O,rawNonce:Pe}):null}return b instanceof U.ZR?E.credentialFromError(b):E.credentialFromResult(b)}function kn(b,m){return ki.apply(this,arguments)}function ki(){return(ki=(0,d.Z)(function*(b,m){let y;try{y=yield m}catch(O){throw O instanceof U.ZR&&Mn(b,O),O}const{operationType:E,user:x}=y;return{operationType:E,credential:Uu(y),additionalUserInfo:_g(y),user:zt.getOrCreate(x)}})).apply(this,arguments)}function Ec(b,m){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,d.Z)(function*(b,m){const y=yield m;return{verificationId:y.verificationId,confirm:E=>kn(b,y.confirm(E))}})).apply(this,arguments)}class Ea{constructor(m,y){this.resolver=y,this.auth=function(b){return b.wrapped()}(m)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(m){return kn(wc(this.auth),this.resolver.resolveSignIn(m))}}class zt{constructor(m){this._delegate=m,this.multiFactor=function(b){const m=(0,U.m9)(b);return fa.has(m)||fa.set(m,ha._fromUser(m)),fa.get(m)}(m)}static getOrCreate(m){return zt.USER_MAP.has(m)||zt.USER_MAP.set(m,new zt(m)),zt.USER_MAP.get(m)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(m){return this._delegate.getIdTokenResult(m)}getIdToken(m){return this._delegate.getIdToken(m)}linkAndRetrieveDataWithCredential(m){return this.linkWithCredential(m)}linkWithCredential(m){var y=this;return(0,d.Z)(function*(){return kn(y.auth,cg(y._delegate,m))})()}linkWithPhoneNumber(m,y){var E=this;return(0,d.Z)(function*(){return Ec(E.auth,function(b,m,y){return oc.apply(this,arguments)}(E._delegate,m,y))})()}linkWithPopup(m){var y=this;return(0,d.Z)(function*(){return kn(y.auth,function(b,m,y){return _a.apply(this,arguments)}(y._delegate,m,_n))})()}linkWithRedirect(m){var y=this;return(0,d.Z)(function*(){return yield nf(kt(y.auth)),function(b,m,y){return function(b,m,y){return Vs.apply(this,arguments)}(b,m,y)}(y._delegate,m,_n)})()}reauthenticateAndRetrieveDataWithCredential(m){return this.reauthenticateWithCredential(m)}reauthenticateWithCredential(m){var y=this;return(0,d.Z)(function*(){return kn(y.auth,su(y._delegate,m))})()}reauthenticateWithPhoneNumber(m,y){return Ec(this.auth,function(b,m,y){return ac.apply(this,arguments)}(this._delegate,m,y))}reauthenticateWithPopup(m){return kn(this.auth,function(b,m,y){return ri.apply(this,arguments)}(this._delegate,m,_n))}reauthenticateWithRedirect(m){var y=this;return(0,d.Z)(function*(){return yield nf(kt(y.auth)),function(b,m,y){return function(b,m,y){return Tu.apply(this,arguments)}(b,m,y)}(y._delegate,m,_n)})()}sendEmailVerification(m){return function(b,m){return Ds.apply(this,arguments)}(this._delegate,m)}unlink(m){var y=this;return(0,d.Z)(function*(){return yield function(b,m){return Hl.apply(this,arguments)}(y._delegate,m),y})()}updateEmail(m){return function(b,m){return Ch((0,U.m9)(b),m,null)}(this._delegate,m)}updatePassword(m){return function(b,m){return Ch((0,U.m9)(b),null,m)}(this._delegate,m)}updatePhoneNumber(m){return function(b,m){return lc.apply(this,arguments)}(this._delegate,m)}updateProfile(m){return function(b,m){return yh.apply(this,arguments)}(this._delegate,m)}verifyBeforeUpdateEmail(m,y){return function(b,m,y){return ti.apply(this,arguments)}(this._delegate,m,y)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}zt.USER_MAP=new WeakMap;const Bu=be;let sf=(()=>{class b{constructor(y,E){if(this.app=y,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:x}=y.options;Bu(x,"invalid-api-key",{appName:y.name});let O=[Ct];if("undefined"!=typeof window){O=function(b,m){const y=Bg();if(!(null==y?void 0:y.sessionStorage))return[];const E=qt(Ug,b,m);switch(y.sessionStorage.getItem(E)){case cr.NONE:return[Ct];case cr.LOCAL:return[pa,Yi];case cr.SESSION:return[Yi];default:return[]}}(x,y.name);for(const pe of[pa,Wl,Yi])O.includes(pe)||O.push(pe)}Bu(x,"invalid-api-key",{appName:y.name});const $="undefined"!=typeof window?_n:void 0;this._delegate=E.initialize({options:{persistence:O,popupRedirectResolver:$}}),this._delegate._updateErrorMap(he),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?zt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(y){this._delegate.languageCode=y}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(y){this._delegate.tenantId=y}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(y,E){!function(b,m,y){const E=kt(b);be(E._canInitEmulator,E,"emulator-config-failed"),be(/^https?:\/\//.test(m),E,"invalid-emulator-scheme");const x=!!(null==y?void 0:y.disableWarnings),O=Gt(m),{host:$,port:pe}=function(b){const m=Gt(b),y=/(\/\/)?([^?#/]+)/.exec(b.substr(m.length));if(!y)return{host:"",port:null};const E=y[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(E);if(x){const O=x[1];return{host:O,port:Cs(E.substr(O.length+1))}}{const[O,$]=E.split(":");return{host:O,port:Cs($)}}}(m);E.config.emulator={url:`${O}//${$}${null===pe?"":`:${pe}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:$,port:pe,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:x})}),function(b){function m(){const y=document.createElement("p"),E=y.style;y.innerText="Running in emulator mode. Do not use with production credentials.",E.position="fixed",E.width="100%",E.backgroundColor="#ffffff",E.border=".1em solid #000000",E.color="#b50000",E.bottom="0px",E.left="0px",E.margin="0px",E.zIndex="10000",E.textAlign="center",y.classList.add("firebase-emulator-warning"),document.body.appendChild(y)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!b&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}(x)}(this._delegate,y,E)}applyActionCode(y){return function(b,m){return yo.apply(this,arguments)}(this._delegate,y)}checkActionCode(y){return cu(this._delegate,y)}confirmPasswordReset(y,E){return function(b,m,y){return it.apply(this,arguments)}(this._delegate,y,E)}createUserWithEmailAndPassword(y,E){var x=this;return(0,d.Z)(function*(){return kn(x._delegate,function(b,m,y){return Ie.apply(this,arguments)}(x._delegate,y,E))})()}fetchProvidersForEmail(y){return this.fetchSignInMethodsForEmail(y)}fetchSignInMethodsForEmail(y){return function(b,m){return pg.apply(this,arguments)}(this._delegate,y)}isSignInWithEmailLink(y){return function(b,m){const y=Bl.parseLink(m);return"EMAIL_SIGNIN"===(null==y?void 0:y.operation)}(0,y)}getRedirectResult(){var y=this;return(0,d.Z)(function*(){Bu(He(),y._delegate,"operation-not-supported-in-this-environment");const E=yield function(b,m){return xo.apply(this,arguments)}(y._delegate,_n);return E?kn(y._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(y){!function(b,m){kt(b)._logFramework(m)}(this._delegate,y)}onAuthStateChanged(y,E,x){const{next:O,error:$,complete:pe}=Vy(y,E,x);return this._delegate.onAuthStateChanged(O,$,pe)}onIdTokenChanged(y,E,x){const{next:O,error:$,complete:pe}=Vy(y,E,x);return this._delegate.onIdTokenChanged(O,$,pe)}sendSignInLinkToEmail(y,E){return function(b,m,y){return gn.apply(this,arguments)}(this._delegate,y,E)}sendPasswordResetEmail(y,E){return function(b,m,y){return zl.apply(this,arguments)}(this._delegate,y,E||void 0)}setPersistence(y){var E=this;return(0,d.Z)(function*(){let x;switch(function(b,m){dr(Object.values(cr).includes(m),b,"invalid-persistence-type"),(0,U.b$)()?dr(m!==cr.SESSION,b,"unsupported-persistence-type"):(0,U.UG)()?dr(m===cr.NONE,b,"unsupported-persistence-type"):Lg()?dr(m===cr.NONE||m===cr.LOCAL&&(0,U.hl)(),b,"unsupported-persistence-type"):dr(m===cr.NONE||tf(),b,"unsupported-persistence-type")}(E._delegate,y),y){case cr.SESSION:x=Yi;break;case cr.LOCAL:x=(yield ue(pa)._isAvailable())?pa:Wl;break;case cr.NONE:x=Ct;break;default:return Ve("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence(x)})()}signInAndRetrieveDataWithCredential(y){return this.signInWithCredential(y)}signInAnonymously(){return kn(this._delegate,function(b){return nu.apply(this,arguments)}(this._delegate))}signInWithCredential(y){return kn(this._delegate,Gl(this._delegate,y))}signInWithCustomToken(y){return kn(this._delegate,function(b,m){return ur.apply(this,arguments)}(this._delegate,y))}signInWithEmailAndPassword(y,E){return kn(this._delegate,function(b,m,y){return Gl((0,U.m9)(b),ag.credential(m,y))}(this._delegate,y,E))}signInWithEmailLink(y,E){return kn(this._delegate,function(b,m,y){return ei.apply(this,arguments)}(this._delegate,y,E))}signInWithPhoneNumber(y,E){return Ec(this._delegate,function(b,m,y){return sc.apply(this,arguments)}(this._delegate,y,E))}signInWithPopup(y){var E=this;return(0,d.Z)(function*(){return Bu(He(),E._delegate,"operation-not-supported-in-this-environment"),kn(E._delegate,function(b,m,y){return ni.apply(this,arguments)}(E._delegate,y,_n))})()}signInWithRedirect(y){var E=this;return(0,d.Z)(function*(){return Bu(He(),E._delegate,"operation-not-supported-in-this-environment"),yield nf(E._delegate),function(b,m,y){return function(b,m,y){return Eu.apply(this,arguments)}(b,m,y)}(E._delegate,y,_n)})()}updateCurrentUser(y){return this._delegate.updateCurrentUser(y)}verifyPasswordResetCode(y){return function(b,m){return vo.apply(this,arguments)}(this._delegate,y)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return b.Persistence=cr,b})();function Vy(b,m,y){let E=b;"function"!=typeof b&&({next:E,error:m,complete:y}=b);const x=E;return{next:$=>x($&&zt.getOrCreate($)),error:m,complete:y}}class Tc{constructor(){this.providerId="phone",this._delegate=new To(wc(ee.Z.auth()))}static credential(m,y){return To.credential(m,y)}verifyPhoneNumber(m,y){return this._delegate.verifyPhoneNumber(m,y)}unwrap(){return this._delegate}}Tc.PHONE_SIGN_IN_METHOD=To.PHONE_SIGN_IN_METHOD,Tc.PROVIDER_ID=To.PROVIDER_ID;const of=be;class jg{constructor(m,y,E=ee.Z.app()){var x;of(null===(x=E.options)||void 0===x?void 0:x.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new Eg(m,y,E.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(b){b.INTERNAL.registerComponent(new _e.wA("auth-compat",m=>{const y=m.getProvider("app-compat").getImmediate(),E=m.getProvider("auth");return new sf(y,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ag,FacebookAuthProvider:ah,GithubAuthProvider:lh,GoogleAuthProvider:uh,OAuthProvider:mo,PhoneAuthProvider:Tc,PhoneMultiFactorGenerator:Pu,RecaptchaVerifier:jg,TwitterAuthProvider:dh,Auth:sf,AuthCredential:ar,Error:U.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),b.registerVersion("@firebase/auth-compat","0.1.3")}(ee.Z)},7574:(We,we,L)=>{"use strict";L.d(we,{y:()=>F});var d=L(7393),U=L(9181),me=L(6490),se=L(6554),_e=L(4487);var P=L(2494);let F=(()=>{class G{constructor(he){this._isScalar=!1,he&&(this._subscribe=he)}lift(he){const ne=new G;return ne.source=this,ne.operator=he,ne}subscribe(he,ne,X){const{operator:Oe}=this,Ne=function(G,Y,he){if(G){if(G instanceof d.L)return G;if(G[U.b])return G[U.b]()}return G||Y||he?new d.L(G,Y,he):new d.L(me.c)}(he,ne,X);if(Ne.add(Oe?Oe.call(Ne,this.source):this.source||P.v.useDeprecatedSynchronousErrorHandling&&!Ne.syncErrorThrowable?this._subscribe(Ne):this._trySubscribe(Ne)),P.v.useDeprecatedSynchronousErrorHandling&&Ne.syncErrorThrowable&&(Ne.syncErrorThrowable=!1,Ne.syncErrorThrown))throw Ne.syncErrorValue;return Ne}_trySubscribe(he){try{return this._subscribe(he)}catch(ne){P.v.useDeprecatedSynchronousErrorHandling&&(he.syncErrorThrown=!0,he.syncErrorValue=ne),function(G){for(;G;){const{closed:Y,destination:he,isStopped:ne}=G;if(Y||ne)return!1;G=he&&he instanceof d.L?he:null}return!0}(he)?he.error(ne):console.warn(ne)}}forEach(he,ne){return new(ne=W(ne))((X,Oe)=>{let Ne;Ne=this.subscribe(xe=>{try{he(xe)}catch(Ve){Oe(Ve),Ne&&Ne.unsubscribe()}},Oe,X)})}_subscribe(he){const{source:ne}=this;return ne&&ne.subscribe(he)}[se.L](){return this}pipe(...he){return 0===he.length?this:function(G){return 0===G.length?_e.y:1===G.length?G[0]:function(he){return G.reduce((ne,X)=>X(ne),he)}}(he)(this)}toPromise(he){return new(he=W(he))((ne,X)=>{let Oe;this.subscribe(Ne=>Oe=Ne,Ne=>X(Ne),()=>ne(Oe))})}}return G.create=Y=>new G(Y),G})();function W(G){if(G||(G=P.v.Promise||Promise),!G)throw new Error("no Promise impl found");return G}},6490:(We,we,L)=>{"use strict";L.d(we,{c:()=>U});var d=L(2494),ee=L(4449);const U={closed:!0,next(me){},error(me){if(d.v.useDeprecatedSynchronousErrorHandling)throw me;(0,ee.z)(me)},complete(){}}},9765:(We,we,L)=>{"use strict";L.d(we,{Yc:()=>_e,xQ:()=>fe});var d=L(7574),ee=L(7393),U=L(5319),me=L(7971),ge=L(8858),se=L(9181);class _e extends ee.L{constructor(F){super(F),this.destination=F}}let fe=(()=>{class P extends d.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[se.b](){return new _e(this)}lift(W){const G=new q(this,this);return G.operator=W,G}next(W){if(this.closed)throw new me.N;if(!this.isStopped){const{observers:G}=this,Y=G.length,he=G.slice();for(let ne=0;ne<Y;ne++)he[ne].next(W)}}error(W){if(this.closed)throw new me.N;this.hasError=!0,this.thrownError=W,this.isStopped=!0;const{observers:G}=this,Y=G.length,he=G.slice();for(let ne=0;ne<Y;ne++)he[ne].error(W);this.observers.length=0}complete(){if(this.closed)throw new me.N;this.isStopped=!0;const{observers:W}=this,G=W.length,Y=W.slice();for(let he=0;he<G;he++)Y[he].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(W){if(this.closed)throw new me.N;return super._trySubscribe(W)}_subscribe(W){if(this.closed)throw new me.N;return this.hasError?(W.error(this.thrownError),U.w.EMPTY):this.isStopped?(W.complete(),U.w.EMPTY):(this.observers.push(W),new ge.W(this,W))}asObservable(){const W=new d.y;return W.source=this,W}}return P.create=(F,W)=>new q(F,W),P})();class q extends fe{constructor(F,W){super(),this.destination=F,this.source=W}next(F){const{destination:W}=this;W&&W.next&&W.next(F)}error(F){const{destination:W}=this;W&&W.error&&this.destination.error(F)}complete(){const{destination:F}=this;F&&F.complete&&this.destination.complete()}_subscribe(F){const{source:W}=this;return W?this.source.subscribe(F):U.w.EMPTY}}},8858:(We,we,L)=>{"use strict";L.d(we,{W:()=>ee});var d=L(5319);class ee extends d.w{constructor(me,ge){super(),this.subject=me,this.subscriber=ge,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const me=this.subject,ge=me.observers;if(this.subject=null,!ge||0===ge.length||me.isStopped||me.closed)return;const se=ge.indexOf(this.subscriber);-1!==se&&ge.splice(se,1)}}},7393:(We,we,L)=>{"use strict";L.d(we,{L:()=>_e});var d=L(9105),ee=L(6490),U=L(5319),me=L(9181),ge=L(2494),se=L(4449);class _e extends U.w{constructor(P,F,W){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ee.c;break;case 1:if(!P){this.destination=ee.c;break}if("object"==typeof P){P instanceof _e?(this.syncErrorThrowable=P.syncErrorThrowable,this.destination=P,P.add(this)):(this.syncErrorThrowable=!0,this.destination=new fe(this,P));break}default:this.syncErrorThrowable=!0,this.destination=new fe(this,P,F,W)}}[me.b](){return this}static create(P,F,W){const G=new _e(P,F,W);return G.syncErrorThrowable=!1,G}next(P){this.isStopped||this._next(P)}error(P){this.isStopped||(this.isStopped=!0,this._error(P))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(P){this.destination.next(P)}_error(P){this.destination.error(P),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:P}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=P,this}}class fe extends _e{constructor(P,F,W,G){super(),this._parentSubscriber=P;let Y,he=this;(0,d.m)(F)?Y=F:F&&(Y=F.next,W=F.error,G=F.complete,F!==ee.c&&(he=Object.create(F),(0,d.m)(he.unsubscribe)&&this.add(he.unsubscribe.bind(he)),he.unsubscribe=this.unsubscribe.bind(this))),this._context=he,this._next=Y,this._error=W,this._complete=G}next(P){if(!this.isStopped&&this._next){const{_parentSubscriber:F}=this;ge.v.useDeprecatedSynchronousErrorHandling&&F.syncErrorThrowable?this.__tryOrSetError(F,this._next,P)&&this.unsubscribe():this.__tryOrUnsub(this._next,P)}}error(P){if(!this.isStopped){const{_parentSubscriber:F}=this,{useDeprecatedSynchronousErrorHandling:W}=ge.v;if(this._error)W&&F.syncErrorThrowable?(this.__tryOrSetError(F,this._error,P),this.unsubscribe()):(this.__tryOrUnsub(this._error,P),this.unsubscribe());else if(F.syncErrorThrowable)W?(F.syncErrorValue=P,F.syncErrorThrown=!0):(0,se.z)(P),this.unsubscribe();else{if(this.unsubscribe(),W)throw P;(0,se.z)(P)}}}complete(){if(!this.isStopped){const{_parentSubscriber:P}=this;if(this._complete){const F=()=>this._complete.call(this._context);ge.v.useDeprecatedSynchronousErrorHandling&&P.syncErrorThrowable?(this.__tryOrSetError(P,F),this.unsubscribe()):(this.__tryOrUnsub(F),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(P,F){try{P.call(this._context,F)}catch(W){if(this.unsubscribe(),ge.v.useDeprecatedSynchronousErrorHandling)throw W;(0,se.z)(W)}}__tryOrSetError(P,F,W){if(!ge.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{F.call(this._context,W)}catch(G){return ge.v.useDeprecatedSynchronousErrorHandling?(P.syncErrorValue=G,P.syncErrorThrown=!0,!0):((0,se.z)(G),!0)}return!1}_unsubscribe(){const{_parentSubscriber:P}=this;this._context=null,this._parentSubscriber=null,P.unsubscribe()}}},5319:(We,we,L)=>{"use strict";L.d(we,{w:()=>se});var d=L(9796),ee=L(1555),U=L(9105);const ge=(()=>{function fe(q){return Error.call(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((P,F)=>`${F+1}) ${P.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q,this}return fe.prototype=Object.create(Error.prototype),fe})();class se{constructor(q){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,q&&(this._ctorUnsubscribe=!0,this._unsubscribe=q)}unsubscribe(){let q;if(this.closed)return;let{_parentOrParents:P,_ctorUnsubscribe:F,_unsubscribe:W,_subscriptions:G}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,P instanceof se)P.remove(this);else if(null!==P)for(let Y=0;Y<P.length;++Y)P[Y].remove(this);if((0,U.m)(W)){F&&(this._unsubscribe=void 0);try{W.call(this)}catch(Y){q=Y instanceof ge?_e(Y.errors):[Y]}}if((0,d.k)(G)){let Y=-1,he=G.length;for(;++Y<he;){const ne=G[Y];if((0,ee.K)(ne))try{ne.unsubscribe()}catch(X){q=q||[],X instanceof ge?q=q.concat(_e(X.errors)):q.push(X)}}}if(q)throw new ge(q)}add(q){let P=q;if(!q)return se.EMPTY;switch(typeof q){case"function":P=new se(q);case"object":if(P===this||P.closed||"function"!=typeof P.unsubscribe)return P;if(this.closed)return P.unsubscribe(),P;if(!(P instanceof se)){const G=P;P=new se,P._subscriptions=[G]}break;default:throw new Error("unrecognized teardown "+q+" added to Subscription.")}let{_parentOrParents:F}=P;if(null===F)P._parentOrParents=this;else if(F instanceof se){if(F===this)return P;P._parentOrParents=[F,this]}else{if(-1!==F.indexOf(this))return P;F.push(this)}const W=this._subscriptions;return null===W?this._subscriptions=[P]:W.push(P),P}remove(q){const P=this._subscriptions;if(P){const F=P.indexOf(q);-1!==F&&P.splice(F,1)}}}var fe;function _e(fe){return fe.reduce((q,P)=>q.concat(P instanceof ge?P.errors:P),[])}se.EMPTY=((fe=new se).closed=!0,fe)},2494:(We,we,L)=>{"use strict";L.d(we,{v:()=>ee});let d=!1;const ee={Promise:void 0,set useDeprecatedSynchronousErrorHandling(U){if(U){const me=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+me.stack)}else d&&console.log("RxJS: Back to a better error behavior. Thank you. <3");d=U},get useDeprecatedSynchronousErrorHandling(){return d}}},5345:(We,we,L)=>{"use strict";L.d(we,{IY:()=>me,Ds:()=>se,ft:()=>fe});var d=L(7393),ee=L(7574),U=L(7444);class me extends d.L{constructor(P){super(),this.parent=P}_next(P){this.parent.notifyNext(P)}_error(P){this.parent.notifyError(P),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class se extends d.L{notifyNext(P){this.destination.next(P)}notifyError(P){this.destination.error(P)}notifyComplete(){this.destination.complete()}}function fe(q,P){if(P.closed)return;if(q instanceof ee.y)return q.subscribe(P);let F;try{F=(0,U.s)(q)(P)}catch(W){P.error(W)}return F}},2441:(We,we,L)=>{"use strict";L.d(we,{c:()=>ge,N:()=>se});var d=L(9765),ee=L(7574),U=L(5319),me=L(1307);class ge extends ee.y{constructor(F,W){super(),this.source=F,this.subjectFactory=W,this._refCount=0,this._isComplete=!1}_subscribe(F){return this.getSubject().subscribe(F)}getSubject(){const F=this._subject;return(!F||F.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let F=this._connection;return F||(this._isComplete=!1,F=this._connection=new U.w,F.add(this.source.subscribe(new _e(this.getSubject(),this))),F.closed&&(this._connection=null,F=U.w.EMPTY)),F}refCount(){return(0,me.x)()(this)}}const se=(()=>{const P=ge.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:P._subscribe},_isComplete:{value:P._isComplete,writable:!0},getSubject:{value:P.getSubject},connect:{value:P.connect},refCount:{value:P.refCount}}})();class _e extends d.Yc{constructor(F,W){super(F),this.connectable=W}_error(F){this._unsubscribe(),super._error(F)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const F=this.connectable;if(F){this.connectable=null;const W=F._connection;F._refCount=0,F._subject=null,F._connection=null,W&&W.unsubscribe()}}}},9193:(We,we,L)=>{"use strict";L.d(we,{E:()=>ee,c:()=>U});var d=L(7574);const ee=new d.y(ge=>ge.complete());function U(ge){return ge?function(ge){return new d.y(se=>ge.schedule(()=>se.complete()))}(ge):ee}},4402:(We,we,L)=>{"use strict";L.d(we,{D:()=>he});var d=L(7574),ee=L(7444),U=L(5319),me=L(6554),_e=L(4087),fe=L(377),F=L(4072),W=L(9489);function he(ne,X){return X?function(ne,X){if(null!=ne){if(function(ne){return ne&&"function"==typeof ne[me.L]}(ne))return function(ne,X){return new d.y(Oe=>{const Ne=new U.w;return Ne.add(X.schedule(()=>{const xe=ne[me.L]();Ne.add(xe.subscribe({next(Ve){Ne.add(X.schedule(()=>Oe.next(Ve)))},error(Ve){Ne.add(X.schedule(()=>Oe.error(Ve)))},complete(){Ne.add(X.schedule(()=>Oe.complete()))}}))})),Ne})}(ne,X);if((0,F.t)(ne))return function(ne,X){return new d.y(Oe=>{const Ne=new U.w;return Ne.add(X.schedule(()=>ne.then(xe=>{Ne.add(X.schedule(()=>{Oe.next(xe),Ne.add(X.schedule(()=>Oe.complete()))}))},xe=>{Ne.add(X.schedule(()=>Oe.error(xe)))}))),Ne})}(ne,X);if((0,W.z)(ne))return(0,_e.r)(ne,X);if(function(ne){return ne&&"function"==typeof ne[fe.hZ]}(ne)||"string"==typeof ne)return function(ne,X){if(!ne)throw new Error("Iterable cannot be null");return new d.y(Oe=>{const Ne=new U.w;let xe;return Ne.add(()=>{xe&&"function"==typeof xe.return&&xe.return()}),Ne.add(X.schedule(()=>{xe=ne[fe.hZ](),Ne.add(X.schedule(function(){if(Oe.closed)return;let Ve,Ue;try{const Fe=xe.next();Ve=Fe.value,Ue=Fe.done}catch(Fe){return void Oe.error(Fe)}Ue?Oe.complete():(Oe.next(Ve),this.schedule())}))})),Ne})}(ne,X)}throw new TypeError((null!==ne&&typeof ne||ne)+" is not observable")}(ne,X):ne instanceof d.y?ne:new d.y((0,ee.s)(ne))}},6693:(We,we,L)=>{"use strict";L.d(we,{n:()=>me});var d=L(7574),ee=L(5015),U=L(4087);function me(ge,se){return se?(0,U.r)(ge,se):new d.y((0,ee.V)(ge))}},6682:(We,we,L)=>{"use strict";L.d(we,{T:()=>ge});var d=L(7574),ee=L(4869),U=L(3282),me=L(6693);function ge(...se){let _e=Number.POSITIVE_INFINITY,fe=null,q=se[se.length-1];return(0,ee.K)(q)?(fe=se.pop(),se.length>1&&"number"==typeof se[se.length-1]&&(_e=se.pop())):"number"==typeof q&&(_e=se.pop()),null===fe&&1===se.length&&se[0]instanceof d.y?se[0]:(0,U.J)(_e)((0,me.n)(se,fe))}},5917:(We,we,L)=>{"use strict";L.d(we,{of:()=>me});var d=L(4869),ee=L(6693),U=L(4087);function me(...ge){let se=ge[ge.length-1];return(0,d.K)(se)?(ge.pop(),(0,U.r)(ge,se)):(0,ee.n)(ge)}},8002:(We,we,L)=>{"use strict";L.d(we,{U:()=>ee});var d=L(7393);function ee(ge,se){return function(fe){if("function"!=typeof ge)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return fe.lift(new U(ge,se))}}class U{constructor(se,_e){this.project=se,this.thisArg=_e}call(se,_e){return _e.subscribe(new me(se,this.project,this.thisArg))}}class me extends d.L{constructor(se,_e,fe){super(se),this.project=_e,this.count=0,this.thisArg=fe||this}_next(se){let _e;try{_e=this.project.call(this.thisArg,se,this.count++)}catch(fe){return void this.destination.error(fe)}this.destination.next(_e)}}},3282:(We,we,L)=>{"use strict";L.d(we,{J:()=>U});var d=L(9773),ee=L(4487);function U(me=Number.POSITIVE_INFINITY){return(0,d.zg)(ee.y,me)}},9773:(We,we,L)=>{"use strict";L.d(we,{zg:()=>me});var d=L(8002),ee=L(4402),U=L(5345);function me(fe,q,P=Number.POSITIVE_INFINITY){return"function"==typeof q?F=>F.pipe(me((W,G)=>(0,ee.D)(fe(W,G)).pipe((0,d.U)((Y,he)=>q(W,Y,G,he))),P)):("number"==typeof q&&(P=q),F=>F.lift(new ge(fe,P)))}class ge{constructor(q,P=Number.POSITIVE_INFINITY){this.project=q,this.concurrent=P}call(q,P){return P.subscribe(new se(q,this.project,this.concurrent))}}class se extends U.Ds{constructor(q,P,F=Number.POSITIVE_INFINITY){super(q),this.project=P,this.concurrent=F,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(q){this.active<this.concurrent?this._tryNext(q):this.buffer.push(q)}_tryNext(q){let P;const F=this.index++;try{P=this.project(q,F)}catch(W){return void this.destination.error(W)}this.active++,this._innerSub(P)}_innerSub(q){const P=new U.IY(this),F=this.destination;F.add(P);const W=(0,U.ft)(q,P);W!==P&&F.add(W)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(q){this.destination.next(q)}notifyComplete(){const q=this.buffer;this.active--,q.length>0?this._next(q.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(We,we,L)=>{"use strict";L.d(we,{ht:()=>F,QV:()=>q});var d=L(7393),ee=L(9193),U=L(5917),me=L(7574);class fe{constructor(Y,he,ne){this.kind=Y,this.value=he,this.error=ne,this.hasValue="N"===Y}observe(Y){switch(this.kind){case"N":return Y.next&&Y.next(this.value);case"E":return Y.error&&Y.error(this.error);case"C":return Y.complete&&Y.complete()}}do(Y,he,ne){switch(this.kind){case"N":return Y&&Y(this.value);case"E":return he&&he(this.error);case"C":return ne&&ne()}}accept(Y,he,ne){return Y&&"function"==typeof Y.next?this.observe(Y):this.do(Y,he,ne)}toObservable(){switch(this.kind){case"N":return(0,U.of)(this.value);case"E":return G=this.error,new me.y(he=>he.error(G));case"C":return(0,ee.c)()}var G;throw new Error("unexpected notification kind value")}static createNext(Y){return void 0!==Y?new fe("N",Y):fe.undefinedValueNotification}static createError(Y){return new fe("E",void 0,Y)}static createComplete(){return fe.completeNotification}}function q(G,Y=0){return function(ne){return ne.lift(new P(G,Y))}}fe.completeNotification=new fe("C"),fe.undefinedValueNotification=new fe("N",void 0);class P{constructor(Y,he=0){this.scheduler=Y,this.delay=he}call(Y,he){return he.subscribe(new F(Y,this.scheduler,this.delay))}}class F extends d.L{constructor(Y,he,ne=0){super(Y),this.scheduler=he,this.delay=ne}static dispatch(Y){const{notification:he,destination:ne}=Y;he.observe(ne),this.unsubscribe()}scheduleMessage(Y){this.destination.add(this.scheduler.schedule(F.dispatch,this.delay,new W(Y,this.destination)))}_next(Y){this.scheduleMessage(fe.createNext(Y))}_error(Y){this.scheduleMessage(fe.createError(Y)),this.unsubscribe()}_complete(){this.scheduleMessage(fe.createComplete()),this.unsubscribe()}}class W{constructor(Y,he){this.notification=Y,this.destination=he}}},1307:(We,we,L)=>{"use strict";L.d(we,{x:()=>ee});var d=L(7393);function ee(){return function(se){return se.lift(new U(se))}}class U{constructor(se){this.connectable=se}call(se,_e){const{connectable:fe}=this;fe._refCount++;const q=new me(se,fe),P=_e.subscribe(q);return q.closed||(q.connection=fe.connect()),P}}class me extends d.L{constructor(se,_e){super(se),this.connectable=_e}_unsubscribe(){const{connectable:se}=this;if(!se)return void(this.connection=null);this.connectable=null;const _e=se._refCount;if(_e<=0)return void(this.connection=null);if(se._refCount=_e-1,_e>1)return void(this.connection=null);const{connection:fe}=this,q=se._connection;this.connection=null,q&&(!fe||q===fe)&&q.unsubscribe()}}},3101:(We,we,L)=>{"use strict";L.d(we,{R:()=>X});var d=L(7574);let ee=1;const U=Promise.resolve(),me={};function ge(Ne){return Ne in me&&(delete me[Ne],!0)}const se={setImmediate(Ne){const xe=ee++;return me[xe]=!0,U.then(()=>ge(xe)&&Ne()),xe},clearImmediate(Ne){ge(Ne)}};var fe=L(6465),P=L(6102);const G=new class extends P.v{flush(xe){this.active=!0,this.scheduled=void 0;const{actions:Ve}=this;let Ue,Fe=-1,pt=Ve.length;xe=xe||Ve.shift();do{if(Ue=xe.execute(xe.state,xe.delay))break}while(++Fe<pt&&(xe=Ve.shift()));if(this.active=!1,Ue){for(;++Fe<pt&&(xe=Ve.shift());)xe.unsubscribe();throw Ue}}}(class extends fe.o{constructor(xe,Ve){super(xe,Ve),this.scheduler=xe,this.work=Ve}requestAsyncId(xe,Ve,Ue=0){return null!==Ue&&Ue>0?super.requestAsyncId(xe,Ve,Ue):(xe.actions.push(this),xe.scheduled||(xe.scheduled=se.setImmediate(xe.flush.bind(xe,null))))}recycleAsyncId(xe,Ve,Ue=0){if(null!==Ue&&Ue>0||null===Ue&&this.delay>0)return super.recycleAsyncId(xe,Ve,Ue);0===xe.actions.length&&(se.clearImmediate(Ve),xe.scheduled=void 0)}});var Y=L(9796);class ne extends d.y{constructor(xe,Ve=0,Ue=G){var Ne;super(),this.source=xe,this.delayTime=Ve,this.scheduler=Ue,(!(!(0,Y.k)(Ne=Ve)&&Ne-parseFloat(Ne)+1>=0)||Ve<0)&&(this.delayTime=0),(!Ue||"function"!=typeof Ue.schedule)&&(this.scheduler=G)}static create(xe,Ve=0,Ue=G){return new ne(xe,Ve,Ue)}static dispatch(xe){const{source:Ve,subscriber:Ue}=xe;return this.add(Ve.subscribe(Ue))}_subscribe(xe){return this.scheduler.schedule(ne.dispatch,this.delayTime,{source:this.source,subscriber:xe})}}function X(Ne,xe=0){return function(Ue){return Ue.lift(new Oe(Ne,xe))}}class Oe{constructor(xe,Ve){this.scheduler=xe,this.delay=Ve}call(xe,Ve){return new ne(Ve,this.delay,this.scheduler).subscribe(xe)}}},3342:(We,we,L)=>{"use strict";L.d(we,{b:()=>me});var d=L(7393);function ee(){}var U=L(9105);function me(_e,fe,q){return function(F){return F.lift(new ge(_e,fe,q))}}class ge{constructor(fe,q,P){this.nextOrObserver=fe,this.error=q,this.complete=P}call(fe,q){return q.subscribe(new se(fe,this.nextOrObserver,this.error,this.complete))}}class se extends d.L{constructor(fe,q,P,F){super(fe),this._tapNext=ee,this._tapError=ee,this._tapComplete=ee,this._tapError=P||ee,this._tapComplete=F||ee,(0,U.m)(q)?(this._context=this,this._tapNext=q):q&&(this._context=q,this._tapNext=q.next||ee,this._tapError=q.error||ee,this._tapComplete=q.complete||ee)}_next(fe){try{this._tapNext.call(this._context,fe)}catch(q){return void this.destination.error(q)}this.destination.next(fe)}_error(fe){try{this._tapError.call(this._context,fe)}catch(q){return void this.destination.error(q)}this.destination.error(fe)}_complete(){try{this._tapComplete.call(this._context)}catch(fe){return void this.destination.error(fe)}return this.destination.complete()}}},4087:(We,we,L)=>{"use strict";L.d(we,{r:()=>U});var d=L(7574),ee=L(5319);function U(me,ge){return new d.y(se=>{const _e=new ee.w;let fe=0;return _e.add(ge.schedule(function(){fe!==me.length?(se.next(me[fe++]),se.closed||_e.add(this.schedule())):se.complete()})),_e})}},6465:(We,we,L)=>{"use strict";L.d(we,{o:()=>U});var d=L(5319);class ee extends d.w{constructor(ge,se){super()}schedule(ge,se=0){return this}}class U extends ee{constructor(ge,se){super(ge,se),this.scheduler=ge,this.work=se,this.pending=!1}schedule(ge,se=0){if(this.closed)return this;this.state=ge;const _e=this.id,fe=this.scheduler;return null!=_e&&(this.id=this.recycleAsyncId(fe,_e,se)),this.pending=!0,this.delay=se,this.id=this.id||this.requestAsyncId(fe,this.id,se),this}requestAsyncId(ge,se,_e=0){return setInterval(ge.flush.bind(ge,this),_e)}recycleAsyncId(ge,se,_e=0){if(null!==_e&&this.delay===_e&&!1===this.pending)return se;clearInterval(se)}execute(ge,se){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const _e=this._execute(ge,se);if(_e)return _e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ge,se){let fe,_e=!1;try{this.work(ge)}catch(q){_e=!0,fe=!!q&&q||new Error(q)}if(_e)return this.unsubscribe(),fe}_unsubscribe(){const ge=this.id,se=this.scheduler,_e=se.actions,fe=_e.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==fe&&_e.splice(fe,1),null!=ge&&(this.id=this.recycleAsyncId(se,ge,null)),this.delay=null}}},6102:(We,we,L)=>{"use strict";L.d(we,{v:()=>ee});let d=(()=>{class U{constructor(ge,se=U.now){this.SchedulerAction=ge,this.now=se}schedule(ge,se=0,_e){return new this.SchedulerAction(this,ge).schedule(_e,se)}}return U.now=()=>Date.now(),U})();class ee extends d{constructor(me,ge=d.now){super(me,()=>ee.delegate&&ee.delegate!==this?ee.delegate.now():ge()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(me,ge=0,se){return ee.delegate&&ee.delegate!==this?ee.delegate.schedule(me,ge,se):super.schedule(me,ge,se)}flush(me){const{actions:ge}=this;if(this.active)return void ge.push(me);let se;this.active=!0;do{if(se=me.execute(me.state,me.delay))break}while(me=ge.shift());if(this.active=!1,se){for(;me=ge.shift();)me.unsubscribe();throw se}}}},3637:(We,we,L)=>{"use strict";L.d(we,{z:()=>U});var d=L(6465);const U=new(L(6102).v)(d.o)},7771:(We,we,L)=>{"use strict";L.d(we,{c:()=>se,N:()=>ge});var d=L(6465),U=L(6102);const ge=new class extends U.v{}(class extends d.o{constructor(fe,q){super(fe,q),this.scheduler=fe,this.work=q}schedule(fe,q=0){return q>0?super.schedule(fe,q):(this.delay=q,this.state=fe,this.scheduler.flush(this),this)}execute(fe,q){return q>0||this.closed?super.execute(fe,q):this._execute(fe,q)}requestAsyncId(fe,q,P=0){return null!==P&&P>0||null===P&&this.delay>0?super.requestAsyncId(fe,q,P):fe.flush(this)}}),se=ge},377:(We,we,L)=>{"use strict";L.d(we,{hZ:()=>ee});const ee="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(We,we,L)=>{"use strict";L.d(we,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(We,we,L)=>{"use strict";L.d(we,{b:()=>d});const d="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(We,we,L)=>{"use strict";L.d(we,{N:()=>ee});const ee=(()=>{function U(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return U.prototype=Object.create(Error.prototype),U})()},4449:(We,we,L)=>{"use strict";function d(ee){setTimeout(()=>{throw ee},0)}L.d(we,{z:()=>d})},4487:(We,we,L)=>{"use strict";function d(ee){return ee}L.d(we,{y:()=>d})},9796:(We,we,L)=>{"use strict";L.d(we,{k:()=>d});const d=Array.isArray||(ee=>ee&&"number"==typeof ee.length)},9489:(We,we,L)=>{"use strict";L.d(we,{z:()=>d});const d=ee=>ee&&"number"==typeof ee.length&&"function"!=typeof ee},9105:(We,we,L)=>{"use strict";function d(ee){return"function"==typeof ee}L.d(we,{m:()=>d})},1555:(We,we,L)=>{"use strict";function d(ee){return null!==ee&&"object"==typeof ee}L.d(we,{K:()=>d})},4072:(We,we,L)=>{"use strict";function d(ee){return!!ee&&"function"!=typeof ee.subscribe&&"function"==typeof ee.then}L.d(we,{t:()=>d})},4869:(We,we,L)=>{"use strict";function d(ee){return ee&&"function"==typeof ee.schedule}L.d(we,{K:()=>d})},7444:(We,we,L)=>{"use strict";L.d(we,{s:()=>F});var d=L(5015),ee=L(4449),me=L(377),se=L(6554),fe=L(9489),q=L(4072),P=L(1555);const F=W=>{if(W&&"function"==typeof W[se.L])return(W=>G=>{const Y=W[se.L]();if("function"!=typeof Y.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Y.subscribe(G)})(W);if((0,fe.z)(W))return(0,d.V)(W);if((0,q.t)(W))return(W=>G=>(W.then(Y=>{G.closed||(G.next(Y),G.complete())},Y=>G.error(Y)).then(null,ee.z),G))(W);if(W&&"function"==typeof W[me.hZ])return(W=>G=>{const Y=W[me.hZ]();for(;;){let he;try{he=Y.next()}catch(ne){return G.error(ne),G}if(he.done){G.complete();break}if(G.next(he.value),G.closed)break}return"function"==typeof Y.return&&G.add(()=>{Y.return&&Y.return()}),G})(W);{const Y=`You provided ${(0,P.K)(W)?"an invalid object":`'${W}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Y)}}},5015:(We,we,L)=>{"use strict";L.d(we,{V:()=>d});const d=ee=>U=>{for(let me=0,ge=ee.length;me<ge&&!U.closed;me++)U.next(ee[me]);U.complete()}},8675:(We,we,L)=>{"use strict";var d=L(3018);let ee=null;function U(){return ee}const _e=new d.OlP("DocumentToken");let fe=(()=>{class i{historyGo(r){throw new Error("Not implemented")}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=(0,d.Yz7)({factory:q,token:i,providedIn:"platform"}),i})();function q(){return(0,d.LFG)(F)}const P=new d.OlP("Location Initialized");let F=(()=>{class i extends fe{constructor(r){super(),this._doc=r,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return U().getBaseHref(this._doc)}onPopState(r){const a=U().getGlobalEventTarget(this._doc,"window");return a.addEventListener("popstate",r,!1),()=>a.removeEventListener("popstate",r)}onHashChange(r){const a=U().getGlobalEventTarget(this._doc,"window");return a.addEventListener("hashchange",r,!1),()=>a.removeEventListener("hashchange",r)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(r){this.location.pathname=r}pushState(r,a,l){W()?this._history.pushState(r,a,l):this.location.hash=l}replaceState(r,a,l){W()?this._history.replaceState(r,a,l):this.location.hash=l}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return i.\u0275fac=function(r){return new(r||i)(d.LFG(_e))},i.\u0275prov=(0,d.Yz7)({factory:G,token:i,providedIn:"platform"}),i})();function W(){return!!window.history.pushState}function G(){return new F((0,d.LFG)(_e))}function Y(i,n){if(0==i.length)return n;if(0==n.length)return i;let r=0;return i.endsWith("/")&&r++,n.startsWith("/")&&r++,2==r?i+n.substring(1):1==r?i+n:i+"/"+n}function he(i){const n=i.match(/#|\?|$/),r=n&&n.index||i.length;return i.slice(0,r-("/"===i[r-1]?1:0))+i.slice(r)}function ne(i){return i&&"?"!==i[0]?"?"+i:i}let X=(()=>{class i{historyGo(r){throw new Error("Not implemented")}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=(0,d.Yz7)({factory:Oe,token:i,providedIn:"root"}),i})();function Oe(i){const n=(0,d.LFG)(_e).location;return new xe((0,d.LFG)(fe),n&&n.origin||"")}const Ne=new d.OlP("appBaseHref");let xe=(()=>{class i extends X{constructor(r,a){if(super(),this._platformLocation=r,this._removeListenerFns=[],null==a&&(a=this._platformLocation.getBaseHrefFromDOM()),null==a)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=a}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Y(this._baseHref,r)}path(r=!1){const a=this._platformLocation.pathname+ne(this._platformLocation.search),l=this._platformLocation.hash;return l&&r?`${a}${l}`:a}pushState(r,a,l,f){const _=this.prepareExternalUrl(l+ne(f));this._platformLocation.pushState(r,a,_)}replaceState(r,a,l,f){const _=this.prepareExternalUrl(l+ne(f));this._platformLocation.replaceState(r,a,_)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(r=0){var a,l;null===(l=(a=this._platformLocation).historyGo)||void 0===l||l.call(a,r)}}return i.\u0275fac=function(r){return new(r||i)(d.LFG(fe),d.LFG(Ne,8))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})(),Ve=(()=>{class i extends X{constructor(r,a){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=a&&(this._baseHref=a)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let a=this._platformLocation.hash;return null==a&&(a="#"),a.length>0?a.substring(1):a}prepareExternalUrl(r){const a=Y(this._baseHref,r);return a.length>0?"#"+a:a}pushState(r,a,l,f){let _=this.prepareExternalUrl(l+ne(f));0==_.length&&(_=this._platformLocation.pathname),this._platformLocation.pushState(r,a,_)}replaceState(r,a,l,f){let _=this.prepareExternalUrl(l+ne(f));0==_.length&&(_=this._platformLocation.pathname),this._platformLocation.replaceState(r,a,_)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(r=0){var a,l;null===(l=(a=this._platformLocation).historyGo)||void 0===l||l.call(a,r)}}return i.\u0275fac=function(r){return new(r||i)(d.LFG(fe),d.LFG(Ne,8))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})(),Ue=(()=>{class i{constructor(r,a){this._subject=new d.vpe,this._urlChangeListeners=[],this._platformStrategy=r;const l=this._platformStrategy.getBaseHref();this._platformLocation=a,this._baseHref=he(Dt(l)),this._platformStrategy.onPopState(f=>{this._subject.emit({url:this.path(!0),pop:!0,state:f.state,type:f.type})})}path(r=!1){return this.normalize(this._platformStrategy.path(r))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(r,a=""){return this.path()==this.normalize(r+ne(a))}normalize(r){return i.stripTrailingSlash(function(i,n){return i&&n.startsWith(i)?n.substring(i.length):n}(this._baseHref,Dt(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._platformStrategy.prepareExternalUrl(r)}go(r,a="",l=null){this._platformStrategy.pushState(l,"",r,a),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ne(a)),l)}replaceState(r,a="",l=null){this._platformStrategy.replaceState(l,"",r,a),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ne(a)),l)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(r=0){var a,l;null===(l=(a=this._platformStrategy).historyGo)||void 0===l||l.call(a,r)}onUrlChange(r){this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(a=>{this._notifyUrlChangeListeners(a.url,a.state)}))}_notifyUrlChangeListeners(r="",a){this._urlChangeListeners.forEach(l=>l(r,a))}subscribe(r,a,l){return this._subject.subscribe({next:r,error:a,complete:l})}}return i.\u0275fac=function(r){return new(r||i)(d.LFG(X),d.LFG(fe))},i.normalizeQueryParams=ne,i.joinWithSlash=Y,i.stripTrailingSlash=he,i.\u0275prov=(0,d.Yz7)({factory:Fe,token:i,providedIn:"root"}),i})();function Fe(){return new Ue((0,d.LFG)(X),(0,d.LFG)(fe))}function Dt(i){return i.replace(/\/index.html$/,"")}var ae=(()=>((ae=ae||{})[ae.Zero=0]="Zero",ae[ae.One=1]="One",ae[ae.Two=2]="Two",ae[ae.Few=3]="Few",ae[ae.Many=4]="Many",ae[ae.Other=5]="Other",ae))();const wr=d.kL8;class ar{}let fo=(()=>{class i extends ar{constructor(r){super(),this.locale=r}getPluralCategory(r,a){switch(wr(a||this.locale)(r)){case ae.Zero:return"zero";case ae.One:return"one";case ae.Two:return"two";case ae.Few:return"few";case ae.Many:return"many";default:return"other"}}}return i.\u0275fac=function(r){return new(r||i)(d.LFG(d.soG))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();class th{constructor(n,r,a,l){this.$implicit=n,this.ngForOf=r,this.index=a,this.count=l}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ni=(()=>{class i{constructor(r,a,l){this._viewContainer=r,this._template=a,this._differs=l,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;if(!this._differ&&r)try{this._differ=this._differs.find(r).create(this.ngForTrackBy)}catch(a){throw new Error(`Cannot find a differ supporting object '${r}' of type '${function(i){return i.name||typeof i}(r)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const a=[];r.forEachOperation((l,f,_)=>{if(null==l.previousIndex){const w=this._viewContainer.createEmbeddedView(this._template,new th(null,this._ngForOf,-1,-1),null===_?void 0:_),T=new Pn(l,w);a.push(T)}else if(null==_)this._viewContainer.remove(null===f?void 0:f);else if(null!==f){const w=this._viewContainer.get(f);this._viewContainer.move(w,_);const T=new Pn(l,w);a.push(T)}});for(let l=0;l<a.length;l++)this._perViewChange(a[l].view,a[l].record);for(let l=0,f=this._viewContainer.length;l<f;l++){const _=this._viewContainer.get(l);_.context.index=l,_.context.count=f,_.context.ngForOf=this._ngForOf}r.forEachIdentityChange(l=>{this._viewContainer.get(l.currentIndex).context.$implicit=l.item})}_perViewChange(r,a){r.context.$implicit=a.item}static ngTemplateContextGuard(r,a){return!0}}return i.\u0275fac=function(r){return new(r||i)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},i.\u0275dir=d.lG2({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),i})();class Pn{constructor(n,r){this.record=n,this.view=r}}let Oi=(()=>{class i{constructor(r,a){this._viewContainer=r,this._context=new Vr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=a}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){jt("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){jt("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,a){return!0}}return i.\u0275fac=function(r){return new(r||i)(d.Y36(d.s_b),d.Y36(d.Rgc))},i.\u0275dir=d.lG2({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),i})();class Vr{constructor(){this.$implicit=null,this.ngIf=null}}function jt(i,n){if(n&&!n.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${(0,d.AaK)(n)}'.`)}let ch=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:[{provide:ar,useClass:fo}]}),i})();function tu(i){return"server"===i}let nu=(()=>{class i{}return i.\u0275prov=(0,d.Yz7)({token:i,providedIn:"root",factory:()=>new jl((0,d.LFG)(_e),window)}),i})();class jl{constructor(n,r){this.document=n,this.window=r,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const r=function(i,n){const r=i.getElementById(n)||i.getElementsByName(n)[0];if(r)return r;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const a=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let l=a.currentNode;for(;l;){const f=l.shadowRoot;if(f){const _=f.getElementById(n)||f.querySelector(`[name="${n}"]`);if(_)return _}l=a.nextNode()}}return null}(this.document,n);r&&(this.scrollToElement(r),this.attemptFocus(r))}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const r=this.window.history;r&&r.scrollRestoration&&(r.scrollRestoration=n)}}scrollToElement(n){const r=n.getBoundingClientRect(),a=r.left+this.window.pageXOffset,l=r.top+this.window.pageYOffset,f=this.offset();this.window.scrollTo(a-f[0],l-f[1])}attemptFocus(n){return n.focus(),this.document.activeElement===n}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=ru(this.window.history)||ru(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch(n){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(n){return!1}}}function ru(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class _o extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var i;i=new _o,ee||(ee=i)}onAndCancel(n,r,a){return n.addEventListener(r,a,!1),()=>{n.removeEventListener(r,a,!1)}}dispatchEvent(n,r){n.dispatchEvent(r)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,r){return(r=r||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,r){return"window"===r?window:"document"===r?n:"body"===r?n.body:null}getBaseHref(n){const r=(ws=ws||document.querySelector("base"),ws?ws.getAttribute("href"):null);return null==r?null:function(i){$l=$l||document.createElement("a"),$l.setAttribute("href",i);const n=$l.pathname;return"/"===n.charAt(0)?n:`/${n}`}(r)}resetBaseElement(){ws=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function(i,n){n=encodeURIComponent(n);for(const r of i.split(";")){const a=r.indexOf("="),[l,f]=-1==a?[r,""]:[r.slice(0,a),r.slice(a+1)];if(l.trim()===n)return decodeURIComponent(f)}return null}(document.cookie,n)}}let $l,ws=null;const lg=new d.OlP("TRANSITION_ID"),Gl=[{provide:d.ip1,useFactory:function(i,n,r){return()=>{r.get(d.CZH).donePromise.then(()=>{const a=U(),l=n.querySelectorAll(`style[ng-transition="${i}"]`);for(let f=0;f<l.length;f++)a.remove(l[f])})}},deps:[lg,_e,d.zs3],multi:!0}];class Jt{static init(){(0,d.VLi)(new Jt)}addToWindow(n){d.dqk.getAngularTestability=(a,l=!0)=>{const f=n.findTestabilityInTree(a,l);if(null==f)throw new Error("Could not find testability for element.");return f},d.dqk.getAllAngularTestabilities=()=>n.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>n.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(a=>{const l=d.dqk.getAllAngularTestabilities();let f=l.length,_=!1;const w=function(T){_=_||T,f--,0==f&&a(_)};l.forEach(function(T){T.whenStable(w)})})}findTestabilityInTree(n,r,a){if(null==r)return null;const l=n.getTestability(r);return null!=l?l:a?U().isShadowRoot(r)?this.findTestabilityInTree(n,r.host,!0):this.findTestabilityInTree(n,r.parentElement,!0):null}}let cg=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const yo=new d.OlP("EventManagerPlugins");let cu=(()=>{class i{constructor(r,a){this._zone=a,this._eventNameToPlugin=new Map,r.forEach(l=>l.manager=this),this._plugins=r.slice().reverse()}addEventListener(r,a,l){return this._findPluginFor(a).addEventListener(r,a,l)}addGlobalEventListener(r,a,l){return this._findPluginFor(a).addGlobalEventListener(r,a,l)}getZone(){return this._zone}_findPluginFor(r){const a=this._eventNameToPlugin.get(r);if(a)return a;const l=this._plugins;for(let f=0;f<l.length;f++){const _=l[f];if(_.supports(r))return this._eventNameToPlugin.set(r,_),_}throw new Error(`No event manager plugin found for event ${r}`)}}return i.\u0275fac=function(r){return new(r||i)(d.LFG(yo),d.LFG(d.R0b))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();class du{constructor(n){this._doc=n}addGlobalEventListener(n,r,a){const l=U().getGlobalEventTarget(this._doc,n);if(!l)throw new Error(`Unsupported event target ${l} for event ${r}`);return this.addEventListener(l,r,a)}}let ph=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(r){const a=new Set;r.forEach(l=>{this._stylesSet.has(l)||(this._stylesSet.add(l),a.add(l))}),this.onStylesAdded(a)}onStylesAdded(r){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})(),vo=(()=>{class i extends ph{constructor(r){super(),this._doc=r,this._hostNodes=new Map,this._hostNodes.set(r.head,[])}_addStylesToHost(r,a,l){r.forEach(f=>{const _=this._doc.createElement("style");_.textContent=f,l.push(a.appendChild(_))})}addHost(r){const a=[];this._addStylesToHost(this._stylesSet,r,a),this._hostNodes.set(r,a)}removeHost(r){const a=this._hostNodes.get(r);a&&a.forEach(hg),this._hostNodes.delete(r)}onStylesAdded(r){this._hostNodes.forEach((a,l)=>{this._addStylesToHost(r,l,a)})}ngOnDestroy(){this._hostNodes.forEach(r=>r.forEach(hg))}}return i.\u0275fac=function(r){return new(r||i)(d.LFG(_e))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();function hg(i){U().remove(i)}const Ie={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},bt=/%COMP%/g;function Ts(i,n,r){for(let a=0;a<n.length;a++){let l=n[a];Array.isArray(l)?Ts(i,l,r):(l=l.replace(bt,i),r.push(l))}return r}function ny(i){return n=>{if("__ngUnwrap__"===n)return i;!1===i(n)&&(n.preventDefault(),n.returnValue=!1)}}let da=(()=>{class i{constructor(r,a,l){this.eventManager=r,this.sharedStylesHost=a,this.appId=l,this.rendererByCompId=new Map,this.defaultRenderer=new Ds(r)}createRenderer(r,a){if(!r||!a)return this.defaultRenderer;switch(a.encapsulation){case d.ifc.Emulated:{let l=this.rendererByCompId.get(a.id);return l||(l=new As(this.eventManager,this.sharedStylesHost,a,this.appId),this.rendererByCompId.set(a.id,l)),l.applyToHost(r),l}case 1:case d.ifc.ShadowDom:return new Ki(this.eventManager,this.sharedStylesHost,r,a);default:if(!this.rendererByCompId.has(a.id)){const l=Ts(a.id,a.styles,[]);this.sharedStylesHost.addStyles(l),this.rendererByCompId.set(a.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(r){return new(r||i)(d.LFG(cu),d.LFG(vo),d.LFG(d.AFp))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();class Ds{constructor(n){this.eventManager=n,this.data=Object.create(null)}destroy(){}createElement(n,r){return r?document.createElementNS(Ie[r]||r,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,r){n.appendChild(r)}insertBefore(n,r,a){n&&n.insertBefore(r,a)}removeChild(n,r){n&&n.removeChild(r)}selectRootElement(n,r){let a="string"==typeof n?document.querySelector(n):n;if(!a)throw new Error(`The selector "${n}" did not match any elements`);return r||(a.textContent=""),a}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,r,a,l){if(l){r=l+":"+r;const f=Ie[l];f?n.setAttributeNS(f,r,a):n.setAttribute(r,a)}else n.setAttribute(r,a)}removeAttribute(n,r,a){if(a){const l=Ie[a];l?n.removeAttributeNS(l,r):n.removeAttribute(`${a}:${r}`)}else n.removeAttribute(r)}addClass(n,r){n.classList.add(r)}removeClass(n,r){n.classList.remove(r)}setStyle(n,r,a,l){l&(d.JOm.DashCase|d.JOm.Important)?n.style.setProperty(r,a,l&d.JOm.Important?"important":""):n.style[r]=a}removeStyle(n,r,a){a&d.JOm.DashCase?n.style.removeProperty(r):n.style[r]=""}setProperty(n,r,a){n[r]=a}setValue(n,r){n.nodeValue=r}listen(n,r,a){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,r,ny(a)):this.eventManager.addEventListener(n,r,ny(a))}}class As extends Ds{constructor(n,r,a,l){super(n),this.component=a;const f=Ts(l+"-"+a.id,a.styles,[]);r.addStyles(f),this.contentAttr="_ngcontent-%COMP%".replace(bt,l+"-"+a.id),this.hostAttr=function(i){return"_nghost-%COMP%".replace(bt,i)}(l+"-"+a.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,r){const a=super.createElement(n,r);return super.setAttribute(a,this.contentAttr,""),a}}class Ki extends Ds{constructor(n,r,a,l){super(n),this.sharedStylesHost=r,this.hostEl=a,this.shadowRoot=a.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const f=Ts(l.id,l.styles,[]);for(let _=0;_<f.length;_++){const w=document.createElement("style");w.textContent=f[_],this.shadowRoot.appendChild(w)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,r){return super.appendChild(this.nodeOrShadowRoot(n),r)}insertBefore(n,r,a){return super.insertBefore(this.nodeOrShadowRoot(n),r,a)}removeChild(n,r){return super.removeChild(this.nodeOrShadowRoot(n),r)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let yh=(()=>{class i extends du{constructor(r){super(r)}supports(r){return!0}addEventListener(r,a,l){return r.addEventListener(a,l,!1),()=>this.removeEventListener(r,a,l)}removeEventListener(r,a,l){return r.removeEventListener(a,l)}}return i.\u0275fac=function(r){return new(r||i)(d.LFG(_e))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const pu=["alt","control","meta","shift"],_g={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yg={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Tr={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let bo=(()=>{class i extends du{constructor(r){super(r)}supports(r){return null!=i.parseEventName(r)}addEventListener(r,a,l){const f=i.parseEventName(a),_=i.eventCallback(f.fullKey,l,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>U().onAndCancel(r,f.domEventName,_))}static parseEventName(r){const a=r.toLowerCase().split("."),l=a.shift();if(0===a.length||"keydown"!==l&&"keyup"!==l)return null;const f=i._normalizeKey(a.pop());let _="";if(pu.forEach(T=>{const S=a.indexOf(T);S>-1&&(a.splice(S,1),_+=T+".")}),_+=f,0!=a.length||0===f.length)return null;const w={};return w.domEventName=l,w.fullKey=_,w}static getEventFullKey(r){let a="",l=function(i){let n=i.key;if(null==n){if(n=i.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===i.location&&yg.hasOwnProperty(n)&&(n=yg[n]))}return _g[n]||n}(r);return l=l.toLowerCase()," "===l?l="space":"."===l&&(l="dot"),pu.forEach(f=>{f!=l&&Tr[f](r)&&(a+=f+".")}),a+=l,a}static eventCallback(r,a,l){return f=>{i.getEventFullKey(f)===r&&l.runGuarded(()=>a(f))}}static _normalizeKey(r){switch(r){case"esc":return"escape";default:return r}}}return i.\u0275fac=function(r){return new(r||i)(d.LFG(_e))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})(),Ci=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=(0,d.Yz7)({factory:function(){return(0,d.LFG)(Ih)},token:i,providedIn:"root"}),i})(),Ih=(()=>{class i extends Ci{constructor(r){super(),this._doc=r}sanitize(r,a){if(null==a)return null;switch(r){case d.q3G.NONE:return a;case d.q3G.HTML:return(0,d.qzn)(a,"HTML")?(0,d.z3N)(a):(0,d.EiD)(this._doc,String(a)).toString();case d.q3G.STYLE:return(0,d.qzn)(a,"Style")?(0,d.z3N)(a):a;case d.q3G.SCRIPT:if((0,d.qzn)(a,"Script"))return(0,d.z3N)(a);throw new Error("unsafe value used in a script context");case d.q3G.URL:return(0,d.yhl)(a),(0,d.qzn)(a,"URL")?(0,d.z3N)(a):(0,d.mCW)(String(a));case d.q3G.RESOURCE_URL:if((0,d.qzn)(a,"ResourceURL"))return(0,d.z3N)(a);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${r} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(r){return(0,d.JVY)(r)}bypassSecurityTrustStyle(r){return(0,d.L6k)(r)}bypassSecurityTrustScript(r){return(0,d.eBb)(r)}bypassSecurityTrustUrl(r){return(0,d.LAX)(r)}bypassSecurityTrustResourceUrl(r){return(0,d.pB0)(r)}}return i.\u0275fac=function(r){return new(r||i)(d.LFG(_e))},i.\u0275prov=(0,d.Yz7)({factory:function(){return function(i){return new Ih(i.get(_e))}((0,d.LFG)(d.gxx))},token:i,providedIn:"root"}),i})();const uy=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:"browser"},{provide:d.g9A,useValue:function(){_o.makeCurrent(),Jt.init()},multi:!0},{provide:_e,useFactory:function(){return(0,d.RDi)(document),document},deps:[]}]),xs=[[],{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function(){return new d.qLn},deps:[]},{provide:yo,useClass:yh,multi:!0,deps:[_e,d.R0b,d.Lbi]},{provide:yo,useClass:bo,multi:!0,deps:[_e]},[],{provide:da,useClass:da,deps:[cu,vo,d.AFp]},{provide:d.FYo,useExisting:da},{provide:ph,useExisting:vo},{provide:vo,useClass:vo,deps:[_e]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b]},{provide:cu,useClass:cu,deps:[yo,d.R0b]},{provide:class{},useClass:cg,deps:[]},[]];let mu=(()=>{class i{constructor(r){if(r)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(r){return{ngModule:i,providers:[{provide:d.AFp,useValue:r.appId},{provide:lg,useExisting:d.AFp},Gl]}}}return i.\u0275fac=function(r){return new(r||i)(d.LFG(i,12))},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:xs,imports:[ch,d.hGG]}),i})();"undefined"!=typeof window&&window;var un=L(4402),Hr=L(7574),ec=L(9796),lt=L(8002),Nh=L(1555);function Ms(i,n){return new Hr.y(r=>{const a=i.length;if(0===a)return void r.complete();const l=new Array(a);let f=0,_=0;for(let w=0;w<a;w++){const T=(0,un.D)(i[w]);let S=!1;r.add(T.subscribe({next:M=>{S||(S=!0,_++),l[w]=M},error:M=>r.error(M),complete:()=>{f++,(f===a||!S)&&(_===a&&r.next(n?n.reduce((M,k,z)=>(M[k]=l[z],M),{}):l),r.complete())}}))}})}let bu=(()=>{class i{constructor(r,a){this._renderer=r,this._elementRef=a,this.onChange=l=>{},this.onTouched=()=>{}}setProperty(r,a){this._renderer.setProperty(this._elementRef.nativeElement,r,a)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return i.\u0275fac=function(r){return new(r||i)(d.Y36(d.Qsj),d.Y36(d.SBq))},i.\u0275dir=d.lG2({type:i}),i})(),wo=(()=>{class i extends bu{}return i.\u0275fac=function(){let n;return function(a){return(n||(n=d.n5z(i)))(a||i)}}(),i.\u0275dir=d.lG2({type:i,features:[d.qOj]}),i})();const Ri=new d.OlP("NgValueAccessor"),wg={provide:Ri,useExisting:(0,d.Gpc)(()=>Ns),multi:!0},Rh=new d.OlP("CompositionEventMode");let Ns=(()=>{class i extends bu{constructor(r,a,l){super(r,a),this._compositionMode=l,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const i=U()?U().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(r){this.setProperty("value",null==r?"":r)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return i.\u0275fac=function(r){return new(r||i)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(Rh,8))},i.\u0275dir=d.lG2({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,a){1&r&&d.NdJ("input",function(f){return a._handleInput(f.target.value)})("blur",function(){return a.onTouched()})("compositionstart",function(){return a._compositionStart()})("compositionend",function(f){return a._compositionEnd(f.target.value)})},features:[d._Bn([wg]),d.qOj]}),i})();const $n=new d.OlP("NgValidators"),Ji=new d.OlP("NgAsyncValidators");function hy(i){return null!=i}function Eg(i){const n=(0,d.QGY)(i)?(0,un.D)(i):i;return(0,d.CqO)(n),n}function fy(i){let n={};return i.forEach(r=>{n=null!=r?Object.assign(Object.assign({},n),r):n}),0===Object.keys(n).length?null:n}function ic(i,n){return n.map(r=>r(i))}function sc(i){return i.map(n=>function(i){return!i.validate}(n)?n:r=>n.validate(r))}function oc(i){return null!=i?function(i){if(!i)return null;const n=i.filter(hy);return 0==n.length?null:function(r){return fy(ic(r,n))}}(sc(i)):null}function ac(i){return null!=i?function(i){if(!i)return null;const n=i.filter(hy);return 0==n.length?null:function(r){return function(...i){if(1===i.length){const n=i[0];if((0,ec.k)(n))return Ms(n,null);if((0,Nh.K)(n)&&Object.getPrototypeOf(n)===Object.prototype){const r=Object.keys(n);return Ms(r.map(a=>n[a]),r)}}if("function"==typeof i[i.length-1]){const n=i.pop();return Ms(i=1===i.length&&(0,ec.k)(i[0])?i[0]:i,null).pipe((0,lt.U)(r=>n(...r)))}return Ms(i,null)}(ic(r,n).map(Eg)).pipe((0,lt.U)(fy))}}(sc(i)):null}function uc(i,n){return null===i?[n]:Array.isArray(i)?[...i,n]:[i,n]}function lc(i){return i?Array.isArray(i)?i:[i]:[]}function To(i,n){return Array.isArray(i)?i.includes(n):i===n}function Do(i,n){const r=lc(n);return lc(i).forEach(l=>{To(r,l)||r.push(l)}),r}function Ps(i,n){return lc(n).filter(r=>!To(i,r))}let my=(()=>{class i{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(r){this._rawValidators=r||[],this._composedValidatorFn=oc(this._rawValidators)}_setAsyncValidators(r){this._rawAsyncValidators=r||[],this._composedAsyncValidatorFn=ac(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(r){this._onDestroyCallbacks.push(r)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(r=>r()),this._onDestroyCallbacks=[]}reset(r){this.control&&this.control.reset(r)}hasError(r,a){return!!this.control&&this.control.hasError(r,a)}getError(r,a){return this.control?this.control.getError(r,a):null}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=d.lG2({type:i}),i})(),At=(()=>{class i extends my{get formDirective(){return null}get path(){return null}}return i.\u0275fac=function(){let n;return function(a){return(n||(n=d.n5z(i)))(a||i)}}(),i.\u0275dir=d.lG2({type:i,features:[d.qOj]}),i})();class bi extends my{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let Dr=(()=>{class i extends class{constructor(n){this._cd=n}is(n){var r,a,l;return"submitted"===n?!!(null===(r=this._cd)||void 0===r?void 0:r.submitted):!!(null===(l=null===(a=this._cd)||void 0===a?void 0:a.control)||void 0===l?void 0:l[n])}}{constructor(r){super(r)}}return i.\u0275fac=function(r){return new(r||i)(d.Y36(bi,2))},i.\u0275dir=d.lG2({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,a){2&r&&d.ekj("ng-untouched",a.is("untouched"))("ng-touched",a.is("touched"))("ng-pristine",a.is("pristine"))("ng-dirty",a.is("dirty"))("ng-valid",a.is("valid"))("ng-invalid",a.is("invalid"))("ng-pending",a.is("pending"))},features:[d.qOj]}),i})();function Ls(i,n){(function(i,n){const r=function(i){return i._rawValidators}(i);null!==n.validator?i.setValidators(uc(r,n.validator)):"function"==typeof r&&i.setValidators([r]);const a=function(i){return i._rawAsyncValidators}(i);null!==n.asyncValidator?i.setAsyncValidators(uc(a,n.asyncValidator)):"function"==typeof a&&i.setAsyncValidators([a]);const l=()=>i.updateValueAndValidity();dc(n._rawValidators,l),dc(n._rawAsyncValidators,l)})(i,n),n.valueAccessor.writeValue(i.value),function(i,n){n.valueAccessor.registerOnChange(r=>{i._pendingValue=r,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&Du(i,n)})}(i,n),function(i,n){const r=(a,l)=>{n.valueAccessor.writeValue(a),l&&n.viewToModelUpdate(a)};i.registerOnChange(r),n._registerOnDestroy(()=>{i._unregisterOnChange(r)})}(i,n),function(i,n){n.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&Du(i,n),"submit"!==i.updateOn&&i.markAsTouched()})}(i,n),function(i,n){if(n.valueAccessor.setDisabledState){const r=a=>{n.valueAccessor.setDisabledState(a)};i.registerOnDisabledChange(r),n._registerOnDestroy(()=>{i._unregisterOnDisabledChange(r)})}}(i,n)}function dc(i,n){i.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(n)})}function Du(i,n){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function So(i,n){const r=i.indexOf(n);r>-1&&i.splice(r,1)}const wi="VALID",pc="INVALID",Zt="PENDING",Us="DISABLED";function es(i){return(gc(i)?i.validators:i)||null}function va(i){return Array.isArray(i)?oc(i):i||null}function Su(i,n){return(gc(n)?n.asyncValidators:i)||null}function Bh(i){return Array.isArray(i)?ac(i):i||null}function gc(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class jh{constructor(n,r){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=r,this._composedValidatorFn=va(this._rawValidators),this._composedAsyncValidatorFn=Bh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===wi}get invalid(){return this.status===pc}get pending(){return this.status==Zt}get disabled(){return this.status===Us}get enabled(){return this.status!==Us}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=va(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=Bh(n)}addValidators(n){this.setValidators(Do(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(Do(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(Ps(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(Ps(n,this._rawAsyncValidators))}hasValidator(n){return To(this._rawValidators,n)}hasAsyncValidator(n){return To(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=Zt,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const r=this._parentMarkedDirty(n.onlySelf);this.status=Us,this.errors=null,this._forEachChild(a=>{a.disable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:r})),this._onDisabledChange.forEach(a=>a(!0))}enable(n={}){const r=this._parentMarkedDirty(n.onlySelf);this.status=wi,this._forEachChild(a=>{a.enable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:r})),this._onDisabledChange.forEach(a=>a(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===wi||this.status===Zt)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Us:wi}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=Zt,this._hasOwnPendingAsyncValidator=!0;const r=Eg(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(a=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(a,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,r={}){this.errors=n,this._updateControlsErrors(!1!==r.emitEvent)}get(n){return function(i,n,r){if(null==n||(Array.isArray(n)||(n=n.split(".")),Array.isArray(n)&&0===n.length))return null;let a=i;return n.forEach(l=>{a=a instanceof xr?a.controls.hasOwnProperty(l)?a.controls[l]:null:a instanceof mc&&a.at(l)||null}),a}(this,n)}getError(n,r){const a=r?this.get(r):this;return a&&a.errors?a.errors[n]:null}hasError(n,r){return!!this.getError(n,r)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?Us:this.errors?pc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zt)?Zt:this._anyControlsHaveStatus(pc)?pc:wi}_anyControlsHaveStatus(n){return this._anyControls(r=>r.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_isBoxedValue(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){gc(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ts extends jh{constructor(n=null,r,a){super(es(r),Su(a,r)),this._onChange=[],this._applyFormState(n),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(n,r={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==r.emitModelToViewChange&&this._onChange.forEach(a=>a(this.value,!1!==r.emitViewToModelChange)),this.updateValueAndValidity(r)}patchValue(n,r={}){this.setValue(n,r)}reset(n=null,r={}){this._applyFormState(n),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){So(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){So(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){this._isBoxedValue(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}}class xr extends jh{constructor(n,r,a){super(es(r),Su(a,r)),this.controls=n,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,r){return this.controls[n]?this.controls[n]:(this.controls[n]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(n,r,a={}){this.registerControl(n,r),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}removeControl(n,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(n,r,a={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],r&&this.registerControl(n,r),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,r={}){this._checkAllValuesPresent(n),Object.keys(n).forEach(a=>{this._throwIfControlMissing(a),this.controls[a].setValue(n[a],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(n,r={}){null!=n&&(Object.keys(n).forEach(a=>{this.controls[a]&&this.controls[a].patchValue(n[a],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(n={},r={}){this._forEachChild((a,l)=>{a.reset(n[l],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(n,r,a)=>(n[a]=r instanceof ts?r.value:r.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(r,a)=>!!a._syncPendingControls()||r);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[n])throw new Error(`Cannot find form control with name: ${n}.`)}_forEachChild(n){Object.keys(this.controls).forEach(r=>{const a=this.controls[r];a&&n(a,r)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const r of Object.keys(this.controls)){const a=this.controls[r];if(this.contains(r)&&n(a))return!0}return!1}_reduceValue(){return this._reduceChildren({},(n,r,a)=>((r.enabled||this.disabled)&&(n[a]=r.value),n))}_reduceChildren(n,r){let a=n;return this._forEachChild((l,f)=>{a=r(a,l,f)}),a}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(n){this._forEachChild((r,a)=>{if(void 0===n[a])throw new Error(`Must supply a value for form control with name: '${a}'.`)})}}class mc extends jh{constructor(n,r,a){super(es(r),Su(a,r)),this.controls=n,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[n]}push(n,r={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}insert(n,r,a={}){this.controls.splice(n,0,r),this._registerControl(r),this.updateValueAndValidity({emitEvent:a.emitEvent})}removeAt(n,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:r.emitEvent})}setControl(n,r,a={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),r&&(this.controls.splice(n,0,r),this._registerControl(r)),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,r={}){this._checkAllValuesPresent(n),n.forEach((a,l)=>{this._throwIfControlMissing(l),this.at(l).setValue(a,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(n,r={}){null!=n&&(n.forEach((a,l)=>{this.at(l)&&this.at(l).patchValue(a,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(n=[],r={}){this._forEachChild((a,l)=>{a.reset(n[l],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this.controls.map(n=>n instanceof ts?n.value:n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(r=>r._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_syncPendingControls(){let n=this.controls.reduce((r,a)=>!!a._syncPendingControls()||r,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_throwIfControlMissing(n){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(n))throw new Error(`Cannot find form control at index ${n}`)}_forEachChild(n){this.controls.forEach((r,a)=>{n(r,a)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(r=>r.enabled&&n(r))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_checkAllValuesPresent(n){this._forEachChild((r,a)=>{if(void 0===n[a])throw new Error(`Must supply a value for form control at index: ${a}.`)})}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}}const Ub={provide:bi,useExisting:(0,d.Gpc)(()=>Zh)},Hh=(()=>Promise.resolve(null))();let Zh=(()=>{class i extends bi{constructor(r,a,l,f){super(),this.control=new ts,this._registered=!1,this.update=new d.vpe,this._parent=r,this._setValidators(a),this._setAsyncValidators(l),this.valueAccessor=function(i,n){if(!n)return null;let r,a,l;return Array.isArray(n),n.forEach(f=>{f.constructor===Ns?r=f:function(i){return Object.getPrototypeOf(i.constructor)===wo}(f)?a=f:l=f}),l||a||r||null}(0,f)}ngOnChanges(r){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in r&&this._updateDisabled(r),function(i,n){if(!i.hasOwnProperty("model"))return!1;const r=i.model;return!!r.isFirstChange()||!Object.is(n,r.currentValue)}(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(i,n){return[...n.path,i]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ls(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){Hh.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1})})}_updateDisabled(r){const a=r.isDisabled.currentValue,l=""===a||a&&"false"!==a;Hh.then(()=>{l&&!this.control.disabled?this.control.disable():!l&&this.control.disabled&&this.control.enable()})}}return i.\u0275fac=function(r){return new(r||i)(d.Y36(At,9),d.Y36($n,10),d.Y36(Ji,10),d.Y36(Ri,10))},i.\u0275dir=d.lG2({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([Ub]),d.qOj,d.TTD]}),i})();const Ey={provide:Ri,useExisting:(0,d.Gpc)(()=>_c),multi:!0};let _c=(()=>{class i extends wo{writeValue(r){this.setProperty("value",null==r?"":r)}registerOnChange(r){this.onChange=a=>{r(""==a?null:parseFloat(a))}}}return i.\u0275fac=function(){let n;return function(a){return(n||(n=d.n5z(i)))(a||i)}}(),i.\u0275dir=d.lG2({type:i,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,a){1&r&&d.NdJ("input",function(f){return a.onChange(f.target.value)})("blur",function(){return a.onTouched()})},features:[d._Bn([Ey]),d.qOj]}),i})(),ns=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({}),i})(),kg=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[ns]]}),i})(),Fg=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[kg]}),i})();var He=L(5917),qn=L(9765),Vg=L(7971);class lr extends qn.xQ{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const r=super._subscribe(n);return r&&!r.closed&&n.next(this._value),r}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Vg.N;return this._value}next(n){super.next(this._value=n)}}var cr=L(4869),dr=L(7393);class Ug extends dr.L{notifyNext(n,r,a,l,f){this.destination.next(r)}notifyError(n,r){this.destination.error(n)}notifyComplete(n){this.destination.complete()}}class Fy extends dr.L{constructor(n,r,a){super(),this.parent=n,this.outerValue=r,this.outerIndex=a,this.index=0}_next(n){this.parent.notifyNext(this.outerValue,n,this.outerIndex,this.index++,this)}_error(n){this.parent.notifyError(n,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var nf=L(7444);function rf(i,n,r,a,l=new Fy(i,r,a)){if(!l.closed)return n instanceof Hr.y?n.subscribe(l):(0,nf.s)(n)(l)}var qb=L(6693);const Bg={};class _n{constructor(n){this.resultSelector=n}call(n,r){return r.subscribe(new wc(n,this.resultSelector))}}class wc extends Ug{constructor(n,r){super(n),this.resultSelector=r,this.active=0,this.values=[],this.observables=[]}_next(n){this.values.push(Bg),this.observables.push(n)}_complete(){const n=this.observables,r=n.length;if(0===r)this.destination.complete();else{this.active=r,this.toRespond=r;for(let a=0;a<r;a++)this.add(rf(this,n[a],void 0,a))}}notifyComplete(n){0==(this.active-=1)&&this.destination.complete()}notifyNext(n,r,a){const l=this.values,_=this.toRespond?l[a]===Bg?--this.toRespond:this.toRespond:0;l[a]=r,0===_&&(this.resultSelector?this._tryResultSelector(l):this.destination.next(l.slice()))}_tryResultSelector(n){let r;try{r=this.resultSelector.apply(this,n)}catch(a){return void this.destination.error(a)}this.destination.next(r)}}const Uu=(()=>{function i(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return i.prototype=Object.create(Error.prototype),i})();var Mn=L(3282);function kn(...i){return(0,Mn.J)(1)((0,He.of)(...i))}var ki=L(9193);function Ec(i){return new Hr.y(n=>{let r;try{r=i()}catch(l){return void n.error(l)}return(r?(0,un.D)(r):(0,ki.c)()).subscribe(n)})}var Ic=L(2441),Ea=L(5345);function zt(i,n){return"function"==typeof n?r=>r.pipe(zt((a,l)=>(0,un.D)(i(a,l)).pipe((0,lt.U)((f,_)=>n(a,f,l,_))))):r=>r.lift(new Bu(i))}class Bu{constructor(n){this.project=n}call(n,r){return r.subscribe(new sf(n,this.project))}}class sf extends Ea.Ds{constructor(n,r){super(n),this.project=r,this.index=0}_next(n){let r;const a=this.index++;try{r=this.project(n,a)}catch(l){return void this.destination.error(l)}this._innerSub(r)}_innerSub(n){const r=this.innerSubscription;r&&r.unsubscribe();const a=new Ea.IY(this),l=this.destination;l.add(a),this.innerSubscription=(0,Ea.ft)(n,a),this.innerSubscription!==a&&l.add(this.innerSubscription)}_complete(){const{innerSubscription:n}=this;(!n||n.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(n){this.destination.next(n)}}const Tc=(()=>{function i(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return i.prototype=Object.create(Error.prototype),i})();function of(i){return n=>0===i?(0,ki.c)():n.lift(new jg(i))}class jg{constructor(n){if(this.total=n,this.total<0)throw new Tc}call(n,r){return r.subscribe(new af(n,this.total))}}class af extends dr.L{constructor(n,r){super(n),this.total=r,this.count=0}_next(n){const r=this.total,a=++this.count;a<=r&&(this.destination.next(n),a===r&&(this.destination.complete(),this.unsubscribe()))}}function ju(...i){const n=i[i.length-1];return(0,cr.K)(n)?(i.pop(),r=>kn(i,r,n)):r=>kn(i,r)}function b(i,n){let r=!1;return arguments.length>=2&&(r=!0),function(l){return l.lift(new m(i,n,r))}}class m{constructor(n,r,a=!1){this.accumulator=n,this.seed=r,this.hasSeed=a}call(n,r){return r.subscribe(new y(n,this.accumulator,this.seed,this.hasSeed))}}class y extends dr.L{constructor(n,r,a,l){super(n),this.accumulator=r,this._seed=a,this.hasSeed=l,this.index=0}get seed(){return this._seed}set seed(n){this.hasSeed=!0,this._seed=n}_next(n){if(this.hasSeed)return this._tryNext(n);this.seed=n,this.destination.next(n)}_tryNext(n){const r=this.index++;let a;try{a=this.accumulator(this.seed,n,r)}catch(l){this.destination.error(l)}this.seed=a,this.destination.next(a)}}function E(i,n){return function(a){return a.lift(new x(i,n))}}class x{constructor(n,r){this.predicate=n,this.thisArg=r}call(n,r){return r.subscribe(new O(n,this.predicate,this.thisArg))}}class O extends dr.L{constructor(n,r,a){super(n),this.predicate=r,this.thisArg=a,this.count=0}_next(n){let r;try{r=this.predicate.call(this.thisArg,n,this.count++)}catch(a){return void this.destination.error(a)}r&&this.destination.next(n)}}function $(i){return function(r){const a=new pe(i),l=r.lift(a);return a.caught=l}}class pe{constructor(n){this.selector=n}call(n,r){return r.subscribe(new Pe(n,this.selector,this.caught))}}class Pe extends Ea.Ds{constructor(n,r,a){super(n),this.selector=r,this.caught=a}error(n){if(!this.isStopped){let r;try{r=this.selector(n,this.caught)}catch(f){return void super.error(f)}this._unsubscribeAndRecycle();const a=new Ea.IY(this);this.add(a);const l=(0,Ea.ft)(r,a);l!==a&&this.add(l)}}}var Le=L(9773);function et(i,n){return(0,Le.zg)(i,n,1)}function Xe(i){return function(r){return 0===i?(0,ki.c)():r.lift(new yn(i))}}class yn{constructor(n){if(this.total=n,this.total<0)throw new Tc}call(n,r){return r.subscribe(new vn(n,this.total))}}class vn extends dr.L{constructor(n,r){super(n),this.total=r,this.ring=new Array,this.count=0}_next(n){const r=this.ring,a=this.total,l=this.count++;r.length<a?r.push(n):r[l%a]=n}_complete(){const n=this.destination;let r=this.count;if(r>0){const a=this.count>=this.total?this.total:this.count,l=this.ring;for(let f=0;f<a;f++){const _=r++%a;n.next(l[_])}}n.complete()}}function Ia(i=lf){return n=>n.lift(new Hg(i))}class Hg{constructor(n){this.errorFactory=n}call(n,r){return r.subscribe(new uf(n,this.errorFactory))}}class uf extends dr.L{constructor(n,r){super(n),this.errorFactory=r,this.hasValue=!1}_next(n){this.hasValue=!0,this.destination.next(n)}_complete(){if(this.hasValue)return this.destination.complete();{let n;try{n=this.errorFactory()}catch(r){n=r}this.destination.error(n)}}}function lf(){return new Uu}function Zg(i=null){return n=>n.lift(new Dc(i))}class Dc{constructor(n){this.defaultValue=n}call(n,r){return r.subscribe(new $g(n,this.defaultValue))}}class $g extends dr.L{constructor(n,r){super(n),this.defaultValue=r,this.isEmpty=!0}_next(n){this.isEmpty=!1,this.destination.next(n)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var cf=L(4487);function $r(i,n){const r=arguments.length>=2;return a=>a.pipe(i?E((l,f)=>i(l,f,a)):cf.y,of(1),r?Zg(n):Ia(()=>new Uu))}var Cn=L(3342),qg=L(1307),Uy=L(5319);class iS{constructor(n){this.callback=n}call(n,r){return r.subscribe(new Hs(n,this.callback))}}class Hs extends dr.L{constructor(n,r){super(n),this.add(new Uy.w(r))}}class is{constructor(n,r){this.id=n,this.url=r}}class hf extends is{constructor(n,r,a="imperative",l=null){super(n,r),this.navigationTrigger=a,this.restoredState=l}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ff extends is{constructor(n,r,a){super(n,r),this.urlAfterRedirects=a}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class By extends is{constructor(n,r,a){super(n,r),this.reason=a}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class pf extends is{constructor(n,r,a){super(n,r),this.error=a}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class zb extends is{constructor(n,r,a,l){super(n,r),this.urlAfterRedirects=a,this.state=l}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wb extends is{constructor(n,r,a,l){super(n,r),this.urlAfterRedirects=a,this.state=l}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jy extends is{constructor(n,r,a,l,f){super(n,r),this.urlAfterRedirects=a,this.state=l,this.shouldActivate=f}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Hy extends is{constructor(n,r,a,l){super(n,r),this.urlAfterRedirects=a,this.state=l}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kb extends is{constructor(n,r,a,l){super(n,r),this.urlAfterRedirects=a,this.state=l}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ND{constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Hu{constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Zy{constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yb{constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class OD{constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $y{constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jb{constructor(n,r,a){this.routerEvent=n,this.position=r,this.anchor=a}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const wt="primary";class RD{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const r=this.params[n];return Array.isArray(r)?r[0]:r}return null}getAll(n){if(this.has(n)){const r=this.params[n];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}}function Ac(i){return new RD(i)}const Qb="ngNavigationCancelingError";function qy(i){const n=Error("NavigationCancelingError: "+i);return n[Qb]=!0,n}function Gy(i,n,r){const a=r.path.split("/");if(a.length>i.length||"full"===r.pathMatch&&(n.hasChildren()||a.length<i.length))return null;const l={};for(let f=0;f<a.length;f++){const _=a[f],w=i[f];if(_.startsWith(":"))l[_.substring(1)]=w;else if(_!==w.path)return null}return{consumed:i.slice(0,a.length),posParams:l}}function Fi(i,n){const r=i?Object.keys(i):void 0,a=n?Object.keys(n):void 0;if(!r||!a||r.length!=a.length)return!1;let l;for(let f=0;f<r.length;f++)if(l=r[f],!tw(i[l],n[l]))return!1;return!0}function tw(i,n){if(Array.isArray(i)&&Array.isArray(n)){if(i.length!==n.length)return!1;const r=[...i].sort(),a=[...n].sort();return r.every((l,f)=>a[f]===l)}return i===n}function nw(i){return Array.prototype.concat.apply([],i)}function zy(i){return i.length>0?i[i.length-1]:null}function wn(i,n){for(const r in i)i.hasOwnProperty(r)&&n(i[r],r)}function ss(i){return(0,d.CqO)(i)?i:(0,d.QGY)(i)?(0,un.D)(Promise.resolve(i)):(0,He.of)(i)}const kD={exact:function Wy(i,n,r){if(!Po(i.segments,n.segments)||!Zu(i.segments,n.segments,r)||i.numberOfChildren!==n.numberOfChildren)return!1;for(const a in n.children)if(!i.children[a]||!Wy(i.children[a],n.children[a],r))return!1;return!0},subset:Gg},gf={exact:function(i,n){return Fi(i,n)},subset:function(i,n){return Object.keys(n).length<=Object.keys(i).length&&Object.keys(n).every(r=>tw(i[r],n[r]))},ignored:()=>!0};function iw(i,n,r){return kD[r.paths](i.root,n.root,r.matrixParams)&&gf[r.queryParams](i.queryParams,n.queryParams)&&!("exact"===r.fragment&&i.fragment!==n.fragment)}function Gg(i,n,r){return Ky(i,n,n.segments,r)}function Ky(i,n,r,a){if(i.segments.length>r.length){const l=i.segments.slice(0,r.length);return!(!Po(l,r)||n.hasChildren()||!Zu(l,r,a))}if(i.segments.length===r.length){if(!Po(i.segments,r)||!Zu(i.segments,r,a))return!1;for(const l in n.children)if(!i.children[l]||!Gg(i.children[l],n.children[l],a))return!1;return!0}{const l=r.slice(0,i.segments.length),f=r.slice(i.segments.length);return!!(Po(i.segments,l)&&Zu(i.segments,l,a)&&i.children[wt])&&Ky(i.children[wt],n,f,a)}}function Zu(i,n,r){return n.every((a,l)=>gf[r](i[l].parameters,a.parameters))}class Zs{constructor(n,r,a){this.root=n,this.queryParams=r,this.fragment=a}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ac(this.queryParams)),this._queryParamMap}toString(){return FD.serialize(this)}}class Tt{constructor(n,r){this.segments=n,this.children=r,this.parent=null,wn(r,(a,l)=>a.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return zg(this)}}class $u{constructor(n,r){this.path=n,this.parameters=r}get parameterMap(){return this._parameterMap||(this._parameterMap=Ac(this.parameters)),this._parameterMap}toString(){return uw(this)}}function Po(i,n){return i.length===n.length&&i.every((r,a)=>r.path===n[a].path)}class Yy{}class Jy{parse(n){const r=new lw(n);return new Zs(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(n){var i;return`${`/${xc(n.root,!0)}`}${function(i){const n=Object.keys(i).map(r=>{const a=i[r];return Array.isArray(a)?a.map(l=>`${_f(r)}=${_f(l)}`).join("&"):`${_f(r)}=${_f(a)}`}).filter(r=>!!r);return n.length?`?${n.join("&")}`:""}(n.queryParams)}${"string"==typeof n.fragment?`#${i=n.fragment,encodeURI(i)}`:""}`}}const FD=new Jy;function zg(i){return i.segments.map(n=>uw(n)).join("/")}function xc(i,n){if(!i.hasChildren())return zg(i);if(n){const r=i.children[wt]?xc(i.children[wt],!1):"",a=[];return wn(i.children,(l,f)=>{f!==wt&&a.push(`${f}:${xc(l,!1)}`)}),a.length>0?`${r}(${a.join("//")})`:r}{const r=function(i,n){let r=[];return wn(i.children,(a,l)=>{l===wt&&(r=r.concat(n(a,l)))}),wn(i.children,(a,l)=>{l!==wt&&(r=r.concat(n(a,l)))}),r}(i,(a,l)=>l===wt?[xc(i.children[wt],!1)]:[`${l}:${xc(a,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[wt]?`${zg(i)}/${r[0]}`:`${zg(i)}/(${r.join("//")})`}}function Wg(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _f(i){return Wg(i).replace(/%3B/gi,";")}function Kg(i){return Wg(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Yg(i){return decodeURIComponent(i)}function Qy(i){return Yg(i.replace(/\+/g,"%20"))}function uw(i){return`${Kg(i.path)}${function(i){return Object.keys(i).map(n=>`;${Kg(n)}=${Kg(i[n])}`).join("")}(i.parameters)}`}const VD=/^[^\/()?;=#]+/;function yf(i){const n=i.match(VD);return n?n[0]:""}const UD=/^[^=?&#]+/,jD=/^[^?&#]+/;class lw{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Tt([],{}):new Tt([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let a={};return this.peekStartsWith("(")&&(a=this.parseParens(!1)),(n.length>0||Object.keys(r).length>0)&&(a[wt]=new Tt(n,r)),a}parseSegment(){const n=yf(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(n),new $u(Yg(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const r=yf(this.remaining);if(!r)return;this.capture(r);let a="";if(this.consumeOptional("=")){const l=yf(this.remaining);l&&(a=l,this.capture(a))}n[Yg(r)]=Yg(a)}parseQueryParam(n){const r=function(i){const n=i.match(UD);return n?n[0]:""}(this.remaining);if(!r)return;this.capture(r);let a="";if(this.consumeOptional("=")){const _=function(i){const n=i.match(jD);return n?n[0]:""}(this.remaining);_&&(a=_,this.capture(a))}const l=Qy(r),f=Qy(a);if(n.hasOwnProperty(l)){let _=n[l];Array.isArray(_)||(_=[_],n[l]=_),_.push(f)}else n[l]=f}parseParens(n){const r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const a=yf(this.remaining),l=this.remaining[a.length];if("/"!==l&&")"!==l&&";"!==l)throw new Error(`Cannot parse url '${this.url}'`);let f;a.indexOf(":")>-1?(f=a.substr(0,a.indexOf(":")),this.capture(f),this.capture(":")):n&&(f=wt);const _=this.parseChildren();r[f]=1===Object.keys(_).length?_[wt]:new Tt([],_),this.consumeOptional("//")}return r}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Error(`Expected "${n}".`)}}class cw{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const r=this.pathFromRoot(n);return r.length>1?r[r.length-2]:null}children(n){const r=Xy(n,this._root);return r?r.children.map(a=>a.value):[]}firstChild(n){const r=Xy(n,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(n){const r=ev(n,this._root);return r.length<2?[]:r[r.length-2].children.map(l=>l.value).filter(l=>l!==n)}pathFromRoot(n){return ev(n,this._root).map(r=>r.value)}}function Xy(i,n){if(i===n.value)return n;for(const r of n.children){const a=Xy(i,r);if(a)return a}return null}function ev(i,n){if(i===n.value)return[n];for(const r of n.children){const a=ev(i,r);if(a.length)return a.unshift(n),a}return[]}class nt{constructor(n,r){this.value=n,this.children=r}toString(){return`TreeNode(${this.value})`}}function Sc(i){const n={};return i&&i.children.forEach(r=>n[r.value.outlet]=r),n}class tv extends cw{constructor(n,r){super(n),this.snapshot=r,Qg(this,n)}toString(){return this.snapshot.toString()}}function vf(i,n){const r=function(i,n){const _=new Li([],{},{},"",{},wt,n,null,i.root,-1,{});return new Jg("",new nt(_,[]))}(i,n),a=new lr([new $u("",{})]),l=new lr({}),f=new lr({}),_=new lr({}),w=new lr(""),T=new qu(a,l,_,w,f,wt,n,r.root);return T.snapshot=r.root,new tv(new nt(T,[]),r)}class qu{constructor(n,r,a,l,f,_,w,T){this.url=n,this.params=r,this.queryParams=a,this.fragment=l,this.data=f,this.outlet=_,this.component=w,this._futureSnapshot=T}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,lt.U)(n=>Ac(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,lt.U)(n=>Ac(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function dw(i,n="emptyOnly"){const r=i.pathFromRoot;let a=0;if("always"!==n)for(a=r.length-1;a>=1;){const l=r[a],f=r[a-1];if(l.routeConfig&&""===l.routeConfig.path)a--;else{if(f.component)break;a--}}return function(i){return i.reduce((n,r)=>({params:Object.assign(Object.assign({},n.params),r.params),data:Object.assign(Object.assign({},n.data),r.data),resolve:Object.assign(Object.assign({},n.resolve),r._resolvedData)}),{params:{},data:{},resolve:{}})}(r.slice(a))}class Li{constructor(n,r,a,l,f,_,w,T,S,M,k){this.url=n,this.params=r,this.queryParams=a,this.fragment=l,this.data=f,this.outlet=_,this.component=w,this.routeConfig=T,this._urlSegment=S,this._lastPathIndex=M,this._resolve=k}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ac(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ac(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(a=>a.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Jg extends cw{constructor(n,r){super(r),this.url=n,Qg(this,r)}toString(){return Xg(this._root)}}function Qg(i,n){n.value._routerState=i,n.children.forEach(r=>Qg(i,r))}function Xg(i){const n=i.children.length>0?` { ${i.children.map(Xg).join(", ")} } `:"";return`${i.value}${n}`}function hw(i){if(i.snapshot){const n=i.snapshot,r=i._futureSnapshot;i.snapshot=r,Fi(n.queryParams,r.queryParams)||i.queryParams.next(r.queryParams),n.fragment!==r.fragment&&i.fragment.next(r.fragment),Fi(n.params,r.params)||i.params.next(r.params),function(i,n){if(i.length!==n.length)return!1;for(let r=0;r<i.length;++r)if(!Fi(i[r],n[r]))return!1;return!0}(n.url,r.url)||i.url.next(r.url),Fi(n.data,r.data)||i.data.next(r.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function em(i,n){return Fi(i.params,n.params)&&function(i,n){return Po(i,n)&&i.every((r,a)=>Fi(r.parameters,n[a].parameters))}(i.url,n.url)&&!(!i.parent!=!n.parent)&&(!i.parent||em(i.parent,n.parent))}function Vi(i,n,r){if(r&&i.shouldReuseRoute(n.value,r.value.snapshot)){const a=r.value;a._futureSnapshot=n.value;const l=function(i,n,r){return n.children.map(a=>{for(const l of r.children)if(i.shouldReuseRoute(a.value,l.value.snapshot))return Vi(i,a,l);return Vi(i,a)})}(i,n,r);return new nt(a,l)}{if(i.shouldAttach(n.value)){const f=i.retrieve(n.value);if(null!==f){const _=f.route;return Cf(n,_),_}}const a=function(i){return new qu(new lr(i.url),new lr(i.params),new lr(i.queryParams),new lr(i.fragment),new lr(i.data),i.outlet,i.component,i)}(n.value),l=n.children.map(f=>Vi(i,f));return new nt(a,l)}}function Cf(i,n){if(i.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(i.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=i.value;for(let r=0;r<i.children.length;++r)Cf(i.children[r],n.children[r])}function nm(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function Mc(i){return"object"==typeof i&&null!=i&&i.outlets}function fw(i,n,r,a,l){let f={};return a&&wn(a,(_,w)=>{f[w]=Array.isArray(_)?_.map(T=>`${T}`):`${_}`}),new Zs(r.root===i?n:pw(r.root,i,n),f,l)}function pw(i,n,r){const a={};return wn(i.children,(l,f)=>{a[f]=l===n?r:pw(l,n,r)}),new Tt(i.segments,a)}class ZD{constructor(n,r,a){if(this.isAbsolute=n,this.numberOfDoubleDots=r,this.commands=a,n&&a.length>0&&nm(a[0]))throw new Error("Root segment cannot have matrix parameters");const l=a.find(Mc);if(l&&l!==zy(a))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class rm{constructor(n,r,a){this.segmentGroup=n,this.processChildren=r,this.index=a}}function qD(i,n,r){if(i||(i=new Tt([],{})),0===i.segments.length&&i.hasChildren())return sv(i,n,r);const a=function(i,n,r){let a=0,l=n;const f={match:!1,pathIndex:0,commandIndex:0};for(;l<i.segments.length;){if(a>=r.length)return f;const _=i.segments[l],w=r[a];if(Mc(w))break;const T=`${w}`,S=a<r.length-1?r[a+1]:null;if(l>0&&void 0===T)break;if(T&&S&&"object"==typeof S&&void 0===S.outlets){if(!zD(T,S,_))return f;a+=2}else{if(!zD(T,{},_))return f;a++}l++}return{match:!0,pathIndex:l,commandIndex:a}}(i,n,r),l=r.slice(a.commandIndex);if(a.match&&a.pathIndex<i.segments.length){const f=new Tt(i.segments.slice(0,a.pathIndex),{});return f.children[wt]=new Tt(i.segments.slice(a.pathIndex),i.children),sv(f,0,l)}return a.match&&0===l.length?new Tt(i.segments,{}):a.match&&!i.hasChildren()?mw(i,n,r):a.match?sv(i,0,l):mw(i,n,r)}function sv(i,n,r){if(0===r.length)return new Tt(i.segments,{});{const a=function(i){return Mc(i[0])?i[0].outlets:{[wt]:i}}(r),l={};return wn(a,(f,_)=>{"string"==typeof f&&(f=[f]),null!==f&&(l[_]=qD(i.children[_],n,f))}),wn(i.children,(f,_)=>{void 0===a[_]&&(l[_]=f)}),new Tt(i.segments,l)}}function mw(i,n,r){const a=i.segments.slice(0,n);let l=0;for(;l<r.length;){const f=r[l];if(Mc(f)){const T=cS(f.outlets);return new Tt(a,T)}if(0===l&&nm(r[0])){a.push(new $u(i.segments[n].path,GD(r[0]))),l++;continue}const _=Mc(f)?f.outlets[wt]:`${f}`,w=l<r.length-1?r[l+1]:null;_&&w&&nm(w)?(a.push(new $u(_,GD(w))),l+=2):(a.push(new $u(_,{})),l++)}return new Tt(a,{})}function cS(i){const n={};return wn(i,(r,a)=>{"string"==typeof r&&(r=[r]),null!==r&&(n[a]=mw(new Tt([],{}),0,r))}),n}function GD(i){const n={};return wn(i,(r,a)=>n[a]=`${r}`),n}function zD(i,n,r){return i==r.path&&Fi(n,r.parameters)}class hS{constructor(n,r,a,l){this.routeReuseStrategy=n,this.futureState=r,this.currState=a,this.forwardEvent=l}activate(n){const r=this.futureState._root,a=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,a,n),hw(this.futureState.root),this.activateChildRoutes(r,a,n)}deactivateChildRoutes(n,r,a){const l=Sc(r);n.children.forEach(f=>{const _=f.value.outlet;this.deactivateRoutes(f,l[_],a),delete l[_]}),wn(l,(f,_)=>{this.deactivateRouteAndItsChildren(f,a)})}deactivateRoutes(n,r,a){const l=n.value,f=r?r.value:null;if(l===f)if(l.component){const _=a.getContext(l.outlet);_&&this.deactivateChildRoutes(n,r,_.children)}else this.deactivateChildRoutes(n,r,a);else f&&this.deactivateRouteAndItsChildren(r,a)}deactivateRouteAndItsChildren(n,r){this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,r):this.deactivateRouteAndOutlet(n,r)}detachAndStoreRouteSubtree(n,r){const a=r.getContext(n.value.outlet);if(a&&a.outlet){const l=a.outlet.detach(),f=a.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:l,route:n,contexts:f})}}deactivateRouteAndOutlet(n,r){const a=r.getContext(n.value.outlet),l=a&&n.value.component?a.children:r,f=Sc(n);for(const _ of Object.keys(f))this.deactivateRouteAndItsChildren(f[_],l);a&&a.outlet&&(a.outlet.deactivate(),a.children.onOutletDeactivated(),a.attachRef=null,a.resolver=null,a.route=null)}activateChildRoutes(n,r,a){const l=Sc(r);n.children.forEach(f=>{this.activateRoutes(f,l[f.value.outlet],a),this.forwardEvent(new $y(f.value.snapshot))}),n.children.length&&this.forwardEvent(new Yb(n.value.snapshot))}activateRoutes(n,r,a){const l=n.value,f=r?r.value:null;if(hw(l),l===f)if(l.component){const _=a.getOrCreateContext(l.outlet);this.activateChildRoutes(n,r,_.children)}else this.activateChildRoutes(n,r,a);else if(l.component){const _=a.getOrCreateContext(l.outlet);if(this.routeReuseStrategy.shouldAttach(l.snapshot)){const w=this.routeReuseStrategy.retrieve(l.snapshot);this.routeReuseStrategy.store(l.snapshot,null),_.children.onOutletReAttached(w.contexts),_.attachRef=w.componentRef,_.route=w.route.value,_.outlet&&_.outlet.attach(w.componentRef,w.route.value),WD(w.route)}else{const w=function(i){for(let n=i.parent;n;n=n.parent){const r=n.routeConfig;if(r&&r._loadedConfig)return r._loadedConfig;if(r&&r.component)return null}return null}(l.snapshot),T=w?w.module.componentFactoryResolver:null;_.attachRef=null,_.route=l,_.resolver=T,_.outlet&&_.outlet.activateWith(l,T),this.activateChildRoutes(n,null,_.children)}}else this.activateChildRoutes(n,null,a)}}function WD(i){hw(i.value),i.children.forEach(WD)}class bf{constructor(n,r){this.routes=n,this.module=r}}function Da(i){return"function"==typeof i}function ko(i){return i instanceof Zs}const Nc=Symbol("INITIAL_VALUE");function wf(){return zt(i=>function(...i){let n,r;return(0,cr.K)(i[i.length-1])&&(r=i.pop()),"function"==typeof i[i.length-1]&&(n=i.pop()),1===i.length&&(0,ec.k)(i[0])&&(i=i[0]),(0,qb.n)(i,r).lift(new _n(n))}(i.map(n=>n.pipe(of(1),ju(Nc)))).pipe(b((n,r)=>{let a=!1;return r.reduce((l,f,_)=>l!==Nc?l:(f===Nc&&(a=!0),a||!1!==f&&_!==r.length-1&&!ko(f)?l:f),n)},Nc),E(n=>n!==Nc),(0,lt.U)(n=>ko(n)?n:!0===n),of(1)))}let YD=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=d.Xpm({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(r,a){1&r&&d._UZ(0,"router-outlet")},directives:function(){return[Af]},encapsulation:2}),i})();function im(i,n=""){for(let r=0;r<i.length;r++){const a=i[r];JD(a,vw(n,a))}}function JD(i,n){i.children&&im(i.children,n)}function vw(i,n){return n?i||n.path?i&&!n.path?`${i}/`:!i&&n.path?n.path:`${i}/${n.path}`:"":i}function av(i){const n=i.children&&i.children.map(av),r=n?Object.assign(Object.assign({},i),{children:n}):Object.assign({},i);return!r.component&&(n||r.loadChildren)&&r.outlet&&r.outlet!==wt&&(r.component=YD),r}function Ui(i){return i.outlet||wt}function Oc(i,n){const r=i.filter(a=>Ui(a)===n);return r.push(...i.filter(a=>Ui(a)!==n)),r}const Gu={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Rc(i,n,r){var a;if(""===n.path)return"full"===n.pathMatch&&(i.hasChildren()||r.length>0)?Object.assign({},Gu):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const f=(n.matcher||Gy)(r,i,n);if(!f)return Object.assign({},Gu);const _={};wn(f.posParams,(T,S)=>{_[S]=T.path});const w=f.consumed.length>0?Object.assign(Object.assign({},_),f.consumed[f.consumed.length-1].parameters):_;return{matched:!0,consumedSegments:f.consumed,lastChild:f.consumed.length,parameters:w,positionalParamSegments:null!==(a=f.posParams)&&void 0!==a?a:{}}}function Fo(i,n,r,a,l="corrected"){if(r.length>0&&function(i,n,r){return r.some(a=>If(i,n,a)&&Ui(a)!==wt)}(i,r,a)){const _=new Tt(n,function(i,n,r,a){const l={};l[wt]=a,a._sourceSegment=i,a._segmentIndexShift=n.length;for(const f of r)if(""===f.path&&Ui(f)!==wt){const _=new Tt([],{});_._sourceSegment=i,_._segmentIndexShift=n.length,l[Ui(f)]=_}return l}(i,n,a,new Tt(r,i.children)));return _._sourceSegment=i,_._segmentIndexShift=n.length,{segmentGroup:_,slicedSegments:[]}}if(0===r.length&&function(i,n,r){return r.some(a=>If(i,n,a))}(i,r,a)){const _=new Tt(i.segments,function(i,n,r,a,l,f){const _={};for(const w of a)if(If(i,r,w)&&!l[Ui(w)]){const T=new Tt([],{});T._sourceSegment=i,T._segmentIndexShift="legacy"===f?i.segments.length:n.length,_[Ui(w)]=T}return Object.assign(Object.assign({},l),_)}(i,n,r,a,i.children,l));return _._sourceSegment=i,_._segmentIndexShift=n.length,{segmentGroup:_,slicedSegments:r}}const f=new Tt(i.segments,i.children);return f._sourceSegment=i,f._segmentIndexShift=n.length,{segmentGroup:f,slicedSegments:r}}function If(i,n,r){return(!(i.hasChildren()||n.length>0)||"full"!==r.pathMatch)&&""===r.path}function sm(i,n,r,a){return!!(Ui(i)===a||a!==wt&&If(n,r,i))&&("**"===i.path||Rc(n,i,r).matched)}function om(i,n,r){return 0===n.length&&!i.children[r]}class kc{constructor(n){this.segmentGroup=n||null}}class Tf{constructor(n){this.urlTree=n}}function am(i){return new Hr.y(n=>n.error(new kc(i)))}function uv(i){return new Hr.y(n=>n.error(new Tf(i)))}function fS(i){return new Hr.y(n=>n.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${i}'`)))}class XD{constructor(n,r,a,l,f){this.configLoader=r,this.urlSerializer=a,this.urlTree=l,this.config=f,this.allowRedirects=!0,this.ngModule=n.get(d.h0i)}apply(){const n=Fo(this.urlTree.root,[],[],this.config).segmentGroup,r=new Tt(n.segments,n.children);return this.expandSegmentGroup(this.ngModule,this.config,r,wt).pipe((0,lt.U)(f=>this.createUrlTree(lv(f),this.urlTree.queryParams,this.urlTree.fragment))).pipe($(f=>{if(f instanceof Tf)return this.allowRedirects=!1,this.match(f.urlTree);throw f instanceof kc?this.noMatchError(f):f}))}match(n){return this.expandSegmentGroup(this.ngModule,this.config,n.root,wt).pipe((0,lt.U)(l=>this.createUrlTree(lv(l),n.queryParams,n.fragment))).pipe($(l=>{throw l instanceof kc?this.noMatchError(l):l}))}noMatchError(n){return new Error(`Cannot match any routes. URL Segment: '${n.segmentGroup}'`)}createUrlTree(n,r,a){const l=n.segments.length>0?new Tt([],{[wt]:n}):n;return new Zs(l,r,a)}expandSegmentGroup(n,r,a,l){return 0===a.segments.length&&a.hasChildren()?this.expandChildren(n,r,a).pipe((0,lt.U)(f=>new Tt([],f))):this.expandSegment(n,a,r,a.segments,l,!0)}expandChildren(n,r,a){const l=[];for(const f of Object.keys(a.children))"primary"===f?l.unshift(f):l.push(f);return(0,un.D)(l).pipe(et(f=>{const _=a.children[f],w=Oc(r,f);return this.expandSegmentGroup(n,w,_,f).pipe((0,lt.U)(T=>({segment:T,outlet:f})))}),b((f,_)=>(f[_.outlet]=_.segment,f),{}),function(i,n){const r=arguments.length>=2;return a=>a.pipe(i?E((l,f)=>i(l,f,a)):cf.y,Xe(1),r?Zg(n):Ia(()=>new Uu))}())}expandSegment(n,r,a,l,f,_){return(0,un.D)(a).pipe(et(w=>this.expandSegmentAgainstRoute(n,r,a,w,l,f,_).pipe($(S=>{if(S instanceof kc)return(0,He.of)(null);throw S}))),$r(w=>!!w),$((w,T)=>{if(w instanceof Uu||"EmptyError"===w.name){if(om(r,l,f))return(0,He.of)(new Tt([],{}));throw new kc(r)}throw w}))}expandSegmentAgainstRoute(n,r,a,l,f,_,w){return sm(l,r,f,_)?void 0===l.redirectTo?this.matchSegmentAgainstRoute(n,r,l,f,_):w&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,r,a,l,f,_):am(r):am(r)}expandSegmentAgainstRouteUsingRedirect(n,r,a,l,f,_){return"**"===l.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,a,l,_):this.expandRegularSegmentAgainstRouteUsingRedirect(n,r,a,l,f,_)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,a,l){const f=this.applyRedirectCommands([],a.redirectTo,{});return a.redirectTo.startsWith("/")?uv(f):this.lineralizeSegments(a,f).pipe((0,Le.zg)(_=>{const w=new Tt(_,{});return this.expandSegment(n,w,r,_,l,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,r,a,l,f,_){const{matched:w,consumedSegments:T,lastChild:S,positionalParamSegments:M}=Rc(r,l,f);if(!w)return am(r);const k=this.applyRedirectCommands(T,l.redirectTo,M);return l.redirectTo.startsWith("/")?uv(k):this.lineralizeSegments(l,k).pipe((0,Le.zg)(z=>this.expandSegment(n,r,a,z.concat(f.slice(S)),_,!1)))}matchSegmentAgainstRoute(n,r,a,l,f){if("**"===a.path)return a.loadChildren?(a._loadedConfig?(0,He.of)(a._loadedConfig):this.configLoader.load(n.injector,a)).pipe((0,lt.U)(z=>(a._loadedConfig=z,new Tt(l,{})))):(0,He.of)(new Tt(l,{}));const{matched:_,consumedSegments:w,lastChild:T}=Rc(r,a,l);if(!_)return am(r);const S=l.slice(T);return this.getChildConfig(n,a,l).pipe((0,Le.zg)(k=>{const z=k.module,K=k.routes,{segmentGroup:Ce,slicedSegments:Re}=Fo(r,w,S,K),qe=new Tt(Ce.segments,Ce.children);if(0===Re.length&&qe.hasChildren())return this.expandChildren(z,K,qe).pipe((0,lt.U)(Wt=>new Tt(w,Wt)));if(0===K.length&&0===Re.length)return(0,He.of)(new Tt(w,{}));const Mt=Ui(a)===f;return this.expandSegment(z,qe,K,Re,Mt?wt:f,!0).pipe((0,lt.U)(It=>new Tt(w.concat(It.segments),It.children)))}))}getChildConfig(n,r,a){return r.children?(0,He.of)(new bf(r.children,n)):r.loadChildren?void 0!==r._loadedConfig?(0,He.of)(r._loadedConfig):this.runCanLoadGuards(n.injector,r,a).pipe((0,Le.zg)(l=>{return l?this.configLoader.load(n.injector,r).pipe((0,lt.U)(f=>(r._loadedConfig=f,f))):(i=r,new Hr.y(n=>n.error(qy(`Cannot load children because the guard of the route "path: '${i.path}'" returned false`))));var i})):(0,He.of)(new bf([],n))}runCanLoadGuards(n,r,a){const l=r.canLoad;if(!l||0===l.length)return(0,He.of)(!0);const f=l.map(_=>{const w=n.get(_);let T;if((i=w)&&Da(i.canLoad))T=w.canLoad(r,a);else{if(!Da(w))throw new Error("Invalid CanLoad guard");T=w(r,a)}var i;return ss(T)});return(0,He.of)(f).pipe(wf(),(0,Cn.b)(_=>{if(!ko(_))return;const w=qy(`Redirecting to "${this.urlSerializer.serialize(_)}"`);throw w.url=_,w}),(0,lt.U)(_=>!0===_))}lineralizeSegments(n,r){let a=[],l=r.root;for(;;){if(a=a.concat(l.segments),0===l.numberOfChildren)return(0,He.of)(a);if(l.numberOfChildren>1||!l.children[wt])return fS(n.redirectTo);l=l.children[wt]}}applyRedirectCommands(n,r,a){return this.applyRedirectCreatreUrlTree(r,this.urlSerializer.parse(r),n,a)}applyRedirectCreatreUrlTree(n,r,a,l){const f=this.createSegmentGroup(n,r.root,a,l);return new Zs(f,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(n,r){const a={};return wn(n,(l,f)=>{if("string"==typeof l&&l.startsWith(":")){const w=l.substring(1);a[f]=r[w]}else a[f]=l}),a}createSegmentGroup(n,r,a,l){const f=this.createSegments(n,r.segments,a,l);let _={};return wn(r.children,(w,T)=>{_[T]=this.createSegmentGroup(n,w,a,l)}),new Tt(f,_)}createSegments(n,r,a,l){return r.map(f=>f.path.startsWith(":")?this.findPosParam(n,f,l):this.findOrReturn(f,a))}findPosParam(n,r,a){const l=a[r.path.substring(1)];if(!l)throw new Error(`Cannot redirect to '${n}'. Cannot find '${r.path}'.`);return l}findOrReturn(n,r){let a=0;for(const l of r){if(l.path===n.path)return r.splice(a),l;a++}return n}}function lv(i){const n={};for(const a of Object.keys(i.children)){const f=lv(i.children[a]);(f.segments.length>0||f.hasChildren())&&(n[a]=f)}return function(i){if(1===i.numberOfChildren&&i.children[wt]){const n=i.children[wt];return new Tt(i.segments.concat(n.segments),n.children)}return i}(new Tt(i.segments,n))}class ii{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class um{constructor(n,r){this.component=n,this.route=r}}function tA(i,n,r){const a=i._root;return lm(a,n?n._root:null,r,[a.value])}function cv(i,n,r){const a=function(i){if(!i)return null;for(let n=i.parent;n;n=n.parent){const r=n.routeConfig;if(r&&r._loadedConfig)return r._loadedConfig}return null}(n);return(a?a.module.injector:r).get(i)}function lm(i,n,r,a,l={canDeactivateChecks:[],canActivateChecks:[]}){const f=Sc(n);return i.children.forEach(_=>{(function(i,n,r,a,l={canDeactivateChecks:[],canActivateChecks:[]}){const f=i.value,_=n?n.value:null,w=r?r.getContext(i.value.outlet):null;if(_&&f.routeConfig===_.routeConfig){const T=function(i,n,r){if("function"==typeof r)return r(i,n);switch(r){case"pathParamsChange":return!Po(i.url,n.url);case"pathParamsOrQueryParamsChange":return!Po(i.url,n.url)||!Fi(i.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!em(i,n)||!Fi(i.queryParams,n.queryParams);case"paramsChange":default:return!em(i,n)}}(_,f,f.routeConfig.runGuardsAndResolvers);T?l.canActivateChecks.push(new ii(a)):(f.data=_.data,f._resolvedData=_._resolvedData),lm(i,n,f.component?w?w.children:null:r,a,l),T&&w&&w.outlet&&w.outlet.isActivated&&l.canDeactivateChecks.push(new um(w.outlet.component,_))}else _&&Fc(n,w,l),l.canActivateChecks.push(new ii(a)),lm(i,null,f.component?w?w.children:null:r,a,l)})(_,f[_.value.outlet],r,a.concat([_.value]),l),delete f[_.value.outlet]}),wn(f,(_,w)=>Fc(_,r.getContext(w),l)),l}function Fc(i,n,r){const a=Sc(i),l=i.value;wn(a,(f,_)=>{Fc(f,l.component?n?n.children.getContext(_):null:n,r)}),r.canDeactivateChecks.push(new um(l.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,l))}class Aw{}function hv(i){return new Hr.y(n=>n.error(i))}class $s{constructor(n,r,a,l,f,_){this.rootComponentType=n,this.config=r,this.urlTree=a,this.url=l,this.paramsInheritanceStrategy=f,this.relativeLinkResolution=_}recognize(){const n=Fo(this.urlTree.root,[],[],this.config.filter(_=>void 0===_.redirectTo),this.relativeLinkResolution).segmentGroup,r=this.processSegmentGroup(this.config,n,wt);if(null===r)return null;const a=new Li([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},wt,this.rootComponentType,null,this.urlTree.root,-1,{}),l=new nt(a,r),f=new Jg(this.url,l);return this.inheritParamsAndData(f._root),f}inheritParamsAndData(n){const r=n.value,a=dw(r,this.paramsInheritanceStrategy);r.params=Object.freeze(a.params),r.data=Object.freeze(a.data),n.children.forEach(l=>this.inheritParamsAndData(l))}processSegmentGroup(n,r,a){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,r):this.processSegment(n,r,r.segments,a)}processChildren(n,r){const a=[];for(const f of Object.keys(r.children)){const _=r.children[f],w=Oc(n,f),T=this.processSegmentGroup(w,_,f);if(null===T)return null;a.push(...T)}const l=hA(a);return l.sort((n,r)=>n.value.outlet===wt?-1:r.value.outlet===wt?1:n.value.outlet.localeCompare(r.value.outlet)),l}processSegment(n,r,a,l){for(const f of n){const _=this.processSegmentAgainstRoute(f,r,a,l);if(null!==_)return _}return om(r,a,l)?[]:null}processSegmentAgainstRoute(n,r,a,l){if(n.redirectTo||!sm(n,r,a,l))return null;let f,_=[],w=[];if("**"===n.path){const K=a.length>0?zy(a).parameters:{};f=new Li(a,K,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Mw(n),Ui(n),n.component,n,xw(r),Sw(r)+a.length,cm(n))}else{const K=Rc(r,n,a);if(!K.matched)return null;_=K.consumedSegments,w=a.slice(K.lastChild),f=new Li(_,K.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Mw(n),Ui(n),n.component,n,xw(r),Sw(r)+_.length,cm(n))}const T=(i=n).children?i.children:i.loadChildren?i._loadedConfig.routes:[],{segmentGroup:S,slicedSegments:M}=Fo(r,_,w,T.filter(K=>void 0===K.redirectTo),this.relativeLinkResolution);var i;if(0===M.length&&S.hasChildren()){const K=this.processChildren(T,S);return null===K?null:[new nt(f,K)]}if(0===T.length&&0===M.length)return[new nt(f,[])];const k=Ui(n)===l,z=this.processSegment(T,S,M,k?wt:l);return null===z?null:[new nt(f,z)]}}function dA(i){const n=i.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function hA(i){const n=[],r=new Set;for(const a of i){if(!dA(a)){n.push(a);continue}const l=n.find(f=>a.value.routeConfig===f.value.routeConfig);void 0!==l?(l.children.push(...a.children),r.add(l)):n.push(a)}for(const a of r){const l=hA(a.children);n.push(new nt(a.value,l))}return n.filter(a=>!r.has(a))}function xw(i){let n=i;for(;n._sourceSegment;)n=n._sourceSegment;return n}function Sw(i){let n=i,r=n._segmentIndexShift?n._segmentIndexShift:0;for(;n._sourceSegment;)n=n._sourceSegment,r+=n._segmentIndexShift?n._segmentIndexShift:0;return r-1}function Mw(i){return i.data||{}}function cm(i){return i.resolve||{}}function Df(i){return zt(n=>{const r=i(n);return r?(0,un.D)(r).pipe((0,lt.U)(()=>n)):(0,He.of)(n)})}class _A extends class{shouldDetach(n){return!1}store(n,r){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,r){return n.routeConfig===r.routeConfig}}{}const mv=new d.OlP("ROUTES");class hm{constructor(n,r,a,l){this.loader=n,this.compiler=r,this.onLoadStartListener=a,this.onLoadEndListener=l}load(n,r){if(r._loader$)return r._loader$;this.onLoadStartListener&&this.onLoadStartListener(r);const l=this.loadModuleFactory(r.loadChildren).pipe((0,lt.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);const _=f.create(n);return new bf(nw(_.injector.get(mv,void 0,d.XFs.Self|d.XFs.Optional)).map(av),_)}),$(f=>{throw r._loader$=void 0,f}));return r._loader$=new Ic.c(l,()=>new qn.xQ).pipe((0,qg.x)()),r._loader$}loadModuleFactory(n){return"string"==typeof n?(0,un.D)(this.loader.load(n)):ss(n()).pipe((0,Le.zg)(r=>r instanceof d.YKP?(0,He.of)(r):(0,un.D)(this.compiler.compileModuleAsync(r))))}}class gS{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Lc,this.attachRef=null}}class Lc{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const a=this.getOrCreateContext(n);a.outlet=r,this.contexts.set(n,a)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new gS,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}class Rw{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}function Pw(i){throw i}function kw(i,n,r){return n.parse("/")}function _v(i,n){return(0,He.of)(null)}const Lo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},fm={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let si=(()=>{class i{constructor(r,a,l,f,_,w,T,S){this.rootComponentType=r,this.urlSerializer=a,this.rootContexts=l,this.location=f,this.config=S,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new qn.xQ,this.errorHandler=Pw,this.malformedUriErrorHandler=kw,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:_v,afterPreactivation:_v},this.urlHandlingStrategy=new Rw,this.routeReuseStrategy=new _A,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=_.get(d.h0i),this.console=_.get(d.c2e);const z=_.get(d.R0b);this.isNgZoneEnabled=z instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(S),this.currentUrlTree=new Zs(new Tt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new hm(w,T,K=>this.triggerEvent(new ND(K)),K=>this.triggerEvent(new Hu(K))),this.routerState=vf(this.currentUrlTree,this.rootComponentType),this.transitions=new lr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var r;return null===(r=this.location.getState())||void 0===r?void 0:r.\u0275routerPageId}setupNavigations(r){const a=this.events;return r.pipe(E(l=>0!==l.id),(0,lt.U)(l=>Object.assign(Object.assign({},l),{extractedUrl:this.urlHandlingStrategy.extract(l.rawUrl)})),zt(l=>{let f=!1,_=!1;return(0,He.of)(l).pipe((0,Cn.b)(w=>{this.currentNavigation={id:w.id,initialUrl:w.currentRawUrl,extractedUrl:w.extractedUrl,trigger:w.source,extras:w.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),zt(w=>{const T=!this.navigated||w.extractedUrl.toString()!==this.browserUrlTree.toString(),S=("reload"===this.onSameUrlNavigation||T)&&this.urlHandlingStrategy.shouldProcessUrl(w.rawUrl);if(yv(w.source)&&(this.browserUrlTree=w.rawUrl),S)return(0,He.of)(w).pipe(zt(M=>{const k=this.transitions.getValue();return a.next(new hf(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),k!==this.transitions.getValue()?ki.E:Promise.resolve(M)}),function(i,n,r,a){return zt(l=>function(i,n,r,a,l){return new XD(i,n,r,a,l).apply()}(i,n,r,l.extractedUrl,a).pipe((0,lt.U)(f=>Object.assign(Object.assign({},l),{urlAfterRedirects:f}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Cn.b)(M=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:M.urlAfterRedirects})}),function(i,n,r,a,l){return(0,Le.zg)(f=>function(i,n,r,a,l="emptyOnly",f="legacy"){try{const _=new $s(i,n,r,a,l,f).recognize();return null===_?hv(new Aw):(0,He.of)(_)}catch(_){return hv(_)}}(i,n,f.urlAfterRedirects,r(f.urlAfterRedirects),a,l).pipe((0,lt.U)(_=>Object.assign(Object.assign({},f),{targetSnapshot:_}))))}(this.rootComponentType,this.config,M=>this.serializeUrl(M),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Cn.b)(M=>{"eager"===this.urlUpdateStrategy&&(M.extras.skipLocationChange||this.setBrowserUrl(M.urlAfterRedirects,M),this.browserUrlTree=M.urlAfterRedirects);const k=new zb(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);a.next(k)}));if(T&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:k,extractedUrl:z,source:K,restoredState:Ce,extras:Re}=w,qe=new hf(k,this.serializeUrl(z),K,Ce);a.next(qe);const Mt=vf(z,this.rootComponentType).snapshot;return(0,He.of)(Object.assign(Object.assign({},w),{targetSnapshot:Mt,urlAfterRedirects:z,extras:Object.assign(Object.assign({},Re),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=w.rawUrl,this.browserUrlTree=w.urlAfterRedirects,w.resolve(null),ki.E}),Df(w=>{const{targetSnapshot:T,id:S,extractedUrl:M,rawUrl:k,extras:{skipLocationChange:z,replaceUrl:K}}=w;return this.hooks.beforePreactivation(T,{navigationId:S,appliedUrlTree:M,rawUrlTree:k,skipLocationChange:!!z,replaceUrl:!!K})}),(0,Cn.b)(w=>{const T=new Wb(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(T)}),(0,lt.U)(w=>Object.assign(Object.assign({},w),{guards:tA(w.targetSnapshot,w.currentSnapshot,this.rootContexts)})),function(i,n){return(0,Le.zg)(r=>{const{targetSnapshot:a,currentSnapshot:l,guards:{canActivateChecks:f,canDeactivateChecks:_}}=r;return 0===_.length&&0===f.length?(0,He.of)(Object.assign(Object.assign({},r),{guardsResult:!0})):function(i,n,r,a){return(0,un.D)(i).pipe((0,Le.zg)(l=>function(i,n,r,a,l){const f=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!f||0===f.length)return(0,He.of)(!0);const _=f.map(w=>{const T=cv(w,n,l);let S;if(function(i){return i&&Da(i.canDeactivate)}(T))S=ss(T.canDeactivate(i,n,r,a));else{if(!Da(T))throw new Error("Invalid CanDeactivate guard");S=ss(T(i,n,r,a))}return S.pipe($r())});return(0,He.of)(_).pipe(wf())}(l.component,l.route,r,n,a)),$r(l=>!0!==l,!0))}(_,a,l,i).pipe((0,Le.zg)(w=>w&&function(i){return"boolean"==typeof i}(w)?function(i,n,r,a){return(0,un.D)(n).pipe(et(l=>kn(function(i,n){return null!==i&&n&&n(new Zy(i)),(0,He.of)(!0)}(l.route.parent,a),function(i,n){return null!==i&&n&&n(new OD(i)),(0,He.of)(!0)}(l.route,a),function(i,n,r){const a=n[n.length-1],f=n.slice(0,n.length-1).reverse().map(_=>function(i){const n=i.routeConfig?i.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:i,guards:n}:null}(_)).filter(_=>null!==_).map(_=>Ec(()=>{const w=_.guards.map(T=>{const S=cv(T,_.node,r);let M;if(function(i){return i&&Da(i.canActivateChild)}(S))M=ss(S.canActivateChild(a,i));else{if(!Da(S))throw new Error("Invalid CanActivateChild guard");M=ss(S(a,i))}return M.pipe($r())});return(0,He.of)(w).pipe(wf())}));return(0,He.of)(f).pipe(wf())}(i,l.path,r),function(i,n,r){const a=n.routeConfig?n.routeConfig.canActivate:null;if(!a||0===a.length)return(0,He.of)(!0);const l=a.map(f=>Ec(()=>{const _=cv(f,n,r);let w;if(function(i){return i&&Da(i.canActivate)}(_))w=ss(_.canActivate(n,i));else{if(!Da(_))throw new Error("Invalid CanActivate guard");w=ss(_(n,i))}return w.pipe($r())}));return(0,He.of)(l).pipe(wf())}(i,l.route,r))),$r(l=>!0!==l,!0))}(a,f,i,n):(0,He.of)(w)),(0,lt.U)(w=>Object.assign(Object.assign({},r),{guardsResult:w})))})}(this.ngModule.injector,w=>this.triggerEvent(w)),(0,Cn.b)(w=>{if(ko(w.guardsResult)){const S=qy(`Redirecting to "${this.serializeUrl(w.guardsResult)}"`);throw S.url=w.guardsResult,S}const T=new jy(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot,!!w.guardsResult);this.triggerEvent(T)}),E(w=>!!w.guardsResult||(this.restoreHistory(w),this.cancelNavigationTransition(w,""),!1)),Df(w=>{if(w.guards.canActivateChecks.length)return(0,He.of)(w).pipe((0,Cn.b)(T=>{const S=new Hy(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(T.urlAfterRedirects),T.targetSnapshot);this.triggerEvent(S)}),zt(T=>{let S=!1;return(0,He.of)(T).pipe(function(i,n){return(0,Le.zg)(r=>{const{targetSnapshot:a,guards:{canActivateChecks:l}}=r;if(!l.length)return(0,He.of)(r);let f=0;return(0,un.D)(l).pipe(et(_=>function(i,n,r,a){return function(i,n,r,a){const l=Object.keys(i);if(0===l.length)return(0,He.of)({});const f={};return(0,un.D)(l).pipe((0,Le.zg)(_=>function(i,n,r,a){const l=cv(i,n,a);return ss(l.resolve?l.resolve(n,r):l(n,r))}(i[_],n,r,a).pipe((0,Cn.b)(w=>{f[_]=w}))),Xe(1),(0,Le.zg)(()=>Object.keys(f).length===l.length?(0,He.of)(f):ki.E))}(i._resolve,i,n,a).pipe((0,lt.U)(f=>(i._resolvedData=f,i.data=Object.assign(Object.assign({},i.data),dw(i,r).resolve),null)))}(_.route,a,i,n)),(0,Cn.b)(()=>f++),Xe(1),(0,Le.zg)(_=>f===l.length?(0,He.of)(r):ki.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Cn.b)({next:()=>S=!0,complete:()=>{S||(this.restoreHistory(T),this.cancelNavigationTransition(T,"At least one route resolver didn't emit any value."))}}))}),(0,Cn.b)(T=>{const S=new Kb(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(T.urlAfterRedirects),T.targetSnapshot);this.triggerEvent(S)}))}),Df(w=>{const{targetSnapshot:T,id:S,extractedUrl:M,rawUrl:k,extras:{skipLocationChange:z,replaceUrl:K}}=w;return this.hooks.afterPreactivation(T,{navigationId:S,appliedUrlTree:M,rawUrlTree:k,skipLocationChange:!!z,replaceUrl:!!K})}),(0,lt.U)(w=>{const T=function(i,n,r){const a=Vi(i,n._root,r?r._root:void 0);return new tv(a,n)}(this.routeReuseStrategy,w.targetSnapshot,w.currentRouterState);return Object.assign(Object.assign({},w),{targetRouterState:T})}),(0,Cn.b)(w=>{this.currentUrlTree=w.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,w.rawUrl),this.routerState=w.targetRouterState,"deferred"===this.urlUpdateStrategy&&(w.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,w),this.browserUrlTree=w.urlAfterRedirects)}),((i,n,r)=>(0,lt.U)(a=>(new hS(n,a.targetRouterState,a.currentRouterState,r).activate(i),a)))(this.rootContexts,this.routeReuseStrategy,w=>this.triggerEvent(w)),(0,Cn.b)({next(){f=!0},complete(){f=!0}}),function(i){return n=>n.lift(new iS(i))}(()=>{if(!f&&!_){const w=`Navigation ID ${l.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(l),this.cancelNavigationTransition(l,w)):this.cancelNavigationTransition(l,w)}this.currentNavigation=null}),$(w=>{if(_=!0,function(i){return i&&i[Qb]}(w)){const T=ko(w.url);T||(this.navigated=!0,this.restoreHistory(l,!0));const S=new By(l.id,this.serializeUrl(l.extractedUrl),w.message);a.next(S),T?setTimeout(()=>{const M=this.urlHandlingStrategy.merge(w.url,this.rawUrlTree),k={skipLocationChange:l.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||yv(l.source)};this.scheduleNavigation(M,"imperative",null,k,{resolve:l.resolve,reject:l.reject,promise:l.promise})},0):l.resolve(!1)}else{this.restoreHistory(l,!0);const T=new pf(l.id,this.serializeUrl(l.extractedUrl),w);a.next(T);try{l.resolve(this.errorHandler(w))}catch(S){l.reject(S)}}return ki.E}))}))}resetRootComponentType(r){this.rootComponentType=r,this.routerState.root.component=this.rootComponentType}getTransition(){const r=this.transitions.value;return r.urlAfterRedirects=this.browserUrlTree,r}setTransition(r){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),r))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const a=this.extractLocationChangeInfoFromEvent(r);this.shouldScheduleNavigation(this.lastLocationChangeInfo,a)&&setTimeout(()=>{const{source:l,state:f,urlTree:_}=a,w={replaceUrl:!0};if(f){const T=Object.assign({},f);delete T.navigationId,delete T.\u0275routerPageId,0!==Object.keys(T).length&&(w.state=T)}this.scheduleNavigation(_,l,f,w)},0),this.lastLocationChangeInfo=a}))}extractLocationChangeInfoFromEvent(r){var a;return{source:"popstate"===r.type?"popstate":"hashchange",urlTree:this.parseUrl(r.url),state:(null===(a=r.state)||void 0===a?void 0:a.navigationId)?r.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(r,a){if(!r)return!0;const l=a.urlTree.toString()===r.urlTree.toString();return a.transitionId!==r.transitionId||!l||!("hashchange"===a.source&&"popstate"===r.source||"popstate"===a.source&&"hashchange"===r.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(r){this.events.next(r)}resetConfig(r){im(r),this.config=r.map(av),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(r,a={}){const{relativeTo:l,queryParams:f,fragment:_,queryParamsHandling:w,preserveFragment:T}=a,S=l||this.routerState.root,M=T?this.currentUrlTree.fragment:_;let k=null;switch(w){case"merge":k=Object.assign(Object.assign({},this.currentUrlTree.queryParams),f);break;case"preserve":k=this.currentUrlTree.queryParams;break;default:k=f||null}return null!==k&&(k=this.removeEmptyProps(k)),function(i,n,r,a,l){if(0===r.length)return fw(n.root,n.root,n,a,l);const f=function(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new ZD(!0,0,i);let n=0,r=!1;const a=i.reduce((l,f,_)=>{if("object"==typeof f&&null!=f){if(f.outlets){const w={};return wn(f.outlets,(T,S)=>{w[S]="string"==typeof T?T.split("/"):T}),[...l,{outlets:w}]}if(f.segmentPath)return[...l,f.segmentPath]}return"string"!=typeof f?[...l,f]:0===_?(f.split("/").forEach((w,T)=>{0==T&&"."===w||(0==T&&""===w?r=!0:".."===w?n++:""!=w&&l.push(w))}),l):[...l,f]},[]);return new ZD(r,n,a)}(r);if(f.toRoot())return fw(n.root,new Tt([],{}),n,a,l);const _=function(i,n,r){if(i.isAbsolute)return new rm(n.root,!0,0);if(-1===r.snapshot._lastPathIndex){const f=r.snapshot._urlSegment;return new rm(f,f===n.root,0)}const a=nm(i.commands[0])?0:1;return function(i,n,r){let a=i,l=n,f=r;for(;f>l;){if(f-=l,a=a.parent,!a)throw new Error("Invalid number of '../'");l=a.segments.length}return new rm(a,!1,l-f)}(r.snapshot._urlSegment,r.snapshot._lastPathIndex+a,i.numberOfDoubleDots)}(f,n,i),w=_.processChildren?sv(_.segmentGroup,_.index,f.commands):qD(_.segmentGroup,_.index,f.commands);return fw(_.segmentGroup,w,n,a,l)}(S,this.currentUrlTree,r,k,null!=M?M:null)}navigateByUrl(r,a={skipLocationChange:!1}){const l=ko(r)?r:this.parseUrl(r),f=this.urlHandlingStrategy.merge(l,this.rawUrlTree);return this.scheduleNavigation(f,"imperative",null,a)}navigate(r,a={skipLocationChange:!1}){return function(i){for(let n=0;n<i.length;n++){const r=i[n];if(null==r)throw new Error(`The requested path contains ${r} segment at index ${n}`)}}(r),this.navigateByUrl(this.createUrlTree(r,a),a)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let a;try{a=this.urlSerializer.parse(r)}catch(l){a=this.malformedUriErrorHandler(l,this.urlSerializer,r)}return a}isActive(r,a){let l;if(l=!0===a?Object.assign({},Lo):!1===a?Object.assign({},fm):a,ko(r))return iw(this.currentUrlTree,r,l);const f=this.parseUrl(r);return iw(this.currentUrlTree,f,l)}removeEmptyProps(r){return Object.keys(r).reduce((a,l)=>{const f=r[l];return null!=f&&(a[l]=f),a},{})}processNavigations(){this.navigations.subscribe(r=>{this.navigated=!0,this.lastSuccessfulId=r.id,this.currentPageId=r.targetPageId,this.events.next(new ff(r.id,this.serializeUrl(r.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,r.resolve(!0)},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)})}scheduleNavigation(r,a,l,f,_){var w,T;if(this.disposed)return Promise.resolve(!1);const S=this.getTransition(),M=yv(a)&&S&&!yv(S.source),K=(this.lastSuccessfulId===S.id||this.currentNavigation?S.rawUrl:S.urlAfterRedirects).toString()===r.toString();if(M&&K)return Promise.resolve(!0);let Ce,Re,qe;_?(Ce=_.resolve,Re=_.reject,qe=_.promise):qe=new Promise((It,Wt)=>{Ce=It,Re=Wt});const Mt=++this.navigationId;let Vt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(l=this.location.getState()),Vt=l&&l.\u0275routerPageId?l.\u0275routerPageId:f.replaceUrl||f.skipLocationChange?null!==(w=this.browserPageId)&&void 0!==w?w:0:(null!==(T=this.browserPageId)&&void 0!==T?T:0)+1):Vt=0,this.setTransition({id:Mt,targetPageId:Vt,source:a,restoredState:l,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:r,extras:f,resolve:Ce,reject:Re,promise:qe,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),qe.catch(It=>Promise.reject(It))}setBrowserUrl(r,a){const l=this.urlSerializer.serialize(r),f=Object.assign(Object.assign({},a.extras.state),this.generateNgRouterState(a.id,a.targetPageId));this.location.isCurrentPathEqualTo(l)||a.extras.replaceUrl?this.location.replaceState(l,"",f):this.location.go(l,"",f)}restoreHistory(r,a=!1){var l,f;if("computed"===this.canceledNavigationResolution){const _=this.currentPageId-r.targetPageId;"popstate"!==r.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)||0===_?this.currentUrlTree===(null===(f=this.currentNavigation)||void 0===f?void 0:f.finalUrl)&&0===_&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(_)}else"replace"===this.canceledNavigationResolution&&(a&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(r,a){const l=new By(r.id,this.serializeUrl(r.extractedUrl),a);this.triggerEvent(l),r.resolve(!1)}generateNgRouterState(r,a){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:a}:{navigationId:r}}}return i.\u0275fac=function(r){return new(r||i)(d.LFG(d.DyG),d.LFG(Yy),d.LFG(Lc),d.LFG(Ue),d.LFG(d.zs3),d.LFG(d.v3s),d.LFG(d.Sil),d.LFG(void 0))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();function yv(i){return"imperative"!==i}let Vo=(()=>{class i{constructor(r,a,l,f,_){this.router=r,this.route=a,this.commands=[],this.onChanges=new qn.xQ,null==l&&f.setAttribute(_.nativeElement,"tabindex","0")}ngOnChanges(r){this.onChanges.next(this)}set routerLink(r){this.commands=null!=r?Array.isArray(r)?r:[r]:[]}onClick(){const r={skipLocationChange:qs(this.skipLocationChange),replaceUrl:qs(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,r),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:qs(this.preserveFragment)})}}return i.\u0275fac=function(r){return new(r||i)(d.Y36(si),d.Y36(qu),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq))},i.\u0275dir=d.lG2({type:i,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(r,a){1&r&&d.NdJ("click",function(){return a.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[d.TTD]}),i})(),pm=(()=>{class i{constructor(r,a,l){this.router=r,this.route=a,this.locationStrategy=l,this.commands=[],this.onChanges=new qn.xQ,this.subscription=r.events.subscribe(f=>{f instanceof ff&&this.updateTargetUrlAndHref()})}set routerLink(r){this.commands=null!=r?Array.isArray(r)?r:[r]:[]}ngOnChanges(r){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(r,a,l,f,_){if(0!==r||a||l||f||_||"string"==typeof this.target&&"_self"!=this.target)return!0;const w={skipLocationChange:qs(this.skipLocationChange),replaceUrl:qs(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,w),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:qs(this.preserveFragment)})}}return i.\u0275fac=function(r){return new(r||i)(d.Y36(si),d.Y36(qu),d.Y36(X))},i.\u0275dir=d.lG2({type:i,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(r,a){1&r&&d.NdJ("click",function(f){return a.onClick(f.button,f.ctrlKey,f.shiftKey,f.altKey,f.metaKey)}),2&r&&(d.Ikx("href",a.href,d.LSH),d.uIk("target",a.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[d.TTD]}),i})();function qs(i){return""===i||!!i}let Vc=(()=>{class i{constructor(r,a,l,f,_,w){this.router=r,this.element=a,this.renderer=l,this.cdr=f,this.link=_,this.linkWithHref=w,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=r.events.subscribe(T=>{T instanceof ff&&this.update()})}ngAfterContentInit(){(0,He.of)(this.links.changes,this.linksWithHrefs.changes,(0,He.of)(null)).pipe((0,Mn.J)()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var r;null===(r=this.linkInputChangesSubscription)||void 0===r||r.unsubscribe();const a=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(l=>!!l).map(l=>l.onChanges);this.linkInputChangesSubscription=(0,un.D)(a).pipe((0,Mn.J)()).subscribe(l=>{this.isActive!==this.isLinkActive(this.router)(l)&&this.update()})}set routerLinkActive(r){const a=Array.isArray(r)?r:r.split(" ");this.classes=a.filter(l=>!!l)}ngOnChanges(r){this.update()}ngOnDestroy(){var r;this.routerEventsSubscription.unsubscribe(),null===(r=this.linkInputChangesSubscription)||void 0===r||r.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const r=this.hasActiveLinks();this.isActive!==r&&(this.isActive=r,this.cdr.markForCheck(),this.classes.forEach(a=>{r?this.renderer.addClass(this.element.nativeElement,a):this.renderer.removeClass(this.element.nativeElement,a)}))})}isLinkActive(r){const a=function(i){return!!i.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return l=>r.isActive(l.urlTree,a)}hasActiveLinks(){const r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.linkWithHref&&r(this.linkWithHref)||this.links.some(r)||this.linksWithHrefs.some(r)}}return i.\u0275fac=function(r){return new(r||i)(d.Y36(si),d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(d.sBO),d.Y36(Vo,8),d.Y36(pm,8))},i.\u0275dir=d.lG2({type:i,selectors:[["","routerLinkActive",""]],contentQueries:function(r,a,l){if(1&r&&(d.Suo(l,Vo,5),d.Suo(l,pm,5)),2&r){let f;d.iGM(f=d.CRH())&&(a.links=f),d.iGM(f=d.CRH())&&(a.linksWithHrefs=f)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[d.TTD]}),i})(),Af=(()=>{class i{constructor(r,a,l,f,_){this.parentContexts=r,this.location=a,this.resolver=l,this.changeDetector=_,this.activated=null,this._activatedRoute=null,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.name=f||wt,r.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const r=this.parentContexts.getContext(this.name);r&&r.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,r}attach(r,a){this.activated=r,this._activatedRoute=a,this.location.insert(r.hostView)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,a){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=r;const _=(a=a||this.resolver).resolveComponentFactory(r._futureSnapshot.routeConfig.component),w=this.parentContexts.getOrCreateContext(this.name).children,T=new Fw(r,w,this.location.injector);this.activated=this.location.createComponent(_,this.location.length,T),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(r){return new(r||i)(d.Y36(Lc),d.Y36(d.s_b),d.Y36(d._Vd),d.$8M("name"),d.Y36(d.sBO))},i.\u0275dir=d.lG2({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),i})();class Fw{constructor(n,r,a){this.route=n,this.childContexts=r,this.parent=a}get(n,r){return n===qu?this.route:n===Lc?this.childContexts:this.parent.get(n,r)}}class Lw{}class Uw{preload(n,r){return(0,He.of)(null)}}let gm=(()=>{class i{constructor(r,a,l,f,_){this.router=r,this.injector=f,this.preloadingStrategy=_,this.loader=new hm(a,l,S=>r.triggerEvent(new ND(S)),S=>r.triggerEvent(new Hu(S)))}setUpPreloading(){this.subscription=this.router.events.pipe(E(r=>r instanceof ff),et(()=>this.preload())).subscribe(()=>{})}preload(){const r=this.injector.get(d.h0i);return this.processRoutes(r,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,a){const l=[];for(const f of a)if(f.loadChildren&&!f.canLoad&&f._loadedConfig){const _=f._loadedConfig;l.push(this.processRoutes(_.module,_.routes))}else f.loadChildren&&!f.canLoad?l.push(this.preloadConfig(r,f)):f.children&&l.push(this.processRoutes(r,f.children));return(0,un.D)(l).pipe((0,Mn.J)(),(0,lt.U)(f=>{}))}preloadConfig(r,a){return this.preloadingStrategy.preload(a,()=>(a._loadedConfig?(0,He.of)(a._loadedConfig):this.loader.load(r.injector,a)).pipe((0,Le.zg)(f=>(a._loadedConfig=f,this.processRoutes(f.module,f.routes)))))}}return i.\u0275fac=function(r){return new(r||i)(d.LFG(si),d.LFG(d.v3s),d.LFG(d.Sil),d.LFG(d.zs3),d.LFG(Lw))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})(),vv=(()=>{class i{constructor(r,a,l={}){this.router=r,this.viewportScroller=a,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(r=>{r instanceof hf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof ff&&(this.lastId=r.id,this.scheduleScrollEvent(r,this.router.parseUrl(r.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(r=>{r instanceof Jb&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,a){this.router.triggerEvent(new Jb(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,a))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(r){return new(r||i)(d.LFG(si),d.LFG(nu),d.LFG(void 0))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const xa=new d.OlP("ROUTER_CONFIGURATION"),zu=new d.OlP("ROUTER_FORROOT_GUARD"),CA=[Ue,{provide:Yy,useClass:Jy},{provide:si,useFactory:function(i,n,r,a,l,f,_,w={},T,S){const M=new si(null,i,n,r,a,l,f,nw(_));return T&&(M.urlHandlingStrategy=T),S&&(M.routeReuseStrategy=S),function(i,n){i.errorHandler&&(n.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(n.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(n.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(n.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(n.urlUpdateStrategy=i.urlUpdateStrategy)}(w,M),w.enableTracing&&M.events.subscribe(k=>{var z,K;null===(z=console.group)||void 0===z||z.call(console,`Router Event: ${k.constructor.name}`),console.log(k.toString()),console.log(k),null===(K=console.groupEnd)||void 0===K||K.call(console)}),M},deps:[Yy,Lc,Ue,d.zs3,d.v3s,d.Sil,mv,xa,[class{},new d.FiY],[class{},new d.FiY]]},Lc,{provide:qu,useFactory:function(i){return i.routerState.root},deps:[si]},{provide:d.v3s,useClass:d.EAV},gm,Uw,class{preload(n,r){return r().pipe($(()=>(0,He.of)(null)))}},{provide:xa,useValue:{enableTracing:!1}}];function bA(){return new d.PXZ("Router",si)}let Wu=(()=>{class i{constructor(r,a){}static forRoot(r,a){return{ngModule:i,providers:[CA,jw(r),{provide:zu,useFactory:IA,deps:[[si,new d.FiY,new d.tp0]]},{provide:xa,useValue:a||{}},{provide:X,useFactory:EA,deps:[fe,[new d.tBr(Ne),new d.FiY],xa]},{provide:vv,useFactory:wA,deps:[si,nu,xa]},{provide:Lw,useExisting:a&&a.preloadingStrategy?a.preloadingStrategy:Uw},{provide:d.PXZ,multi:!0,useFactory:bA},[Lt,{provide:d.ip1,multi:!0,useFactory:Cv,deps:[Lt]},{provide:Gs,useFactory:yS,deps:[Lt]},{provide:d.tb,multi:!0,useExisting:Gs}]]}}static forChild(r){return{ngModule:i,providers:[jw(r)]}}}return i.\u0275fac=function(r){return new(r||i)(d.LFG(zu,8),d.LFG(si,8))},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({}),i})();function wA(i,n,r){return r.scrollOffset&&n.setOffset(r.scrollOffset),new vv(i,n,r)}function EA(i,n,r={}){return r.useHash?new Ve(i,n):new xe(i,n)}function IA(i){return"guarded"}function jw(i){return[{provide:d.deG,multi:!0,useValue:i},{provide:mv,multi:!0,useValue:i}]}let Lt=(()=>{class i{constructor(r){this.injector=r,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new qn.xQ}appInitializer(){return this.injector.get(P,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let a=null;const l=new Promise(w=>a=w),f=this.injector.get(si),_=this.injector.get(xa);return"disabled"===_.initialNavigation?(f.setUpLocationChangeListener(),a(!0)):"enabled"===_.initialNavigation||"enabledBlocking"===_.initialNavigation?(f.hooks.afterPreactivation=()=>this.initNavigation?(0,He.of)(null):(this.initNavigation=!0,a(!0),this.resultOfPreactivationDone),f.initialNavigation()):a(!0),l})}bootstrapListener(r){const a=this.injector.get(xa),l=this.injector.get(gm),f=this.injector.get(vv),_=this.injector.get(si),w=this.injector.get(d.z2F);r===w.components[0]&&(("enabledNonBlocking"===a.initialNavigation||void 0===a.initialNavigation)&&_.initialNavigation(),l.setUpPreloading(),f.init(),_.resetRootComponentType(w.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return i.\u0275fac=function(r){return new(r||i)(d.LFG(d.zs3))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();function Cv(i){return i.appInitializer.bind(i)}function yS(i){return i.bootstrapListener.bind(i)}const Gs=new d.OlP("Router Initializer");class mm{constructor(){this.id="",this.nombre_chofer="",this.nombre_controladora="",this.placa="",this.capacidad=0,this.trabajadores=0,this.numero_celular_chofer="",this.numero_celular_controlador="",this.ruta="",this.color="",this.activado="",this.letra="",this.rason_social="",this.ruc="",this.proveedor="",this.paradero1="",this.hora1="",this.paradero2="",this.hora2="",this.paradero3="",this.hora3="",this.paradero4="",this.hora4=""}}var DA=L(3637),hr=L(9126);function _m(){return i=>i.lift(new $w)}class $w{call(n,r){return r.subscribe(new qw(n))}}class qw extends dr.L{constructor(n){super(n),this.hasPrev=!1}_next(n){let r;this.hasPrev?r=[this.prev,n]:this.hasPrev=!0,this.prev=n,r&&this.destination.next(r)}}class AA{constructor(n,r){this.compare=n,this.keySelector=r}call(n,r){return r.subscribe(new xA(n,this.compare,this.keySelector))}}class xA extends dr.L{constructor(n,r,a){super(n),this.keySelector=a,this.hasKey=!1,"function"==typeof r&&(this.compare=r)}compare(n,r){return n===r}_next(n){let r;try{const{keySelector:l}=this;r=l?l(n):n}catch(l){return this.destination.error(l)}let a=!1;if(this.hasKey)try{const{compare:l}=this;a=l(this.key,r)}catch(l){return this.destination.error(l)}else this.hasKey=!0;a||(this.key=r,this.destination.next(n))}}var $e,Ii=L(8939),Ww=(L(670),L(4486)),ve=L(8239),ym=L(5452),wv=L(6034),Ku=L(5601),Pt=L(3854),SA="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Uo={},Kw=Kw||{},ct=SA||self;function vm(){}function Ev(i){var n=typeof i;return"array"==(n="object"!=n?n:i?Array.isArray(i)?"array":n:"null")||"object"==n&&"number"==typeof i.length}function Cm(i){var n=typeof i;return"object"==n&&null!=i||"function"==n}var xf="closure_uid_"+(1e9*Math.random()>>>0),MA=0;function Yw(i,n,r){return i.call.apply(i.bind,arguments)}function Jw(i,n,r){if(!i)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,a),i.apply(n,l)}}return function(){return i.apply(n,arguments)}}function Sr(i,n,r){return(Sr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Yw:Jw).apply(null,arguments)}function oi(i,n){var r=Array.prototype.slice.call(arguments,1);return function(){var a=r.slice();return a.push.apply(a,arguments),i.apply(this,a)}}function Mr(i,n){function r(){}r.prototype=n.prototype,i.Z=n.prototype,i.prototype=new r,i.prototype.constructor=i,i.Vb=function(a,l,f){for(var _=Array(arguments.length-2),w=2;w<arguments.length;w++)_[w-2]=arguments[w];return n.prototype[l].apply(a,_)}}function Yu(){this.s=this.s,this.o=this.o}var Qw={};Yu.prototype.s=!1,Yu.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function(i){return Object.prototype.hasOwnProperty.call(i,xf)&&i[xf]||(i[xf]=++MA)}(this);delete Qw[i]}},Yu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Iv=Array.prototype.indexOf?function(i,n){return Array.prototype.indexOf.call(i,n,void 0)}:function(i,n){if("string"==typeof i)return"string"!=typeof n||1!=n.length?-1:i.indexOf(n,0);for(let r=0;r<i.length;r++)if(r in i&&i[r]===n)return r;return-1},Tv=Array.prototype.forEach?function(i,n,r){Array.prototype.forEach.call(i,n,r)}:function(i,n,r){const a=i.length,l="string"==typeof i?i.split(""):i;for(let f=0;f<a;f++)f in l&&n.call(r,l[f],f,i)};function OA(i){return Array.prototype.concat.apply([],arguments)}function bm(i){const n=i.length;if(0<n){const r=Array(n);for(let a=0;a<n;a++)r[a]=i[a];return r}return[]}function Uc(i){return/^[\s\xa0]*$/.test(i)}var qr,Xw=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function fr(i,n){return-1!=i.indexOf(n)}function Dv(i,n){return i<n?-1:i>n?1:0}e:{var eE=ct.navigator;if(eE){var tE=eE.userAgent;if(tE){qr=tE;break e}}qr=""}function Av(i,n,r){for(const a in i)n.call(r,i[a],a,i)}function nE(i){const n={};for(const r in i)n[r]=i[r];return n}var Sf="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ju(i,n){let r,a;for(let l=1;l<arguments.length;l++){for(r in a=arguments[l],a)i[r]=a[r];for(let f=0;f<Sf.length;f++)r=Sf[f],Object.prototype.hasOwnProperty.call(a,r)&&(i[r]=a[r])}}function wm(i){return wm[" "](i),i}wm[" "]=vm;var zs,i,Mf=fr(qr,"Opera"),Bc=fr(qr,"Trident")||fr(qr,"MSIE"),rE=fr(qr,"Edge"),Nf=rE||Bc,ls=fr(qr,"Gecko")&&!(fr(qr.toLowerCase(),"webkit")&&!fr(qr,"Edge"))&&!(fr(qr,"Trident")||fr(qr,"MSIE"))&&!fr(qr,"Edge"),Of=fr(qr.toLowerCase(),"webkit")&&!fr(qr,"Edge");function pr(){var i=ct.document;return i?i.documentMode:void 0}e:{var jc="",ai=(i=qr,ls?/rv:([^\);]+)(\)|;)/.exec(i):rE?/Edge\/([\d\.]+)/.exec(i):Bc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Of?/WebKit\/(\S+)/.exec(i):Mf?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(ai&&(jc=ai?ai[1]:""),Bc){var Rf=pr();if(null!=Rf&&Rf>parseFloat(jc)){zs=String(Rf);break e}}zs=jc}var Hc={};function Zc(){return n=Hc,Object.prototype.hasOwnProperty.call(n,9)?n[9]:n[9]=function(){let i=0;const n=Xw(String(zs)).split("."),r=Xw("9").split("."),a=Math.max(n.length,r.length);for(let _=0;0==i&&_<a;_++){var l=n[_]||"",f=r[_]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],0==l[0].length&&0==f[0].length)break;i=Dv(0==l[1].length?0:parseInt(l[1],10),0==f[1].length?0:parseInt(f[1],10))||Dv(0==l[2].length,0==f[2].length)||Dv(l[2],f[2]),l=l[3],f=f[3]}while(0==i)}return 0<=i}();var n}var $c=ct.document&&Bc&&(pr()||parseInt(zs,10))||void 0,qc=function(){if(!ct.addEventListener||!Object.defineProperty)return!1;var i=!1,n=Object.defineProperty({},"passive",{get:function(){i=!0}});try{ct.addEventListener("test",vm,n),ct.removeEventListener("test",vm,n)}catch(r){}return i}();function Nn(i,n){this.type=i,this.g=this.target=n,this.defaultPrevented=!1}function Ws(i,n){if(Nn.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var r=this.type=i.type,a=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=n,n=i.relatedTarget){if(ls){e:{try{wm(n.nodeName);var l=!0;break e}catch(f){}l=!1}l||(n=null)}}else"mouseover"==r?n=i.fromElement:"mouseout"==r&&(n=i.toElement);this.relatedTarget=n,a?(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Gc[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Ws.Z.h.call(this)}}Nn.prototype.h=function(){this.defaultPrevented=!0},Mr(Ws,Nn);var Gc={2:"touch",3:"pen",4:"mouse"};Ws.prototype.h=function(){Ws.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var zc="closure_listenable_"+(1e6*Math.random()|0),iE=0;function sE(i,n,r,a,l){this.listener=i,this.proxy=null,this.src=n,this.type=r,this.capture=!!a,this.ia=l,this.key=++iE,this.ca=this.fa=!1}function Pf(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function kf(i){this.src=i,this.g={},this.h=0}function Em(i,n){var r=n.type;if(r in i.g){var f,a=i.g[r],l=Iv(a,n);(f=0<=l)&&Array.prototype.splice.call(a,l,1),f&&(Pf(n),0==i.g[r].length&&(delete i.g[r],i.h--))}}function Im(i,n,r,a){for(var l=0;l<i.length;++l){var f=i[l];if(!f.ca&&f.listener==n&&f.capture==!!r&&f.ia==a)return l}return-1}kf.prototype.add=function(i,n,r,a,l){var f=i.toString();(i=this.g[f])||(i=this.g[f]=[],this.h++);var _=Im(i,n,a,l);return-1<_?(n=i[_],r||(n.fa=!1)):((n=new sE(n,this.src,f,!!a,l)).fa=r,i.push(n)),n};var Tm="closure_lm_"+(1e6*Math.random()|0),Dm={};function oE(i,n,r,a,l){if(a&&a.once)return aE(i,n,r,a,l);if(Array.isArray(n)){for(var f=0;f<n.length;f++)oE(i,n[f],r,a,l);return null}return r=xm(r),i&&i[zc]?i.N(n,r,Cm(a)?!!a.capture:!!a,l):xv(i,n,r,!1,a,l)}function xv(i,n,r,a,l,f){if(!n)throw Error("Invalid event type");var _=Cm(l)?!!l.capture:!!l,w=Am(i);if(w||(i[Tm]=w=new kf(i)),(r=w.add(n,r,a,_,f)).proxy)return r;if(a=function(){var n=kA;return function i(r){return n.call(i.src,i.listener,r)}}(),r.proxy=a,a.src=i,a.listener=r,i.addEventListener)qc||(l=_),void 0===l&&(l=!1),i.addEventListener(n.toString(),a,l);else if(i.attachEvent)i.attachEvent(PA(n.toString()),a);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(a)}return r}function aE(i,n,r,a,l){if(Array.isArray(n)){for(var f=0;f<n.length;f++)aE(i,n[f],r,a,l);return null}return r=xm(r),i&&i[zc]?i.O(n,r,Cm(a)?!!a.capture:!!a,l):xv(i,n,r,!0,a,l)}function Sv(i,n,r,a,l){if(Array.isArray(n))for(var f=0;f<n.length;f++)Sv(i,n[f],r,a,l);else a=Cm(a)?!!a.capture:!!a,r=xm(r),i&&i[zc]?(i=i.i,(n=String(n).toString())in i.g&&-1<(r=Im(f=i.g[n],r,a,l))&&(Pf(f[r]),Array.prototype.splice.call(f,r,1),0==f.length&&(delete i.g[n],i.h--))):i&&(i=Am(i))&&(n=i.g[n.toString()],i=-1,n&&(i=Im(n,r,a,l)),(r=-1<i?n[i]:null)&&Mv(r))}function Mv(i){if("number"!=typeof i&&i&&!i.ca){var n=i.src;if(n&&n[zc])Em(n.i,i);else{var r=i.type,a=i.proxy;n.removeEventListener?n.removeEventListener(r,a,i.capture):n.detachEvent?n.detachEvent(PA(r),a):n.addListener&&n.removeListener&&n.removeListener(a),(r=Am(n))?(Em(r,i),0==r.h&&(r.src=null,n[Tm]=null)):Pf(i)}}}function PA(i){return i in Dm?Dm[i]:Dm[i]="on"+i}function kA(i,n){if(i.ca)i=!0;else{n=new Ws(n,this);var r=i.listener,a=i.ia||i.src;i.fa&&Mv(i),i=r.call(a,n)}return i}function Am(i){return(i=i[Tm])instanceof kf?i:null}var Nv="__closure_events_fn_"+(1e9*Math.random()>>>0);function xm(i){return"function"==typeof i?i:(i[Nv]||(i[Nv]=function(n){return i.handleEvent(n)}),i[Nv])}function tr(){Yu.call(this),this.i=new kf(this),this.P=this,this.I=null}function gr(i,n){var r,a=i.I;if(a)for(r=[];a;a=a.I)r.push(a);if(i=i.P,a=n.type||n,"string"==typeof n)n=new Nn(n,i);else if(n instanceof Nn)n.target=n.target||i;else{var l=n;Ju(n=new Nn(a,i),l)}if(l=!0,r)for(var f=r.length-1;0<=f;f--){var _=n.g=r[f];l=Ov(_,a,!0,n)&&l}if(l=Ov(_=n.g=i,a,!0,n)&&l,l=Ov(_,a,!1,n)&&l,r)for(f=0;f<r.length;f++)l=Ov(_=n.g=r[f],a,!1,n)&&l}function Ov(i,n,r,a){if(!(n=i.i.g[String(n)]))return!0;n=n.concat();for(var l=!0,f=0;f<n.length;++f){var _=n[f];if(_&&!_.ca&&_.capture==r){var w=_.listener,T=_.ia||_.src;_.fa&&Em(i.i,_),l=!1!==w.call(T,a)&&l}}return l&&!a.defaultPrevented}Mr(tr,Yu),tr.prototype[zc]=!0,tr.prototype.removeEventListener=function(i,n,r,a){Sv(this,i,n,r,a)},tr.prototype.M=function(){if(tr.Z.M.call(this),this.i){var n,i=this.i;for(n in i.g){for(var r=i.g[n],a=0;a<r.length;a++)Pf(r[a]);delete i.g[n],i.h--}}this.I=null},tr.prototype.N=function(i,n,r,a){return this.i.add(String(i),n,!1,r,a)},tr.prototype.O=function(i,n,r,a){return this.i.add(String(i),n,!0,r,a)};var Rv=ct.JSON.stringify;function uE(){var i=Sm;let n=null;return i.g&&(n=i.g,i.g=i.g.next,i.g||(i.h=null),n.next=null),n}var Pv,FA=new class{constructor(i,n){this.i=i,this.j=n,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new wS,i=>i.reset());class wS{constructor(){this.next=this.g=this.h=null}set(n,r){this.h=n,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function LA(i){ct.setTimeout(()=>{throw i},0)}function lE(i,n){Pv||function(){var i=ct.Promise.resolve(void 0);Pv=function(){i.then(UA)}}(),Ff||(Pv(),Ff=!0),Sm.add(i,n)}var Ff=!1,Sm=new class{constructor(){this.h=this.g=null}add(n,r){const a=FA.get();a.set(n,r),this.h?this.h.next=a:this.g=a,this.h=a}};function UA(){for(var i;i=uE();){try{i.h.call(i.g)}catch(r){LA(r)}var n=FA;n.j(i),100>n.h&&(n.h++,i.next=n.g,n.g=i)}Ff=!1}function kv(i,n){tr.call(this),this.h=i||1,this.g=n||ct,this.j=Sr(this.kb,this),this.l=Date.now()}function cE(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function dE(i,n,r){if("function"==typeof i)r&&(i=Sr(i,r));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Sr(i.handleEvent,i)}return 2147483647<Number(n)?-1:ct.setTimeout(i,n||0)}function hE(i){i.g=dE(()=>{i.g=null,i.i&&(i.i=!1,hE(i))},i.j);const n=i.h;i.h=null,i.m.apply(null,n)}Mr(kv,tr),($e=kv.prototype).da=!1,$e.S=null,$e.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),gr(this,"tick"),this.da&&(cE(this),this.start()))}},$e.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},$e.M=function(){kv.Z.M.call(this),cE(this),delete this.g};class fE extends Yu{constructor(n,r){super(),this.m=n,this.j=r,this.h=null,this.i=!1,this.g=null}l(n){this.h=arguments,this.g?this.i=!0:hE(this)}M(){super.M(),this.g&&(ct.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mm(i){Yu.call(this),this.h=i,this.g={}}Mr(Mm,Yu);var pE=[];function Xu(i,n,r,a){Array.isArray(r)||(r&&(pE[0]=r.toString()),r=pE);for(var l=0;l<r.length;l++){var f=oE(n,r[l],a||i.handleEvent,!1,i.h||i);if(!f)break;i.g[f.key]=f}}function gE(i){Av(i.g,function(n,r){this.g.hasOwnProperty(r)&&Mv(n)},i),i.g={}}function Lf(){this.g=!0}function Bo(i,n,r,a){i.info(function(){return"XMLHTTP TEXT ("+n+"): "+function(i,n){if(!i.g)return n;if(!n)return null;try{var r=JSON.parse(n);if(r)for(i=0;i<r.length;i++)if(Array.isArray(r[i])){var a=r[i];if(!(2>a.length)){var l=a[1];if(Array.isArray(l)&&!(1>l.length)){var f=l[0];if("noop"!=f&&"stop"!=f&&"close"!=f)for(var _=1;_<l.length;_++)l[_]=""}}}return Rv(r)}catch(w){return n}}(i,r)+(a?" "+a:"")})}Mm.prototype.M=function(){Mm.Z.M.call(this),gE(this)},Mm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Lf.prototype.Aa=function(){this.g=!1},Lf.prototype.info=function(){};var el={},yE=null;function Nm(){return yE=yE||new tr}function vE(i){Nn.call(this,el.Ma,i)}function Vf(i){const n=Nm();gr(n,new vE(n,i))}function Fv(i,n){Nn.call(this,el.STAT_EVENT,i),this.stat=n}function Gr(i){const n=Nm();gr(n,new Fv(n,i))}function Lv(i,n){Nn.call(this,el.Na,i),this.size=n}function Wc(i,n){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return ct.setTimeout(function(){i()},n)}el.Ma="serverreachability",Mr(vE,Nn),el.STAT_EVENT="statevent",Mr(Fv,Nn),el.Na="timingevent",Mr(Lv,Nn);var Kc={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},HA={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Uf(){}function ZA(){}Uf.prototype.h=null;var jf,jo={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Vv(){Nn.call(this,"d")}function Bf(){Nn.call(this,"c")}function Om(){}function tl(i,n,r,a){this.l=i,this.j=n,this.m=r,this.X=a||1,this.V=new Mm(this),this.P=bE,this.W=new kv(i=Nf?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Rm}function Rm(){this.i=null,this.g="",this.h=!1}Mr(Vv,Nn),Mr(Bf,Nn),Mr(Om,Uf),Om.prototype.g=function(){return new XMLHttpRequest},Om.prototype.i=function(){return{}},jf=new Om;var bE=45e3,wE={},Pm={};function Hf(i,n,r){i.K=1,i.v=zf(Ks(n)),i.s=r,i.U=!0,km(i,null)}function km(i,n){i.F=Date.now(),Yc(i),i.A=Ks(i.v);var r=i.A,a=i.X;Array.isArray(a)||(a=[String(a)]),sl(r.h,"t",a),i.C=0,r=i.l.H,i.h=new Rm,i.g=Xv(i.l,r?n:null,!i.s),0<i.O&&(i.L=new fE(Sr(i.Ia,i,i.g),i.O)),Xu(i.V,i.g,"readystatechange",i.gb),n=i.H?nE(i.H):{},i.s?(i.u||(i.u="POST"),n["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,n)):(i.u="GET",i.g.ea(i.A,i.u,null,n)),Vf(1),function(i,n,r,a,l,f){i.info(function(){if(i.g)if(f)for(var _="",w=f.split("&"),T=0;T<w.length;T++){var S=w[T].split("=");if(1<S.length){var M=S[0];S=S[1];var k=M.split("_");_=2<=k.length&&"type"==k[1]?_+(M+"=")+S+"&":_+(M+"=redacted&")}}else _=null;else _=f;return"XMLHTTP REQ ("+a+") [attempt "+l+"]: "+n+"\n"+r+"\n"+_})}(i.j,i.u,i.A,i.m,i.X,i.s)}function EE(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function Uv(i,n,r){let l,a=!0;for(;!i.I&&i.C<r.length;){if(l=Bv(i,r),l==Pm){4==n&&(i.o=4,Gr(14),a=!1),Bo(i.j,i.m,null,"[Incomplete Response]");break}if(l==wE){i.o=4,Gr(15),Bo(i.j,i.m,r,"[Invalid Chunk]"),a=!1;break}Bo(i.j,i.m,l,null),Lm(i,l)}EE(i)&&l!=Pm&&l!=wE&&(i.h.g="",i.C=0),4!=n||0!=r.length||i.h.h||(i.o=1,Gr(16),a=!1),i.i=i.i&&a,a?0<r.length&&!i.aa&&(i.aa=!0,(n=i.l).g==i&&n.$&&!n.L&&(n.h.info("Great, no buffering proxy detected. Bytes received: "+r.length),zm(n),n.L=!0,Gr(11))):(Bo(i.j,i.m,r,"[Invalid Chunked Response]"),nl(i),Qc(i))}function Bv(i,n){var r=i.C,a=n.indexOf("\n",r);return-1==a?Pm:(r=Number(n.substring(r,a)),isNaN(r)?wE:(a+=1)+r>n.length?Pm:(n=n.substr(a,r),i.C=a+r,n))}function Yc(i){i.Y=Date.now()+i.P,Fm(i,i.P)}function Fm(i,n){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Wc(Sr(i.eb,i),n)}function Jc(i){i.B&&(ct.clearTimeout(i.B),i.B=null)}function Qc(i){0==i.l.G||i.I||GE(i.l,i)}function nl(i){Jc(i);var n=i.L;n&&"function"==typeof n.na&&n.na(),i.L=null,cE(i.W),gE(i.V),i.g&&(n=i.g,i.g=null,n.abort(),n.na())}function Lm(i,n){try{var r=i.l;if(0!=r.G&&(r.g==i||Yf(r.i,i)))if(r.I=i.N,!i.J&&Yf(r.i,i)&&3==r.G){try{var a=r.Ca.g.parse(n)}catch(S){a=null}if(Array.isArray(a)&&3==a.length){var l=a;if(0==l[0])e:if(r.u)r.ta=l[1],0<r.ta-r.U&&37500>l[2]&&r.N&&0==r.A&&!r.v&&(r.v=Wc(Sr(r.ab,r),6e3));else{if(r.g){if(!(r.g.F+3e3<i.F))break e;Wm(r),$m(r)}Gm(r),Gr(18)}if(1>=Vm(r.i)&&r.ka){try{r.ka()}catch(S){}r.ka=void 0}}else ul(r,11)}else if((i.J||r.g==i)&&Wm(r),!Uc(n))for(l=r.Ca.g.parse(n),n=0;n<l.length;n++){let S=l[n];if(r.U=S[0],S=S[1],2==r.G)if("c"==S[0]){r.J=S[1],r.la=S[2];const M=S[3];null!=M&&(r.ma=M,r.h.info("VER="+r.ma));const k=S[4];null!=k&&(r.za=k,r.h.info("SVER="+r.za));const z=S[5];null!=z&&"number"==typeof z&&0<z&&(r.K=a=1.5*z,r.h.info("backChannelRequestTimeoutMs_="+a)),a=r;const K=i.g;if(K){const Ce=K.g?K.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ce){var f=a.i;!f.g&&(fr(Ce,"spdy")||fr(Ce,"quic")||fr(Ce,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Bi(f,f.h),f.h=null))}if(a.D){const Re=K.g?K.g.getResponseHeader("X-HTTP-Session-Id"):null;Re&&(a.sa=Re,ln(a.F,a.D,Re))}}r.G=3,r.j&&r.j.xa(),r.$&&(r.O=Date.now()-i.F,r.h.info("Handshake RTT: "+r.O+"ms"));var _=i;if((a=r).oa=KE(a,a.H?a.la:null,a.W),_.J){PE(a.i,_);var w=_,T=a.K;T&&w.setTimeout(T),w.B&&(Jc(w),Yc(w)),a.g=_}else $E(a);0<r.l.length&&qm(r)}else"stop"!=S[0]&&"close"!=S[0]||ul(r,7);else 3==r.G&&("stop"==S[0]||"close"==S[0]?"stop"==S[0]?ul(r,7):Zm(r):"noop"!=S[0]&&r.j&&r.j.wa(S),r.A=0)}Vf(4)}catch(S){}}function Zf(i,n){if(i.forEach&&"function"==typeof i.forEach)i.forEach(n,void 0);else if(Ev(i)||"string"==typeof i)Tv(i,n,void 0);else{if(i.T&&"function"==typeof i.T)var r=i.T();else if(i.R&&"function"==typeof i.R)r=void 0;else if(Ev(i)||"string"==typeof i){r=[];for(var a=i.length,l=0;l<a;l++)r.push(l)}else for(l in r=[],a=0,i)r[a++]=l;l=(a=function(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(Ev(i)){for(var n=[],r=i.length,a=0;a<r;a++)n.push(i[a]);return n}for(a in n=[],r=0,i)n[r++]=i[a];return n}(i)).length;for(var f=0;f<l;f++)n.call(void 0,a[f],r&&r[f],i)}}function rl(i,n){this.h={},this.g=[],this.i=0;var r=arguments.length;if(1<r){if(r%2)throw Error("Uneven number of arguments");for(var a=0;a<r;a+=2)this.set(arguments[a],arguments[a+1])}else if(i)if(i instanceof rl)for(r=i.T(),a=0;a<r.length;a++)this.set(r[a],i.get(r[a]));else for(a in i)this.set(a,i[a])}function jv(i){if(i.i!=i.g.length){for(var n=0,r=0;n<i.g.length;){var a=i.g[n];il(i.h,a)&&(i.g[r++]=a),n++}i.g.length=r}if(i.i!=i.g.length){var l={};for(r=n=0;n<i.g.length;)il(l,a=i.g[n])||(i.g[r++]=a,l[a]=1),n++;i.g.length=r}}function il(i,n){return Object.prototype.hasOwnProperty.call(i,n)}($e=tl.prototype).setTimeout=function(i){this.P=i},$e.gb=function(i){i=i.target;const n=this.L;n&&3==Ys(i)?n.l():this.Ia(i)},$e.Ia=function(i){try{if(i==this.g)e:{const M=Ys(this.g);var n=this.g.Da();const k=this.g.ba();if(!(3>M)&&(3!=M||Nf||this.g&&(this.h.h||this.g.ga()||Yv(this.g)))){this.I||4!=M||7==n||Vf(8==n||0>=k?3:2),Jc(this);var r=this.g.ba();this.N=r;t:if(EE(this)){var a=Yv(this.g);i="";var l=a.length,f=4==Ys(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){nl(this),Qc(this);var _="";break t}this.h.i=new ct.TextDecoder}for(n=0;n<l;n++)this.h.h=!0,i+=this.h.i.decode(a[n],{stream:f&&n==l-1});a.splice(0,l),this.h.g+=i,this.C=0,_=this.h.g}else _=this.g.ga();if(this.i=200==r,function(i,n,r,a,l,f,_){i.info(function(){return"XMLHTTP RESP ("+a+") [ attempt "+l+"]: "+n+"\n"+r+"\n"+f+" "+_})}(this.j,this.u,this.A,this.m,this.X,M,r),this.i){if(this.$&&!this.J){t:{if(this.g){var w,T=this.g;if((w=T.g?T.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Uc(w)){var S=w;break t}}S=null}if(!(r=S)){this.i=!1,this.o=3,Gr(12),nl(this),Qc(this);break e}Bo(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Lm(this,r)}this.U?(Uv(this,M,_),Nf&&this.i&&3==M&&(Xu(this.V,this.W,"tick",this.fb),this.W.start())):(Bo(this.j,this.m,_,null),Lm(this,_)),4==M&&nl(this),this.i&&!this.I&&(4==M?GE(this.l,this):(this.i=!1,Yc(this)))}else 400==r&&0<_.indexOf("Unknown SID")?(this.o=3,Gr(12)):(this.o=0,Gr(13)),nl(this),Qc(this)}}}catch(M){}},$e.fb=function(){if(this.g){var i=Ys(this.g),n=this.g.ga();this.C<n.length&&(Jc(this),Uv(this,i,n),this.i&&4!=i&&Yc(this))}},$e.cancel=function(){this.I=!0,nl(this)},$e.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function(i,n){i.info(function(){return"TIMEOUT: "+n})}(this.j,this.A),2!=this.K&&(Vf(3),Gr(17)),nl(this),this.o=2,Qc(this)):Fm(this,this.Y-i)},($e=rl.prototype).R=function(){jv(this);for(var i=[],n=0;n<this.g.length;n++)i.push(this.h[this.g[n]]);return i},$e.T=function(){return jv(this),this.g.concat()},$e.get=function(i,n){return il(this.h,i)?this.h[i]:n},$e.set=function(i,n){il(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=n},$e.forEach=function(i,n){for(var r=this.T(),a=0;a<r.length;a++){var l=r[a],f=this.get(l);i.call(n,f,l,this)}};var TE=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ho(i,n){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof Ho){this.g=void 0!==n?n:i.g,$f(this,i.j),this.s=i.s,qf(this,i.i),Gf(this,i.m),this.l=i.l,n=i.h;var r=new Xc;r.i=n.i,n.g&&(r.g=new rl(n.g),r.h=n.h),Hv(this,r),this.o=i.o}else i&&(r=String(i).match(TE))?(this.g=!!n,$f(this,r[1]||"",!0),this.s=Wf(r[2]||""),qf(this,r[3]||"",!0),Gf(this,r[4]),this.l=Wf(r[5]||"",!0),Hv(this,r[6]||"",!0),this.o=Wf(r[7]||"")):(this.g=!!n,this.h=new Xc(null,this.g))}function Ks(i){return new Ho(i)}function $f(i,n,r){i.j=r?Wf(n,!0):n,i.j&&(i.j=i.j.replace(/:$/,""))}function qf(i,n,r){i.i=r?Wf(n,!0):n}function Gf(i,n){if(n){if(n=Number(n),isNaN(n)||0>n)throw Error("Bad port number "+n);i.m=n}else i.m=null}function Hv(i,n,r){n instanceof Xc?(i.h=n,function(i,n){n&&!i.j&&(Ma(i),i.i=null,i.g.forEach(function(r,a){var l=a.toLowerCase();a!=l&&(Zv(this,a),sl(this,l,r))},i)),i.j=n}(i.h,i.g)):(r||(n=Kf(n,$A)),i.h=new Xc(n,i.g))}function ln(i,n,r){i.h.set(n,r)}function zf(i){return ln(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Wf(i,n){return i?n?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Kf(i,n,r){return"string"==typeof i?(i=encodeURI(i).replace(n,xE),r&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function xE(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Ho.prototype.toString=function(){var i=[],n=this.j;n&&i.push(Kf(n,SE,!0),":");var r=this.i;return(r||"file"==n)&&(i.push("//"),(n=this.s)&&i.push(Kf(n,SE,!0),"@"),i.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&i.push(":",String(r))),(r=this.l)&&(this.i&&"/"!=r.charAt(0)&&i.push("/"),i.push(Kf(r,"/"==r.charAt(0)?ME:Gn,!0))),(r=this.h.toString())&&i.push("?",r),(r=this.o)&&i.push("#",Kf(r,qA)),i.join("")};var SE=/[#\/\?@]/g,Gn=/[#\?:]/g,ME=/[#\?]/g,$A=/[#\?@]/g,qA=/#/g;function Xc(i,n){this.h=this.g=null,this.i=i||null,this.j=!!n}function Ma(i){i.g||(i.g=new rl,i.h=0,i.i&&function(i,n){if(i){i=i.split("&");for(var r=0;r<i.length;r++){var a=i[r].indexOf("="),l=null;if(0<=a){var f=i[r].substring(0,a);l=i[r].substring(a+1)}else f=i[r];n(f,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(n,r){i.add(decodeURIComponent(n.replace(/\+/g," ")),r)}))}function Zv(i,n){Ma(i),n=ed(i,n),il(i.g.h,n)&&(i.i=null,i.h-=i.g.get(n).length,il((i=i.g).h,n)&&(delete i.h[n],i.i--,i.g.length>2*i.i&&jv(i)))}function $v(i,n){return Ma(i),n=ed(i,n),il(i.g.h,n)}function sl(i,n,r){Zv(i,n),0<r.length&&(i.i=null,i.g.set(ed(i,n),bm(r)),i.h+=r.length)}function ed(i,n){return n=String(n),i.j&&(n=n.toLowerCase()),n}function OE(i){this.l=i||RE,i=ct.PerformanceNavigationTiming?0<(i=ct.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(ct.g&&ct.g.Ea&&ct.g.Ea()&&ct.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}($e=Xc.prototype).add=function(i,n){Ma(this),this.i=null,i=ed(this,i);var r=this.g.get(i);return r||this.g.set(i,r=[]),r.push(n),this.h+=1,this},$e.forEach=function(i,n){Ma(this),this.g.forEach(function(r,a){Tv(r,function(l){i.call(n,l,a,this)},this)},this)},$e.T=function(){Ma(this);for(var i=this.g.R(),n=this.g.T(),r=[],a=0;a<n.length;a++)for(var l=i[a],f=0;f<l.length;f++)r.push(n[a]);return r},$e.R=function(i){Ma(this);var n=[];if("string"==typeof i)$v(this,i)&&(n=OA(n,this.g.get(ed(this,i))));else{i=this.g.R();for(var r=0;r<i.length;r++)n=OA(n,i[r])}return n},$e.set=function(i,n){return Ma(this),this.i=null,$v(this,i=ed(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[n]),this.h+=1,this},$e.get=function(i,n){return i&&0<(i=this.R(i)).length?String(i[0]):n},$e.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],n=this.g.T(),r=0;r<n.length;r++){var a=n[r],l=encodeURIComponent(String(a));a=this.R(a);for(var f=0;f<a.length;f++){var _=l;""!==a[f]&&(_+="="+encodeURIComponent(String(a[f]))),i.push(_)}}return this.i=i.join("&")};var RE=10;function zA(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Vm(i){return i.h?1:i.g?i.g.size:0}function Yf(i,n){return i.h?i.h==n:!!i.g&&i.g.has(n)}function Bi(i,n){i.g?i.g.add(n):i.h=n}function PE(i,n){i.h&&i.h==n?i.h=null:i.g&&i.g.has(n)&&i.g.delete(n)}function qv(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let n=i.i;for(const r of i.g.values())n=n.concat(r.D);return n}return bm(i.i)}function ji(){}function cs(){this.g=new ji}function ds(i,n,r){const a=r||"";try{Zf(i,function(l,f){let _=l;Cm(l)&&(_=Rv(l)),n.push(a+f+"="+encodeURIComponent(_))})}catch(l){throw n.push(a+"type="+encodeURIComponent("_badmap")),l}}function Jf(i,n,r,a,l){try{n.onload=null,n.onerror=null,n.onabort=null,n.ontimeout=null,l(a)}catch(f){}}function Qf(i){this.l=i.$b||null,this.j=i.ib||!1}function Um(i,n){tr.call(this),this.D=i,this.u=n,this.m=void 0,this.readyState=Gv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}OE.prototype.cancel=function(){if(this.i=qv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},ji.prototype.stringify=function(i){return ct.JSON.stringify(i,void 0)},ji.prototype.parse=function(i){return ct.JSON.parse(i,void 0)},Mr(Qf,Uf),Qf.prototype.g=function(){return new Um(this.l,this.j)},Qf.prototype.i=function(i){return function(){return i}}({}),Mr(Um,tr);var Gv=0;function FE(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function ol(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Zo(i)}function Zo(i){i.onreadystatechange&&i.onreadystatechange.call(i)}($e=Um.prototype).open=function(i,n){if(this.readyState!=Gv)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=n,this.readyState=1,Zo(this)},$e.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const n={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(n.body=i),(this.D||ct).fetch(new Request(this.B,n)).then(this.Va.bind(this),this.ha.bind(this))},$e.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ol(this)),this.readyState=Gv},$e.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Zo(this)),this.g&&(this.readyState=3,Zo(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==ct.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;FE(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},$e.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var n=i.value?i.value:new Uint8Array(0);(n=this.A.decode(n,{stream:!i.done}))&&(this.response=this.responseText+=n)}i.done?ol(this):Zo(this),3==this.readyState&&FE(this)}},$e.Ua=function(i){this.g&&(this.response=this.responseText=i,ol(this))},$e.Ta=function(i){this.g&&(this.response=i,ol(this))},$e.ha=function(){this.g&&ol(this)},$e.setRequestHeader=function(i,n){this.v.append(i,n)},$e.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},$e.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],n=this.h.entries();for(var r=n.next();!r.done;)i.push((r=r.value)[0]+": "+r[1]),r=n.next();return i.join("\r\n")},Object.defineProperty(Um.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var WA=ct.JSON.parse;function On(i){tr.call(this),this.headers=new rl,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=LE,this.K=this.L=!1}Mr(On,tr);var LE="",VE=/^https?$/i,UE=["POST","PUT"];function KA(i){return"content-type"==i.toLowerCase()}function zv(i,n){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=n,i.m=5,Wv(i),al(i)}function Wv(i){i.D||(i.D=!0,gr(i,"complete"),gr(i,"error"))}function jm(i){if(i.h&&void 0!==Kw&&(!i.C[1]||4!=Ys(i)||2!=i.ba()))if(i.v&&4==Ys(i))dE(i.Fa,0,i);else if(gr(i,"readystatechange"),4==Ys(i)){i.h=!1;try{const w=i.ba();e:switch(w){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var a;if(a=0===w){var l=String(i.H).match(TE)[1]||null;if(!l&&ct.self&&ct.self.location){var f=ct.self.location.protocol;l=f.substr(0,f.length-1)}a=!VE.test(l?l.toLowerCase():"")}r=a}if(r)gr(i,"complete"),gr(i,"success");else{i.m=6;try{var _=2<Ys(i)?i.g.statusText:""}catch(T){_=""}i.j=_+" ["+i.ba()+"]",Wv(i)}}finally{al(i)}}}function al(i,n){if(i.g){Kv(i);const r=i.g,a=i.C[0]?vm:null;i.g=null,i.C=null,n||gr(i,"ready");try{r.onreadystatechange=a}catch(l){}}}function Kv(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(ct.clearTimeout(i.A),i.A=null)}function Ys(i){return i.g?i.g.readyState:0}function Yv(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case LE:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(n){return null}}function Hm(i,n,r){e:{for(a in r){var a=!1;break e}a=!0}a||(r=function(i){let n="";return Av(i,function(r,a){n+=a,n+=":",n+=r,n+="\r\n"}),n}(r),"string"==typeof i?null!=r&&encodeURIComponent(String(r)):ln(i,n,r))}function td(i,n,r){return r&&r.internalChannelParams&&r.internalChannelParams[i]||n}function Jv(i){this.za=0,this.l=[],this.h=new Lf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=td("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=td("baseRetryDelayMs",5e3,i),this.$a=td("retryDelaySeedMs",1e4,i),this.Ya=td("forwardChannelMaxRetries",2,i),this.ra=td("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new OE(i&&i.concurrentRequestLimit),this.Ca=new cs,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function Zm(i){if(jE(i),3==i.G){var n=i.V++,r=Ks(i.F);ln(r,"SID",i.J),ln(r,"RID",n),ln(r,"TYPE","terminate"),Xf(i,r),(n=new tl(i,i.h,n,void 0)).K=2,n.v=zf(Ks(r)),r=!1,ct.navigator&&ct.navigator.sendBeacon&&(r=ct.navigator.sendBeacon(n.v.toString(),"")),!r&&ct.Image&&((new Image).src=n.v,r=!0),r||(n.g=Xv(n.l,null),n.g.ea(n.v)),n.F=Date.now(),Yc(n)}WE(i)}function $m(i){i.g&&(zm(i),i.g.cancel(),i.g=null)}function jE(i){$m(i),i.u&&(ct.clearTimeout(i.u),i.u=null),Wm(i),i.i.cancel(),i.m&&("number"==typeof i.m&&ct.clearTimeout(i.m),i.m=null)}function Qv(i,n){i.l.push(new class{constructor(i,n){this.h=i,this.g=n}}(i.Za++,n)),3==i.G&&qm(i)}function qm(i){zA(i.i)||i.m||(i.m=!0,lE(i.Ha,i),i.C=0)}function HE(i,n){var r;r=n?n.m:i.V++;const a=Ks(i.F);ln(a,"SID",i.J),ln(a,"RID",r),ln(a,"AID",i.U),Xf(i,a),i.o&&i.s&&Hm(a,i.o,i.s),r=new tl(i,i.h,r,i.C+1),null===i.o&&(r.H=i.s),n&&(i.l=n.D.concat(i.l)),n=ZE(i,r,1e3),r.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),Bi(i.i,r),Hf(r,a,n)}function Xf(i,n){i.j&&Zf({},function(r,a){ln(n,a,r)})}function ZE(i,n,r){r=Math.min(i.l.length,r);var a=i.j?Sr(i.j.Oa,i.j,i):null;e:{var l=i.l;let f=-1;for(;;){const _=["count="+r];-1==f?0<r?(f=l[0].h,_.push("ofs="+f)):f=0:_.push("ofs="+f);let w=!0;for(let T=0;T<r;T++){let S=l[T].h;const M=l[T].g;if(S-=f,0>S)f=Math.max(0,l[T].h-100),w=!1;else try{ds(M,_,"req"+S+"_")}catch(k){a&&a(M)}}if(w){a=_.join("&");break e}}}return i=i.l.splice(0,r),n.D=i,a}function $E(i){i.g||i.u||(i.Y=1,lE(i.Ga,i),i.A=0)}function Gm(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=Wc(Sr(i.Ga,i),zE(i,i.A)),i.A++,0))}function zm(i){null!=i.B&&(ct.clearTimeout(i.B),i.B=null)}function qE(i){i.g=new tl(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var n=Ks(i.oa);ln(n,"RID","rpc"),ln(n,"SID",i.J),ln(n,"CI",i.N?"0":"1"),ln(n,"AID",i.U),Xf(i,n),ln(n,"TYPE","xmlhttp"),i.o&&i.s&&Hm(n,i.o,i.s),i.K&&i.g.setTimeout(i.K);var r=i.g;i=i.la,r.K=1,r.v=zf(Ks(n)),r.s=null,r.U=!0,km(r,i)}function Wm(i){null!=i.v&&(ct.clearTimeout(i.v),i.v=null)}function GE(i,n){var r=null;if(i.g==n){Wm(i),zm(i),i.g=null;var a=2}else{if(!Yf(i.i,n))return;r=n.D,PE(i.i,n),a=1}if(i.I=n.N,0!=i.G)if(n.i)if(1==a){r=n.s?n.s.length:0,n=Date.now()-n.F;var l=i.C;gr(a=Nm(),new Lv(a,r,n,l)),qm(i)}else $E(i);else if(3==(l=n.o)||0==l&&0<i.I||!(1==a&&function(i,n){return!(Vm(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=n.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=Wc(Sr(i.Ha,i,n),zE(i,i.C)),i.C++,0)))}(i,n)||2==a&&Gm(i)))switch(r&&0<r.length&&(n=i.i,n.i=n.i.concat(r)),l){case 1:ul(i,5);break;case 4:ul(i,10);break;case 3:ul(i,6);break;default:ul(i,2)}}function zE(i,n){let r=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(r*=2),r*n}function ul(i,n){if(i.h.info("Error code "+n),2==n){var r=null;i.j&&(r=null);var a=Sr(i.jb,i);r||(r=new Ho("//www.google.com/images/cleardot.gif"),ct.location&&"http"==ct.location.protocol||$f(r,"https"),zf(r)),function(i,n){const r=new Lf;if(ct.Image){const a=new Image;a.onload=oi(Jf,r,a,"TestLoadImage: loaded",!0,n),a.onerror=oi(Jf,r,a,"TestLoadImage: error",!1,n),a.onabort=oi(Jf,r,a,"TestLoadImage: abort",!1,n),a.ontimeout=oi(Jf,r,a,"TestLoadImage: timeout",!1,n),ct.setTimeout(function(){a.ontimeout&&a.ontimeout()},1e4),a.src=i}else n(!1)}(r.toString(),a)}else Gr(2);i.G=0,i.j&&i.j.va(n),WE(i),jE(i)}function WE(i){i.G=0,i.I=-1,i.j&&((0!=qv(i.i).length||0!=i.l.length)&&(i.i.i.length=0,bm(i.l),i.l.length=0),i.j.ua())}function KE(i,n,r){let a=function(i){return i instanceof Ho?Ks(i):new Ho(i,void 0)}(r);if(""!=a.i)n&&qf(a,n+"."+a.i),Gf(a,a.m);else{const l=ct.location;a=function(i,n,r,a){var l=new Ho(null,void 0);return i&&$f(l,i),n&&qf(l,n),r&&Gf(l,r),a&&(l.l=a),l}(l.protocol,n?n+"."+l.hostname:l.hostname,+l.port,r)}return i.aa&&Av(i.aa,function(l,f){ln(a,f,l)}),r=i.sa,(n=i.D)&&r&&ln(a,n,r),ln(a,"VER",i.ma),Xf(i,a),a}function Xv(i,n,r){if(n&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(n=new On(r&&i.Ba&&!i.qa?new Qf({ib:!0}):i.qa)).L=i.H,n}function e0(){}function ep(){if(Bc&&!(10<=Number($c)))throw Error("Environmental error: no available transport.")}function ui(i,n){tr.call(this),this.g=new Jv(n),this.l=i,this.h=n&&n.messageUrlParams||null,i=n&&n.messageHeaders||null,n&&n.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=n&&n.initMessageHeaders||null,n&&n.messageContentType&&(i?i["X-WebChannel-Content-Type"]=n.messageContentType:i={"X-WebChannel-Content-Type":n.messageContentType}),n&&n.ya&&(i?i["X-WebChannel-Client-Profile"]=n.ya:i={"X-WebChannel-Client-Profile":n.ya}),this.g.P=i,(i=n&&n.httpHeadersOverwriteParam)&&!Uc(i)&&(this.g.o=i),this.A=n&&n.supportsCrossDomainXhr||!1,this.v=n&&n.sendRawJson||!1,(n=n&&n.httpSessionIdParam)&&!Uc(n)&&(this.g.D=n,null!==(i=this.h)&&n in i&&n in(i=this.h)&&delete i[n]),this.j=new ll(this)}function t0(i){Vv.call(this);var n=i.__sm__;if(n){e:{for(const r in n){i=r;break e}i=void 0}(this.i=i)&&(i=this.i,n=null!==n&&i in n?n[i]:void 0),this.data=n}else this.data=i}function n0(){Bf.call(this),this.status=1}function ll(i){this.g=i}($e=On.prototype).ea=function(i,n,r,a){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);n=n?n.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():jf.g(),this.C=function(i){return i.h||(i.h=i.i())}(this.u?this.u:jf),this.g.onreadystatechange=Sr(this.Fa,this);try{this.F=!0,this.g.open(n,String(i),!0),this.F=!1}catch(f){return void zv(this,f)}i=r||"";const l=new rl(this.headers);a&&Zf(a,function(f,_){l.set(_,f)}),a=function(i){e:{var n=KA;const r=i.length,a="string"==typeof i?i.split(""):i;for(let l=0;l<r;l++)if(l in a&&n.call(void 0,a[l],l,i)){n=l;break e}n=-1}return 0>n?null:"string"==typeof i?i.charAt(n):i[n]}(l.T()),r=ct.FormData&&i instanceof ct.FormData,!(0<=Iv(UE,n))||a||r||l.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),l.forEach(function(f,_){this.g.setRequestHeader(_,f)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Kv(this),0<this.B&&((this.K=function(i){return Bc&&Zc()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Sr(this.pa,this)):this.A=dE(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(f){zv(this,f)}},$e.pa=function(){void 0!==Kw&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,gr(this,"timeout"),this.abort(8))},$e.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,gr(this,"complete"),gr(this,"abort"),al(this))},$e.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),al(this,!0)),On.Z.M.call(this)},$e.Fa=function(){this.s||(this.F||this.v||this.l?jm(this):this.cb())},$e.cb=function(){jm(this)},$e.ba=function(){try{return 2<Ys(this)?this.g.status:-1}catch(i){return-1}},$e.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},$e.Qa=function(i){if(this.g){var n=this.g.responseText;return i&&0==n.indexOf(i)&&(n=n.substring(i.length)),WA(n)}},$e.Da=function(){return this.m},$e.La=function(){return"string"==typeof this.j?this.j:String(this.j)},($e=Jv.prototype).ma=8,$e.G=1,$e.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(n){}},$e.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const l=new tl(this,this.h,i,void 0);let f=this.s;if(this.P&&(f?(f=nE(f),Ju(f,this.P)):f=this.P),null===this.o&&(l.H=f),this.ja)e:{for(var n=0,r=0;r<this.l.length;r++){var a=this.l[r];if(void 0===(a="__data__"in a.g&&"string"==typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(n+=a)){n=r;break e}if(4096===n||r===this.l.length-1){n=r+1;break e}}n=1e3}else n=1e3;n=ZE(this,l,n),ln(r=Ks(this.F),"RID",i),ln(r,"CVER",22),this.D&&ln(r,"X-HTTP-Session-Id",this.D),Xf(this,r),this.o&&f&&Hm(r,this.o,f),Bi(this.i,l),this.Ra&&ln(r,"TYPE","init"),this.ja?(ln(r,"$req",n),ln(r,"SID","null"),l.$=!0,Hf(l,r,null)):Hf(l,r,n),this.G=2}}else 3==this.G&&(i?HE(this,i):0==this.l.length||zA(this.i)||HE(this))},$e.Ga=function(){if(this.u=null,qE(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=Wc(Sr(this.bb,this),i)}},$e.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Gr(10),$m(this),qE(this))},$e.ab=function(){null!=this.v&&(this.v=null,$m(this),Gm(this),Gr(19))},$e.jb=function(i){i?(this.h.info("Successfully pinged google.com"),Gr(2)):(this.h.info("Failed to ping google.com"),Gr(1))},($e=e0.prototype).xa=function(){},$e.wa=function(){},$e.va=function(){},$e.ua=function(){},$e.Oa=function(){},ep.prototype.g=function(i,n){return new ui(i,n)},Mr(ui,tr),ui.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,n=this.l,r=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),lE(Sr(i.hb,i,n))),Gr(0),i.W=n,i.aa=r||{},i.N=i.X,i.F=KE(i,null,i.W),qm(i)},ui.prototype.close=function(){Zm(this.g)},ui.prototype.u=function(i){if("string"==typeof i){var n={};n.__data__=i,Qv(this.g,n)}else this.v?((n={}).__data__=Rv(i),Qv(this.g,n)):Qv(this.g,i)},ui.prototype.M=function(){this.g.j=null,delete this.j,Zm(this.g),delete this.g,ui.Z.M.call(this)},Mr(t0,Vv),Mr(n0,Bf),Mr(ll,e0),ll.prototype.xa=function(){gr(this.g,"a")},ll.prototype.wa=function(i){gr(this.g,new t0(i))},ll.prototype.va=function(i){gr(this.g,new n0(i))},ll.prototype.ua=function(){gr(this.g,"b")},ep.prototype.createWebChannel=ep.prototype.g,ui.prototype.send=ui.prototype.u,ui.prototype.open=ui.prototype.m,ui.prototype.close=ui.prototype.close,Kc.NO_ERROR=0,Kc.TIMEOUT=8,Kc.HTTP_ERROR=6,HA.COMPLETE="complete",ZA.EventType=jo,jo.OPEN="a",jo.CLOSE="b",jo.ERROR="c",jo.MESSAGE="d",tr.prototype.listen=tr.prototype.N,On.prototype.listenOnce=On.prototype.O,On.prototype.getLastError=On.prototype.La,On.prototype.getLastErrorCode=On.prototype.Da,On.prototype.getStatus=On.prototype.ba,On.prototype.getResponseJson=On.prototype.Qa,On.prototype.getResponseText=On.prototype.ga,On.prototype.send=On.prototype.ea;var YE=Uo.createWebChannelTransport=function(){return new ep},JE=Uo.getStatEventTarget=function(){return Nm()},tp=Uo.ErrorCode=Kc,r0=Uo.EventType=HA,cl=Uo.Event=el,QE=Uo.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},JA=Uo.FetchXmlHttpFactory=Qf,$o=Uo.WebChannel=ZA,IS=Uo.XhrIo=On;class zn{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}zn.UNAUTHENTICATED=new zn(null),zn.GOOGLE_CREDENTIALS=new zn("google-credentials-uid"),zn.FIRST_PARTY=new zn("first-party-uid"),zn.MOCK_USER=new zn("mock-user");let np="9.1.0";const qo=new Ku.Yd("@firebase/firestore");function Km(){return qo.logLevel}function de(i,...n){if(qo.logLevel<=Ku.in.DEBUG){const r=n.map(s0);qo.debug(`Firestore (${np}): ${i}`,...r)}}function Fn(i,...n){if(qo.logLevel<=Ku.in.ERROR){const r=n.map(s0);qo.error(`Firestore (${np}): ${i}`,...r)}}function rp(i,...n){if(qo.logLevel<=Ku.in.WARN){const r=n.map(s0);qo.warn(`Firestore (${np}): ${i}`,...r)}}function s0(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(r){return i}}function ze(i="Unexpected state"){const n=`FIRESTORE (${np}) INTERNAL ASSERTION FAILED: `+i;throw Fn(n),new Error(n)}function ot(i,n){i||ze()}function ke(i,n){return i}const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends Error{constructor(n,r){super(r),this.code=n,this.message=r,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Wn{constructor(){this.promise=new Promise((n,r)=>{this.resolve=n,this.reject=r})}}class Jm{constructor(n,r){this.user=r,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${n}`}}class QA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,r){n.enqueueRetryable(()=>r(zn.UNAUTHENTICATED))}shutdown(){}}class XE{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,r){this.changeListener=r,n.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class eI{constructor(n){this.t=n,this.currentUser=zn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,r){var a=this;let l=this.i;const f=S=>this.i!==l?(l=this.i,r(S)):Promise.resolve();let _=new Wn;this.o=()=>{this.i++,this.currentUser=this.u(),_.resolve(),_=new Wn,n.enqueueRetryable(()=>f(this.currentUser))};const w=()=>{const S=_;n.enqueueRetryable((0,ve.Z)(function*(){yield S.promise,yield f(a.currentUser)}))},T=S=>{de("FirebaseCredentialsProvider","Auth detected"),this.auth=S,this.auth.addAuthTokenListener(this.o),w()};this.t.onInit(S=>T(S)),setTimeout(()=>{if(!this.auth){const S=this.t.getImmediate({optional:!0});S?T(S):(de("FirebaseCredentialsProvider","Auth not yet detected"),_.resolve(),_=new Wn)}},0),w()}getToken(){const n=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(a=>this.i!==n?(de("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ot("string"==typeof a.accessToken),new Jm(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const n=this.auth&&this.auth.getUid();return ot(null===n||"string"==typeof n),new zn(n)}}class tI{constructor(n,r,a){this.h=n,this.l=r,this.m=a,this.type="FirstParty",this.user=zn.FIRST_PARTY}get authHeaders(){const n={"X-Goog-AuthUser":this.l},r=this.h.auth.getAuthHeaderValueForFirstParty([]);return r&&(n.Authorization=r),this.m&&(n["X-Goog-Iam-Authorization-Token"]=this.m),n}}class nI{constructor(n,r,a){this.h=n,this.l=r,this.m=a}getToken(){return Promise.resolve(new tI(this.h,this.l,this.m))}start(n,r){n.enqueueRetryable(()=>r(zn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ti{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=a=>this.g(a),this.p=a=>r.writeSequenceNumber(a))}g(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.p&&this.p(n),n}}function XA(i){const n="undefined"!=typeof self&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(r);else for(let a=0;a<i;a++)r[a]=Math.floor(256*Math.random());return r}Ti.T=-1;class rI{static I(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/n.length)*n.length;let a="";for(;a.length<20;){const l=XA(40);for(let f=0;f<l.length;++f)a.length<20&&l[f]<r&&(a+=n.charAt(l[f]%n.length))}return a}}function vt(i,n){return i<n?-1:i>n?1:0}function nd(i,n,r){return i.length===n.length&&i.every((a,l)=>r(a,n[l]))}function iI(i){return i+"\0"}class nr{constructor(n,r){if(this.seconds=n,this.nanoseconds=r,r<0)throw new Ae(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ae(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(n<-62135596800)throw new Ae(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new Ae(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}static now(){return nr.fromMillis(Date.now())}static fromDate(n){return nr.fromMillis(n.getTime())}static fromMillis(n){const r=Math.floor(n/1e3),a=Math.floor(1e6*(n-1e3*r));return new nr(r,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?vt(this.nanoseconds,n.nanoseconds):vt(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ht{constructor(n){this.timestamp=n}static fromTimestamp(n){return new ht(n)}static min(){return new ht(new nr(0,0))}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function o0(i){let n=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&n++;return n}function Na(i,n){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&n(r,i[r])}function a0(i){for(const n in i)if(Object.prototype.hasOwnProperty.call(i,n))return!1;return!0}class ip{constructor(n,r,a){void 0===r?r=0:r>n.length&&ze(),void 0===a?a=n.length-r:a>n.length-r&&ze(),this.segments=n,this.offset=r,this.len=a}get length(){return this.len}isEqual(n){return 0===ip.comparator(this,n)}child(n){const r=this.segments.slice(this.offset,this.limit());return n instanceof ip?n.forEach(a=>{r.push(a)}):r.push(n),this.construct(r)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==n.get(r))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==n.get(r))return!1;return!0}forEach(n){for(let r=this.offset,a=this.limit();r<a;r++)n(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,r){const a=Math.min(n.length,r.length);for(let l=0;l<a;l++){const f=n.get(l),_=r.get(l);if(f<_)return-1;if(f>_)return 1}return n.length<r.length?-1:n.length>r.length?1:0}}class xt extends ip{construct(n,r,a){return new xt(n,r,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...n){const r=[];for(const a of n){if(a.indexOf("//")>=0)throw new Ae(te.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);r.push(...a.split("/").filter(l=>l.length>0))}return new xt(r)}static emptyPath(){return new xt([])}}const sp=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mr extends ip{construct(n,r,a){return new mr(n,r,a)}static isValidIdentifier(n){return sp.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mr.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new mr(["__name__"])}static fromServerFormat(n){const r=[];let a="",l=0;const f=()=>{if(0===a.length)throw new Ae(te.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(a),a=""};let _=!1;for(;l<n.length;){const w=n[l];if("\\"===w){if(l+1===n.length)throw new Ae(te.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const T=n[l+1];if("\\"!==T&&"."!==T&&"`"!==T)throw new Ae(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);a+=T,l+=2}else"`"===w?(_=!_,l++):"."!==w||_?(a+=w,l++):(f(),l++)}if(f(),_)throw new Ae(te.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new mr(r)}static emptyPath(){return new mr([])}}class rd{constructor(n){this.fields=n,n.sort(mr.comparator)}covers(n){for(const r of this.fields)if(r.isPrefixOf(n))return!0;return!1}isEqual(n){return nd(this.fields,n.fields,(r,a)=>r.isEqual(a))}}class Kn{constructor(n){this.binaryString=n}static fromBase64String(n){const r=atob(n);return new Kn(r)}static fromUint8Array(n){const r=function(a){let l="";for(let f=0;f<a.length;++f)l+=String.fromCharCode(a[f]);return l}(n);return new Kn(r)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return vt(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}Kn.EMPTY_BYTE_STRING=new Kn("");const sI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Go(i){if(ot(!!i),"string"==typeof i){let n=0;const r=sI.exec(i);if(ot(!!r),r[1]){let l=r[1];l=(l+"000000000").substr(0,9),n=Number(l)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:n}}return{seconds:Ln(i.seconds),nanos:Ln(i.nanos)}}function Ln(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function dl(i){return"string"==typeof i?Kn.fromBase64String(i):Kn.fromUint8Array(i)}function u0(i){var n,r;return"server_timestamp"===(null===(r=((null===(n=null==i?void 0:i.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function oI(i){const n=i.mapValue.fields.__previous_value__;return u0(n)?oI(n):n}function Qm(i){const n=Go(i.mapValue.fields.__local_write_time__.timestampValue);return new nr(n.seconds,n.nanos)}function id(i){return null==i}function l0(i){return 0===i&&1/i==-1/0}function tx(i){return"number"==typeof i&&Number.isInteger(i)&&!l0(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class Ye{constructor(n){this.path=n}static fromPath(n){return new Ye(xt.fromString(n))}static fromName(n){return new Ye(xt.fromString(n).popFirst(5))}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}isEqual(n){return null!==n&&0===xt.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,r){return xt.comparator(n.path,r.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new Ye(new xt(n.slice()))}}function Js(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?u0(i)?4:10:ze()}function Qs(i,n){const r=Js(i);if(r!==Js(n))return!1;switch(r){case 0:return!0;case 1:return i.booleanValue===n.booleanValue;case 4:return Qm(i).isEqual(Qm(n));case 3:return function(a,l){if("string"==typeof a.timestampValue&&"string"==typeof l.timestampValue&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const f=Go(a.timestampValue),_=Go(l.timestampValue);return f.seconds===_.seconds&&f.nanos===_.nanos}(i,n);case 5:return i.stringValue===n.stringValue;case 6:return l=n,dl(i.bytesValue).isEqual(dl(l.bytesValue));case 7:return i.referenceValue===n.referenceValue;case 8:return function(a,l){return Ln(a.geoPointValue.latitude)===Ln(l.geoPointValue.latitude)&&Ln(a.geoPointValue.longitude)===Ln(l.geoPointValue.longitude)}(i,n);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Ln(a.integerValue)===Ln(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const f=Ln(a.doubleValue),_=Ln(l.doubleValue);return f===_?l0(f)===l0(_):isNaN(f)&&isNaN(_)}return!1}(i,n);case 9:return nd(i.arrayValue.values||[],n.arrayValue.values||[],Qs);case 10:return function(a,l){const f=a.mapValue.fields||{},_=l.mapValue.fields||{};if(o0(f)!==o0(_))return!1;for(const w in f)if(f.hasOwnProperty(w)&&(void 0===_[w]||!Qs(f[w],_[w])))return!1;return!0}(i,n);default:return ze()}var l}function op(i,n){return void 0!==(i.values||[]).find(r=>Qs(r,n))}function hl(i,n){const r=Js(i),a=Js(n);if(r!==a)return vt(r,a);switch(r){case 0:return 0;case 1:return vt(i.booleanValue,n.booleanValue);case 2:return function(l,f){const _=Ln(l.integerValue||l.doubleValue),w=Ln(f.integerValue||f.doubleValue);return _<w?-1:_>w?1:_===w?0:isNaN(_)?isNaN(w)?0:-1:1}(i,n);case 3:return sd(i.timestampValue,n.timestampValue);case 4:return sd(Qm(i),Qm(n));case 5:return vt(i.stringValue,n.stringValue);case 6:return function(l,f){const _=dl(l),w=dl(f);return _.compareTo(w)}(i.bytesValue,n.bytesValue);case 7:return function(l,f){const _=l.split("/"),w=f.split("/");for(let T=0;T<_.length&&T<w.length;T++){const S=vt(_[T],w[T]);if(0!==S)return S}return vt(_.length,w.length)}(i.referenceValue,n.referenceValue);case 8:return function(l,f){const _=vt(Ln(l.latitude),Ln(f.latitude));return 0!==_?_:vt(Ln(l.longitude),Ln(f.longitude))}(i.geoPointValue,n.geoPointValue);case 9:return function(l,f){const _=l.values||[],w=f.values||[];for(let T=0;T<_.length&&T<w.length;++T){const S=hl(_[T],w[T]);if(S)return S}return vt(_.length,w.length)}(i.arrayValue,n.arrayValue);case 10:return function(l,f){const _=l.fields||{},w=Object.keys(_),T=f.fields||{},S=Object.keys(T);w.sort(),S.sort();for(let M=0;M<w.length&&M<S.length;++M){const k=vt(w[M],S[M]);if(0!==k)return k;const z=hl(_[w[M]],T[S[M]]);if(0!==z)return z}return vt(w.length,S.length)}(i.mapValue,n.mapValue);default:throw ze()}}function sd(i,n){if("string"==typeof i&&"string"==typeof n&&i.length===n.length)return vt(i,n);const r=Go(i),a=Go(n),l=vt(r.seconds,a.seconds);return 0!==l?l:vt(r.nanos,a.nanos)}function c0(i){return d0(i)}function d0(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(a){const l=Go(a);return`time(${l.seconds},${l.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?dl(i.bytesValue).toBase64():"referenceValue"in i?Ye.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(n=i.geoPointValue).latitude},${n.longitude})`:"arrayValue"in i?function(a){let l="[",f=!0;for(const _ of a.values||[])f?f=!1:l+=",",l+=d0(_);return l+"]"}(i.arrayValue):"mapValue"in i?function(a){const l=Object.keys(a.fields||{}).sort();let f="{",_=!0;for(const w of l)_?_=!1:f+=",",f+=`${w}:${d0(a.fields[w])}`;return f+"}"}(i.mapValue):ze();var n}function Xm(i,n){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`}}function h0(i){return!!i&&"integerValue"in i}function f0(i){return!!i&&"arrayValue"in i}function p0(i){return!!i&&"nullValue"in i}function aI(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function e_(i){return!!i&&"mapValue"in i}function Xs(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const n={mapValue:{fields:{}}};return Na(i.mapValue.fields,(r,a)=>n.mapValue.fields[r]=Xs(a)),n}if(i.arrayValue){const n={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Xs(i.arrayValue.values[r]);return n}return Object.assign({},i)}class Nr{constructor(n){this.value=n}static empty(){return new Nr({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let r=this.value;for(let a=0;a<n.length-1;++a)if(r=(r.mapValue.fields||{})[n.get(a)],!e_(r))return null;return r=(r.mapValue.fields||{})[n.lastSegment()],r||null}}set(n,r){this.getFieldsMap(n.popLast())[n.lastSegment()]=Xs(r)}setAll(n){let r=mr.emptyPath(),a={},l=[];n.forEach((_,w)=>{if(!r.isImmediateParentOf(w)){const T=this.getFieldsMap(r);this.applyChanges(T,a,l),a={},l=[],r=w.popLast()}_?a[w.lastSegment()]=Xs(_):l.push(w.lastSegment())});const f=this.getFieldsMap(r);this.applyChanges(f,a,l)}delete(n){const r=this.field(n.popLast());e_(r)&&r.mapValue.fields&&delete r.mapValue.fields[n.lastSegment()]}isEqual(n){return Qs(this.value,n.value)}getFieldsMap(n){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let a=0;a<n.length;++a){let l=r.mapValue.fields[n.get(a)];e_(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},r.mapValue.fields[n.get(a)]=l),r=l}return r.mapValue.fields}applyChanges(n,r,a){Na(r,(l,f)=>n[l]=f);for(const l of a)delete n[l]}clone(){return new Nr(Xs(this.value))}}function g0(i){const n=[];return Na(i.fields,(r,a)=>{const l=new mr([r]);if(e_(a)){const f=g0(a.mapValue).fields;if(0===f.length)n.push(l);else for(const _ of f)n.push(l.child(_))}else n.push(l)}),new rd(n)}class bn{constructor(n,r,a,l,f){this.key=n,this.documentType=r,this.version=a,this.data=l,this.documentState=f}static newInvalidDocument(n){return new bn(n,0,ht.min(),Nr.empty(),0)}static newFoundDocument(n,r,a){return new bn(n,1,r,a,0)}static newNoDocument(n,r){return new bn(n,2,r,Nr.empty(),0)}static newUnknownDocument(n,r){return new bn(n,3,r,Nr.empty(),2)}convertToFoundDocument(n,r){return this.version=n,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=Nr.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=Nr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof bn&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}clone(){return new bn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class uI{constructor(n,r=null,a=[],l=[],f=null,_=null,w=null){this.path=n,this.collectionGroup=r,this.orderBy=a,this.filters=l,this.limit=f,this.startAt=_,this.endAt=w,this.A=null}}function lI(i,n=null,r=[],a=[],l=null,f=null,_=null){return new uI(i,n,r,a,l,f,_)}function od(i){const n=ke(i);if(null===n.A){let r=n.path.canonicalString();null!==n.collectionGroup&&(r+="|cg:"+n.collectionGroup),r+="|f:",r+=n.filters.map(a=>function(i){return i.field.canonicalString()+i.op.toString()+c0(i.value)}(a)).join(","),r+="|ob:",r+=n.orderBy.map(a=>{return(l=a).field.canonicalString()+l.dir;var l}).join(","),id(n.limit)||(r+="|l:",r+=n.limit),n.startAt&&(r+="|lb:",r+=r_(n.startAt)),n.endAt&&(r+="|ub:",r+=r_(n.endAt)),n.A=r}return n.A}function ad(i,n){if(i.limit!==n.limit||i.orderBy.length!==n.orderBy.length)return!1;for(let l=0;l<i.orderBy.length;l++)if(!lx(i.orderBy[l],n.orderBy[l]))return!1;if(i.filters.length!==n.filters.length)return!1;for(let l=0;l<i.filters.length;l++)if((r=i.filters[l]).op!==(a=n.filters[l]).op||!r.field.isEqual(a.field)||!Qs(r.value,a.value))return!1;var r,a;return i.collectionGroup===n.collectionGroup&&!!i.path.isEqual(n.path)&&!!fI(i.startAt,n.startAt)&&fI(i.endAt,n.endAt)}function t_(i){return Ye.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class Or extends class{}{constructor(n,r,a){super(),this.field=n,this.op=r,this.value=a}static create(n,r,a){return n.isKeyField()?"in"===r||"not-in"===r?this.R(n,r,a):new rx(n,r,a):"array-contains"===r?new ox(n,a):"in"===r?new dI(n,a):"not-in"===r?new ax(n,a):"array-contains-any"===r?new ux(n,a):new Or(n,r,a)}static R(n,r,a){return"in"===r?new ix(n,a):new sx(n,a)}matches(n){const r=n.data.field(this.field);return"!="===this.op?null!==r&&this.P(hl(r,this.value)):null!==r&&Js(this.value)===Js(r)&&this.P(hl(r,this.value))}P(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return ze()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class rx extends Or{constructor(n,r,a){super(n,r,a),this.key=Ye.fromName(a.referenceValue)}matches(n){const r=Ye.comparator(n.key,this.key);return this.P(r)}}class ix extends Or{constructor(n,r){super(n,"in",r),this.keys=n_(0,r)}matches(n){return this.keys.some(r=>r.isEqual(n.key))}}class sx extends Or{constructor(n,r){super(n,"not-in",r),this.keys=n_(0,r)}matches(n){return!this.keys.some(r=>r.isEqual(n.key))}}function n_(i,n){var r;return((null===(r=n.arrayValue)||void 0===r?void 0:r.values)||[]).map(a=>Ye.fromName(a.referenceValue))}class ox extends Or{constructor(n,r){super(n,"array-contains",r)}matches(n){const r=n.data.field(this.field);return f0(r)&&op(r.arrayValue,this.value)}}class dI extends Or{constructor(n,r){super(n,"in",r)}matches(n){const r=n.data.field(this.field);return null!==r&&op(this.value.arrayValue,r)}}class ax extends Or{constructor(n,r){super(n,"not-in",r)}matches(n){if(op(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=n.data.field(this.field);return null!==r&&!op(this.value.arrayValue,r)}}class ux extends Or{constructor(n,r){super(n,"array-contains-any",r)}matches(n){const r=n.data.field(this.field);return!(!f0(r)||!r.arrayValue.values)&&r.arrayValue.values.some(a=>op(this.value.arrayValue,a))}}class ap{constructor(n,r){this.position=n,this.before=r}}function r_(i){return`${i.before?"b":"a"}:${i.position.map(n=>c0(n)).join(",")}`}class ud{constructor(n,r="asc"){this.field=n,this.dir=r}}function lx(i,n){return i.dir===n.dir&&i.field.isEqual(n.field)}function hI(i,n,r){let a=0;for(let l=0;l<i.position.length;l++){const f=n[l],_=i.position[l];if(a=f.field.isKeyField()?Ye.comparator(Ye.fromName(_.referenceValue),r.key):hl(_,r.data.field(f.field)),"desc"===f.dir&&(a*=-1),0!==a)break}return i.before?a<=0:a<0}function fI(i,n){if(null===i)return null===n;if(null===n||i.before!==n.before||i.position.length!==n.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!Qs(i.position[r],n.position[r]))return!1;return!0}class eo{constructor(n,r=null,a=[],l=[],f=null,_="F",w=null,T=null){this.path=n,this.collectionGroup=r,this.explicitOrderBy=a,this.filters=l,this.limit=f,this.limitType=_,this.startAt=w,this.endAt=T,this.V=null,this.S=null}}function m0(i,n,r,a,l,f,_,w){return new eo(i,n,r,a,l,f,_,w)}function ld(i){return new eo(i)}function i_(i){return!id(i.limit)&&"F"===i.limitType}function up(i){return!id(i.limit)&&"L"===i.limitType}function _0(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function y0(i){for(const n of i.filters)if(n.v())return n.field;return null}function v0(i){return null!==i.collectionGroup}function Oa(i){const n=ke(i);if(null===n.V){n.V=[];const r=y0(n),a=_0(n);if(null!==r&&null===a)r.isKeyField()||n.V.push(new ud(r)),n.V.push(new ud(mr.keyField(),"asc"));else{let l=!1;for(const f of n.explicitOrderBy)n.V.push(f),f.field.isKeyField()&&(l=!0);if(!l){const f=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";n.V.push(new ud(mr.keyField(),f))}}}return n.V}function li(i){const n=ke(i);if(!n.S)if("F"===n.limitType)n.S=lI(n.path,n.collectionGroup,Oa(n),n.filters,n.limit,n.startAt,n.endAt);else{const r=[];for(const f of Oa(n))r.push(new ud(f.field,"desc"===f.dir?"asc":"desc"));const a=n.endAt?new ap(n.endAt.position,!n.endAt.before):null,l=n.startAt?new ap(n.startAt.position,!n.startAt.before):null;n.S=lI(n.path,n.collectionGroup,r,n.filters,n.limit,a,l)}return n.S}function C0(i,n,r){return new eo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),n,r,i.startAt,i.endAt)}function fl(i,n){return ad(li(i),li(n))&&i.limitType===n.limitType}function pI(i){return`${od(li(i))}|lt:${i.limitType}`}function b0(i){return`Query(target=${function(i){let n=i.path.canonicalString();return null!==i.collectionGroup&&(n+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(n+=`, filters: [${i.filters.map(r=>{return`${(a=r).field.canonicalString()} ${a.op} ${c0(a.value)}`;var a}).join(", ")}]`),id(i.limit)||(n+=", limit: "+i.limit),i.orderBy.length>0&&(n+=`, orderBy: [${i.orderBy.map(r=>{return`${(a=r).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),i.startAt&&(n+=", startAt: "+r_(i.startAt)),i.endAt&&(n+=", endAt: "+r_(i.endAt)),`Target(${n})`}(li(i))}; limitType=${i.limitType})`}function pl(i,n){return n.isFoundDocument()&&function(r,a){const l=a.key.path;return null!==r.collectionGroup?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Ye.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(i,n)&&function(r,a){for(const l of r.explicitOrderBy)if(!l.field.isKeyField()&&null===a.data.field(l.field))return!1;return!0}(i,n)&&function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0}(i,n)&&(a=n,!((r=i).startAt&&!hI(r.startAt,Oa(r),a)||r.endAt&&hI(r.endAt,Oa(r),a)));var r,a}function gI(i){return(n,r)=>{let a=!1;for(const l of Oa(i)){const f=mI(l,n,r);if(0!==f)return f;a=a||l.field.isKeyField()}return 0}}function mI(i,n,r){const a=i.field.isKeyField()?Ye.comparator(n.key,r.key):function(l,f,_){const w=f.data.field(l),T=_.data.field(l);return null!==w&&null!==T?hl(w,T):ze()}(i.field,n,r);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return ze()}}function _I(i,n){if(i.D){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:l0(n)?"-0":n}}function w0(i){return{integerValue:""+i}}function E0(i,n){return tx(n)?w0(n):_I(i,n)}class lp{constructor(){this._=void 0}}function DS(i,n,r){return i instanceof cp?function(a,l){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&(f.fields.__previous_value__=l),{mapValue:f}}(r,n):i instanceof zo?dp(i,n):i instanceof gl?ml(i,n):function(a,l){const f=Ra(a,l),_=dx(f)+dx(a.C);return h0(f)&&h0(a.C)?w0(_):_I(a.N,_)}(i,n)}function cx(i,n,r){return i instanceof zo?dp(i,n):i instanceof gl?ml(i,n):r}function Ra(i,n){return i instanceof cd?h0(r=n)||(a=r)&&"doubleValue"in a?n:{integerValue:0}:null;var a,r}class cp extends lp{}class zo extends lp{constructor(n){super(),this.elements=n}}function dp(i,n){const r=yI(n);for(const a of i.elements)r.some(l=>Qs(l,a))||r.push(a);return{arrayValue:{values:r}}}class gl extends lp{constructor(n){super(),this.elements=n}}function ml(i,n){let r=yI(n);for(const a of i.elements)r=r.filter(l=>!Qs(l,a));return{arrayValue:{values:r}}}class cd extends lp{constructor(n,r){super(),this.N=n,this.C=r}}function dx(i){return Ln(i.integerValue||i.doubleValue)}function yI(i){return f0(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class ci{constructor(n,r){this.field=n,this.transform=r}}class AS{constructor(n,r){this.version=n,this.transformResults=r}}class En{constructor(n,r){this.updateTime=n,this.exists=r}static none(){return new En}static exists(n){return new En(void 0,n)}static updateTime(n){return new En(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function s_(i,n){return void 0!==i.updateTime?n.isFoundDocument()&&n.version.isEqual(i.updateTime):void 0===i.exists||i.exists===n.isFoundDocument()}class o_{}function xS(i,n,r){i instanceof dd?function(a,l,f){const _=a.value.clone(),w=bI(a.fieldTransforms,l,f.transformResults);_.setAll(w),l.convertToFoundDocument(f.version,_).setHasCommittedMutations()}(i,n,r):i instanceof to?function(a,l,f){if(!s_(a.precondition,l))return void l.convertToUnknownDocument(f.version);const _=bI(a.fieldTransforms,l,f.transformResults),w=l.data;w.setAll(T0(a)),w.setAll(_),l.convertToFoundDocument(f.version,w).setHasCommittedMutations()}(i,n,r):n.convertToNoDocument(r.version).setHasCommittedMutations()}function I0(i,n,r){var l;i instanceof dd?function(a,l,f){if(!s_(a.precondition,l))return;const _=a.value.clone(),w=fx(a.fieldTransforms,f,l);_.setAll(w),l.convertToFoundDocument(a_(l),_).setHasLocalMutations()}(i,n,r):i instanceof to?function(a,l,f){if(!s_(a.precondition,l))return;const _=fx(a.fieldTransforms,f,l),w=l.data;w.setAll(T0(a)),w.setAll(_),l.convertToFoundDocument(a_(l),w).setHasLocalMutations()}(i,n,r):s_(i.precondition,l=n)&&l.convertToNoDocument(ht.min())}function hx(i,n){let r=null;for(const a of i.fieldTransforms){const l=n.data.field(a.field),f=Ra(a.transform,l||null);null!=f&&(null==r&&(r=Nr.empty()),r.set(a.field,f))}return r||null}function CI(i,n){return i.type===n.type&&!!i.key.isEqual(n.key)&&!!i.precondition.isEqual(n.precondition)&&(a=n.fieldTransforms,!!(void 0===(r=i.fieldTransforms)&&void 0===a||r&&a&&nd(r,a,(l,f)=>function(i,n){return i.field.isEqual(n.field)&&(a=n.transform,(r=i.transform)instanceof zo&&a instanceof zo||r instanceof gl&&a instanceof gl?nd(r.elements,a.elements,Qs):r instanceof cd&&a instanceof cd?Qs(r.C,a.C):r instanceof cp&&a instanceof cp);var r,a}(l,f))))&&(0===i.type?i.value.isEqual(n.value):1!==i.type||i.data.isEqual(n.data)&&i.fieldMask.isEqual(n.fieldMask));var r,a}function a_(i){return i.isFoundDocument()?i.version:ht.min()}class dd extends o_{constructor(n,r,a,l=[]){super(),this.key=n,this.value=r,this.precondition=a,this.fieldTransforms=l,this.type=0}}class to extends o_{constructor(n,r,a,l,f=[]){super(),this.key=n,this.data=r,this.fieldMask=a,this.precondition=l,this.fieldTransforms=f,this.type=1}}function T0(i){const n=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const a=i.data.field(r);n.set(r,a)}}),n}function bI(i,n,r){const a=new Map;ot(i.length===r.length);for(let l=0;l<r.length;l++){const f=i[l],_=f.transform,w=n.data.field(f.field);a.set(f.field,cx(_,w,r[l]))}return a}function fx(i,n,r){const a=new Map;for(const l of i){const f=l.transform,_=r.data.field(l.field);a.set(l.field,DS(f,_,n))}return a}class hp extends o_{constructor(n,r){super(),this.key=n,this.precondition=r,this.type=2,this.fieldTransforms=[]}}class D0 extends o_{constructor(n,r){super(),this.key=n,this.precondition=r,this.type=3,this.fieldTransforms=[]}}class px{constructor(n){this.count=n}}var Rn,St;function A0(i){switch(i){case te.OK:return ze();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return ze()}}function wI(i){if(void 0===i)return Fn("GRPC error has no .code"),te.UNKNOWN;switch(i){case Rn.OK:return te.OK;case Rn.CANCELLED:return te.CANCELLED;case Rn.UNKNOWN:return te.UNKNOWN;case Rn.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Rn.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Rn.INTERNAL:return te.INTERNAL;case Rn.UNAVAILABLE:return te.UNAVAILABLE;case Rn.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Rn.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Rn.NOT_FOUND:return te.NOT_FOUND;case Rn.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Rn.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Rn.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Rn.ABORTED:return te.ABORTED;case Rn.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Rn.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Rn.DATA_LOSS:return te.DATA_LOSS;default:return ze()}}(St=Rn||(Rn={}))[St.OK=0]="OK",St[St.CANCELLED=1]="CANCELLED",St[St.UNKNOWN=2]="UNKNOWN",St[St.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",St[St.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",St[St.NOT_FOUND=5]="NOT_FOUND",St[St.ALREADY_EXISTS=6]="ALREADY_EXISTS",St[St.PERMISSION_DENIED=7]="PERMISSION_DENIED",St[St.UNAUTHENTICATED=16]="UNAUTHENTICATED",St[St.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",St[St.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",St[St.ABORTED=10]="ABORTED",St[St.OUT_OF_RANGE=11]="OUT_OF_RANGE",St[St.UNIMPLEMENTED=12]="UNIMPLEMENTED",St[St.INTERNAL=13]="INTERNAL",St[St.UNAVAILABLE=14]="UNAVAILABLE",St[St.DATA_LOSS=15]="DATA_LOSS";class Yn{constructor(n,r){this.comparator=n,this.root=r||Vn.EMPTY}insert(n,r){return new Yn(this.comparator,this.root.insert(n,r,this.comparator).copy(null,null,Vn.BLACK,null,null))}remove(n){return new Yn(this.comparator,this.root.remove(n,this.comparator).copy(null,null,Vn.BLACK,null,null))}get(n){let r=this.root;for(;!r.isEmpty();){const a=this.comparator(n,r.key);if(0===a)return r.value;a<0?r=r.left:a>0&&(r=r.right)}return null}indexOf(n){let r=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(n,a.key);if(0===l)return r+a.left.size;l<0?a=a.left:(r+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((r,a)=>(n(r,a),!1))}toString(){const n=[];return this.inorderTraversal((r,a)=>(n.push(`${r}:${a}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new fp(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new fp(this.root,n,this.comparator,!1)}getReverseIterator(){return new fp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new fp(this.root,n,this.comparator,!0)}}class fp{constructor(n,r,a,l){this.isReverse=l,this.nodeStack=[];let f=1;for(;!n.isEmpty();)if(f=r?a(n.key,r):1,l&&(f*=-1),f<0)n=this.isReverse?n.left:n.right;else{if(0===f){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const r={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class Vn{constructor(n,r,a,l,f){this.key=n,this.value=r,this.color=null!=a?a:Vn.RED,this.left=null!=l?l:Vn.EMPTY,this.right=null!=f?f:Vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,r,a,l,f){return new Vn(null!=n?n:this.key,null!=r?r:this.value,null!=a?a:this.color,null!=l?l:this.left,null!=f?f:this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,a){let l=this;const f=a(n,l.key);return l=f<0?l.copy(null,null,null,l.left.insert(n,r,a),null):0===f?l.copy(null,r,null,null,null):l.copy(null,null,null,null,l.right.insert(n,r,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Vn.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,r){let a,l=this;if(r(n,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(n,r),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===r(n,l.key)){if(l.right.isEmpty())return Vn.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(n,r))}return l.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,Vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,Vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ze();const n=this.left.check();if(n!==this.right.check())throw ze();return n+(this.isRed()?0:1)}}Vn.EMPTY=null,Vn.RED=!0,Vn.BLACK=!1,Vn.EMPTY=new class{constructor(){this.size=0}get key(){throw ze()}get value(){throw ze()}get color(){throw ze()}get left(){throw ze()}get right(){throw ze()}copy(i,n,r,a,l){return this}insert(i,n,r){return new Vn(i,n)}remove(i,n){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xn{constructor(n){this.comparator=n,this.data=new Yn(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((r,a)=>(n(r),!1))}forEachInRange(n,r){const a=this.data.getIteratorFrom(n[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,n[1])>=0)return;r(l.key)}}forEachWhile(n,r){let a;for(a=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();a.hasNext();)if(!n(a.getNext().key))return}firstAfterOrEqual(n){const r=this.data.getIteratorFrom(n);return r.hasNext()?r.getNext().key:null}getIterator(){return new x0(this.data.getIterator())}getIteratorFrom(n){return new x0(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let r=this;return r.size<n.size&&(r=n,n=this),n.forEach(a=>{r=r.add(a)}),r}isEqual(n){if(!(n instanceof xn)||this.size!==n.size)return!1;const r=this.data.getIterator(),a=n.data.getIterator();for(;r.hasNext();){const l=r.getNext().key,f=a.getNext().key;if(0!==this.comparator(l,f))return!1}return!0}toArray(){const n=[];return this.forEach(r=>{n.push(r)}),n}toString(){const n=[];return this.forEach(r=>n.push(r)),"SortedSet("+n.toString()+")"}copy(n){const r=new xn(this.comparator);return r.data=n,r}}class x0{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const u_=new Yn(Ye.comparator);function zr(){return u_}const pp=new Yn(Ye.comparator);function S0(){return pp}const gx=new Yn(Ye.comparator);function mx(){return gx}const _x=new xn(Ye.comparator);function Ht(...i){let n=_x;for(const r of i)n=n.add(r);return n}const yx=new xn(vt);function l_(){return yx}class gp{constructor(n,r,a,l,f){this.snapshotVersion=n,this.targetChanges=r,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(n,r){const a=new Map;return a.set(n,mp.createSynthesizedTargetChangeForCurrentChange(n,r)),new gp(ht.min(),a,l_(),zr(),Ht())}}class mp{constructor(n,r,a,l,f){this.resumeToken=n,this.current=r,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(n,r){return new mp(Kn.EMPTY_BYTE_STRING,r,Ht(),Ht(),Ht())}}class c_{constructor(n,r,a,l){this.k=n,this.removedTargetIds=r,this.key=a,this.$=l}}class EI{constructor(n,r){this.targetId=n,this.O=r}}class II{constructor(n,r,a=Kn.EMPTY_BYTE_STRING,l=null){this.state=n,this.targetIds=r,this.resumeToken=a,this.cause=l}}class vx{constructor(){this.F=0,this.M=TI(),this.L=Kn.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(n){n.approximateByteSize()>0&&(this.U=!0,this.L=n)}W(){let n=Ht(),r=Ht(),a=Ht();return this.M.forEach((l,f)=>{switch(f){case 0:n=n.add(l);break;case 2:r=r.add(l);break;case 1:a=a.add(l);break;default:ze()}}),new mp(this.L,this.B,n,r,a)}G(){this.U=!1,this.M=TI()}H(n,r){this.U=!0,this.M=this.M.insert(n,r)}J(n){this.U=!0,this.M=this.M.remove(n)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class Cx{constructor(n){this.tt=n,this.et=new Map,this.nt=zr(),this.st=hd(),this.it=new xn(vt)}rt(n){for(const r of n.k)n.$&&n.$.isFoundDocument()?this.ot(r,n.$):this.at(r,n.key,n.$);for(const r of n.removedTargetIds)this.at(r,n.key,n.$)}ct(n){this.forEachTarget(n,r=>{const a=this.ut(r);switch(n.state){case 0:this.ht(r)&&a.j(n.resumeToken);break;case 1:a.X(),a.q||a.G(),a.j(n.resumeToken);break;case 2:a.X(),a.q||this.removeTarget(r);break;case 3:this.ht(r)&&(a.Z(),a.j(n.resumeToken));break;case 4:this.ht(r)&&(this.lt(r),a.j(n.resumeToken));break;default:ze()}})}forEachTarget(n,r){n.targetIds.length>0?n.targetIds.forEach(r):this.et.forEach((a,l)=>{this.ht(l)&&r(l)})}ft(n){const r=n.targetId,a=n.O.count,l=this.dt(r);if(l){const f=l.target;if(t_(f))if(0===a){const _=new Ye(f.path);this.at(r,_,bn.newNoDocument(_,ht.min()))}else ot(1===a);else this.wt(r)!==a&&(this.lt(r),this.it=this.it.add(r))}}_t(n){const r=new Map;this.et.forEach((f,_)=>{const w=this.dt(_);if(w){if(f.current&&t_(w.target)){const T=new Ye(w.target.path);null!==this.nt.get(T)||this.gt(_,T)||this.at(_,T,bn.newNoDocument(T,n))}f.K&&(r.set(_,f.W()),f.G())}});let a=Ht();this.st.forEach((f,_)=>{let w=!0;_.forEachWhile(T=>{const S=this.dt(T);return!S||2===S.purpose||(w=!1,!1)}),w&&(a=a.add(f))});const l=new gp(n,r,this.it,this.nt,a);return this.nt=zr(),this.st=hd(),this.it=new xn(vt),l}ot(n,r){if(!this.ht(n))return;const a=this.gt(n,r.key)?2:0;this.ut(n).H(r.key,a),this.nt=this.nt.insert(r.key,r),this.st=this.st.insert(r.key,this.yt(r.key).add(n))}at(n,r,a){if(!this.ht(n))return;const l=this.ut(n);this.gt(n,r)?l.H(r,1):l.J(r),this.st=this.st.insert(r,this.yt(r).delete(n)),a&&(this.nt=this.nt.insert(r,a))}removeTarget(n){this.et.delete(n)}wt(n){const r=this.ut(n).W();return this.tt.getRemoteKeysForTarget(n).size+r.addedDocuments.size-r.removedDocuments.size}Y(n){this.ut(n).Y()}ut(n){let r=this.et.get(n);return r||(r=new vx,this.et.set(n,r)),r}yt(n){let r=this.st.get(n);return r||(r=new xn(vt),this.st=this.st.insert(n,r)),r}ht(n){const r=null!==this.dt(n);return r||de("WatchChangeAggregator","Detected inactive target",n),r}dt(n){const r=this.et.get(n);return r&&r.q?null:this.tt.Et(n)}lt(n){this.et.set(n,new vx),this.tt.getRemoteKeysForTarget(n).forEach(r=>{this.at(n,r,null)})}gt(n,r){return this.tt.getRemoteKeysForTarget(n).has(r)}}function hd(){return new Yn(Ye.comparator)}function TI(){return new Yn(Ye.comparator)}const bx={asc:"ASCENDING",desc:"DESCENDING"},wx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class d_{constructor(n,r){this.databaseId=n,this.D=r}}function hs(i,n){return i.D?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function M0(i,n){return i.D?n.toBase64():n.toUint8Array()}function Ex(i,n){return hs(i,n.toTimestamp())}function _r(i){return ot(!!i),ht.fromTimestamp(function(n){const r=Go(n);return new nr(r.seconds,r.nanos)}(i))}function N0(i,n){return(r=i,new xt(["projects",r.projectId,"databases",r.database])).child("documents").child(n).canonicalString();var r}function _p(i){const n=xt.fromString(i);return ot(F0(n)),n}function yp(i,n){return N0(i.databaseId,n.path)}function no(i,n){const r=_p(n);if(r.get(1)!==i.databaseId.projectId)throw new Ae(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new Ae(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new Ye(R0(r))}function h_(i,n){return N0(i.databaseId,n)}function O0(i){const n=_p(i);return 4===n.length?xt.emptyPath():R0(n)}function _l(i){return new xt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function R0(i){return ot(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function P0(i,n,r){return{name:yp(i,n),fields:r.value.mapValue.fields}}function DI(i,n,r){const a=no(i,n.name),l=_r(n.updateTime),f=new Nr({mapValue:{fields:n.fields}}),_=bn.newFoundDocument(a,l,f);return r&&_.setHasCommittedMutations(),r?_.setHasCommittedMutations():_}function f_(i,n){let r;if(n instanceof dd)r={update:P0(i,n.key,n.value)};else if(n instanceof hp)r={delete:yp(i,n.key)};else if(n instanceof to)r={update:P0(i,n.key,n.data),updateMask:xI(n.fieldMask)};else{if(!(n instanceof D0))return ze();r={verify:yp(i,n.key)}}return n.fieldTransforms.length>0&&(r.updateTransforms=n.fieldTransforms.map(a=>function(l,f){const _=f.transform;if(_ instanceof cp)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof zo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof gl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof cd)return{fieldPath:f.field.canonicalString(),increment:_.C};throw ze()}(0,a))),n.precondition.isNone||(r.currentDocument=void 0!==(l=n.precondition).updateTime?{updateTime:Ex(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:ze()),r;var l}function k0(i,n){const r=n.currentDocument?void 0!==(l=n.currentDocument).updateTime?En.updateTime(_r(l.updateTime)):void 0!==l.exists?En.exists(l.exists):En.none():En.none(),a=n.updateTransforms?n.updateTransforms.map(l=>function(f,_){let w=null;"setToServerValue"in _?(ot("REQUEST_TIME"===_.setToServerValue),w=new cp):"appendMissingElements"in _?w=new zo(_.appendMissingElements.values||[]):"removeAllFromArray"in _?w=new gl(_.removeAllFromArray.values||[]):"increment"in _?w=new cd(f,_.increment):ze();const T=mr.fromServerFormat(_.fieldPath);return new ci(T,w)}(i,l)):[];var l;if(n.update){const l=no(i,n.update.name),f=new Nr({mapValue:{fields:n.update.fields}});if(n.updateMask){const _=new rd((n.updateMask.fieldPaths||[]).map(S=>mr.fromServerFormat(S)));return new to(l,f,_,r,a)}return new dd(l,f,r,a)}if(n.delete){const l=no(i,n.delete);return new hp(l,r)}if(n.verify){const l=no(i,n.verify);return new D0(l,r)}return ze()}function vp(i,n){return{documents:[h_(i,n.path)]}}function Tx(i,n){const r={structuredQuery:{}},a=n.path;null!==n.collectionGroup?(r.parent=h_(i,a),r.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(r.parent=h_(i,a.popLast()),r.structuredQuery.from=[{collectionId:a.lastSegment()}]);const l=function(w){if(0===w.length)return;const T=w.map(S=>function(M){if("=="===M.op){if(aI(M.value))return{unaryFilter:{field:yr(M.field),op:"IS_NAN"}};if(p0(M.value))return{unaryFilter:{field:yr(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(aI(M.value))return{unaryFilter:{field:yr(M.field),op:"IS_NOT_NAN"}};if(p0(M.value))return{unaryFilter:{field:yr(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yr(M.field),op:ft(M.op),value:M.value}}}(S));return 1===T.length?T[0]:{compositeFilter:{op:"AND",filters:T}}}(n.filters);l&&(r.structuredQuery.where=l);const f=function(w){if(0!==w.length)return w.map(T=>{return{field:yr((S=T).field),direction:SS(S.dir)};var S})}(n.orderBy);f&&(r.structuredQuery.orderBy=f);const _=(T=n.limit,i.D||id(T)?T:{value:T});var T;return null!==_&&(r.structuredQuery.limit=_),n.startAt&&(r.structuredQuery.startAt=yl(n.startAt)),n.endAt&&(r.structuredQuery.endAt=yl(n.endAt)),r}function fd(i){let n=O0(i.parent);const r=i.structuredQuery,a=r.from?r.from.length:0;let l=null;if(a>0){ot(1===a);const M=r.from[0];M.allDescendants?l=M.collectionId:n=n.child(M.collectionId)}let f=[];r.where&&(f=Wo(r.where));let _=[];r.orderBy&&(_=r.orderBy.map(M=>{return new ud(Pa((k=M).field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction));var k}));let w=null;r.limit&&(w=function(M){let k;return k="object"==typeof M?M.value:M,id(k)?null:k}(r.limit));let T=null;r.startAt&&(T=pd(r.startAt));let S=null;return r.endAt&&(S=pd(r.endAt)),m0(n,l,_,f,w,"F",T,S)}function Wo(i){return i?void 0!==i.unaryFilter?[MS(i)]:void 0!==i.fieldFilter?[vl(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(n=>Wo(n)).reduce((n,r)=>n.concat(r)):ze():[]}function yl(i){return{before:i.before,values:i.position}}function pd(i){return new ap(i.values||[],!!i.before)}function SS(i){return bx[i]}function ft(i){return wx[i]}function yr(i){return{fieldPath:i.canonicalString()}}function Pa(i){return mr.fromServerFormat(i.fieldPath)}function vl(i){return Or.create(Pa(i.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ze()}}(i.fieldFilter.op),i.fieldFilter.value)}function MS(i){switch(i.unaryFilter.op){case"IS_NAN":const n=Pa(i.unaryFilter.field);return Or.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Pa(i.unaryFilter.field);return Or.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Pa(i.unaryFilter.field);return Or.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Pa(i.unaryFilter.field);return Or.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ze()}}function xI(i){const n=[];return i.fields.forEach(r=>n.push(r.canonicalString())),{fieldPaths:n}}function F0(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function ro(i){let n="";for(let r=0;r<i.length;r++)n.length>0&&(n=SI(n)),n=Dx(i.get(r),n);return SI(n)}function Dx(i,n){let r=n;const a=i.length;for(let l=0;l<a;l++){const f=i.charAt(l);switch(f){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=f}}return r}function SI(i){return i+"\x01\x01"}function Un(i){const n=i.length;if(ot(n>=2),2===n)return ot("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),xt.emptyPath();const r=n-2,a=[];let l="";for(let f=0;f<n;){const _=i.indexOf("\x01",f);switch((_<0||_>r)&&ze(),i.charAt(_+1)){case"\x01":const w=i.substring(f,_);let T;0===l.length?T=w:(l+=w,T=l,l=""),a.push(T);break;case"\x10":l+=i.substring(f,_),l+="\0";break;case"\x11":l+=i.substring(f,_+1);break;default:ze()}f=_+2}return new xt(a)}class In{constructor(n,r){this.seconds=n,this.nanoseconds=r}}class Tn{constructor(n,r,a){this.ownerId=n,this.allowTabSynchronization=r,this.leaseTimestampMs=a}}Tn.store="owner",Tn.key="owner";class Ko{constructor(n,r,a){this.userId=n,this.lastAcknowledgedBatchId=r,this.lastStreamToken=a}}Ko.store="mutationQueues",Ko.keyPath="userId";class cn{constructor(n,r,a,l,f){this.userId=n,this.batchId=r,this.localWriteTimeMs=a,this.baseMutations=l,this.mutations=f}}cn.store="mutations",cn.keyPath="batchId",cn.userMutationsIndex="userMutationsIndex",cn.userMutationsKeyPath=["userId","batchId"];class vr{constructor(){}static prefixForUser(n){return[n]}static prefixForPath(n,r){return[n,ro(r)]}static key(n,r,a){return[n,ro(r),a]}}vr.store="documentMutations",vr.PLACEHOLDER=new vr;class L0{constructor(n,r){this.path=n,this.readTime=r}}class gd{constructor(n,r){this.path=n,this.version=r}}class en{constructor(n,r,a,l,f,_){this.unknownDocument=n,this.noDocument=r,this.document=a,this.hasCommittedMutations=l,this.readTime=f,this.parentPath=_}}en.store="remoteDocuments",en.readTimeIndex="readTimeIndex",en.readTimeIndexPath="readTime",en.collectionReadTimeIndex="collectionReadTimeIndex",en.collectionReadTimeIndexPath=["parentPath","readTime"];class io{constructor(n){this.byteSize=n}}io.store="remoteDocumentGlobal",io.key="remoteDocumentGlobalKey";class Bn{constructor(n,r,a,l,f,_,w){this.targetId=n,this.canonicalId=r,this.readTime=a,this.resumeToken=l,this.lastListenSequenceNumber=f,this.lastLimboFreeSnapshotVersion=_,this.query=w}}Bn.store="targets",Bn.keyPath="targetId",Bn.queryTargetsIndexName="queryTargetsIndex",Bn.queryTargetsKeyPath=["canonicalId","targetId"];class Cr{constructor(n,r,a){this.targetId=n,this.path=r,this.sequenceNumber=a}}Cr.store="targetDocuments",Cr.keyPath=["targetId","path"],Cr.documentTargetsIndex="documentTargetsIndex",Cr.documentTargetsKeyPath=["path","targetId"];class di{constructor(n,r,a,l){this.highestTargetId=n,this.highestListenSequenceNumber=r,this.lastRemoteSnapshotVersion=a,this.targetCount=l}}di.key="targetGlobalKey",di.store="targetGlobal";class Yo{constructor(n,r){this.collectionId=n,this.parent=r}}Yo.store="collectionParents",Yo.keyPath=["collectionId","parent"];class Di{constructor(n,r,a,l){this.clientId=n,this.updateTimeMs=r,this.networkEnabled=a,this.inForeground=l}}Di.store="clientMetadata",Di.keyPath="clientId";class ka{constructor(n,r,a){this.bundleId=n,this.createTime=r,this.version=a}}ka.store="bundles",ka.keyPath="bundleId";class Cl{constructor(n,r,a){this.name=n,this.readTime=r,this.bundledQuery=a}}Cl.store="namedQueries",Cl.keyPath="name";const md=[Ko.store,cn.store,vr.store,en.store,Bn.store,Tn.store,di.store,Cr.store,Di.store,io.store,Yo.store,ka.store,Cl.store],MI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Cp{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}class Te{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(n){return this.next(void 0,n)}next(n,r){return this.callbackAttached&&ze(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(n,this.result):new Te((a,l)=>{this.nextCallback=f=>{this.wrapSuccess(n,f).next(a,l)},this.catchCallback=f=>{this.wrapFailure(r,f).next(a,l)}})}toPromise(){return new Promise((n,r)=>{this.next(n,r)})}wrapUserFunction(n){try{const r=n();return r instanceof Te?r:Te.resolve(r)}catch(r){return Te.reject(r)}}wrapSuccess(n,r){return n?this.wrapUserFunction(()=>n(r)):Te.resolve(r)}wrapFailure(n,r){return n?this.wrapUserFunction(()=>n(r)):Te.reject(r)}static resolve(n){return new Te((r,a)=>{r(n)})}static reject(n){return new Te((r,a)=>{a(n)})}static waitFor(n){return new Te((r,a)=>{let l=0,f=0,_=!1;n.forEach(w=>{++l,w.next(()=>{++f,_&&f===l&&r()},T=>a(T))}),_=!0,f===l&&r()})}static or(n){let r=Te.resolve(!1);for(const a of n)r=r.next(l=>l?Te.resolve(l):a());return r}static forEach(n,r){const a=[];return n.forEach((l,f)=>{a.push(r.call(this,l,f))}),this.waitFor(a)}}class bp{constructor(n,r){this.action=n,this.transaction=r,this.aborted=!1,this.Tt=new Wn,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{r.error?this.Tt.reject(new wp(n,r.error)):this.Tt.resolve()},this.transaction.onerror=a=>{const l=at(a.target.error);this.Tt.reject(new wp(n,l))}}static open(n,r,a,l){try{return new bp(r,n.transaction(l,a))}catch(f){throw new wp(r,f)}}get It(){return this.Tt.promise}abort(n){n&&this.Tt.reject(n),this.aborted||(de("SimpleDb","Aborting transaction:",n?n.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(n){const r=this.transaction.objectStore(n);return new V0(r)}}class Hi{constructor(n,r,a){this.name=n,this.version=r,this.At=a,12.2===Hi.Rt((0,Pt.z$)())&&Fn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(n){return de("SimpleDb","Removing database:",n),_d(window.indexedDB.deleteDatabase(n)).toPromise()}static bt(){if(!(0,Pt.hl)())return!1;if(Hi.Pt())return!0;const n=(0,Pt.z$)(),r=Hi.Rt(n),a=0<r&&r<10,l=Hi.vt(n),f=0<l&&l<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||a||f)}static Pt(){var n;return"undefined"!=typeof process&&"YES"===(null===(n=process.env)||void 0===n?void 0:n.Vt)}static St(n,r){return n.store(r)}static Rt(n){const r=n.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(a)}static vt(n){const r=n.match(/Android ([\d.]+)/i),a=r?r[1].split(".").slice(0,2).join("."):"-1";return Number(a)}Dt(n){var r=this;return(0,ve.Z)(function*(){return r.db||(de("SimpleDb","Opening database:",r.name),r.db=yield new Promise((a,l)=>{const f=indexedDB.open(r.name,r.version);f.onsuccess=_=>{a(_.target.result)},f.onblocked=()=>{l(new wp(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},f.onerror=_=>{const w=_.target.error;l("VersionError"===w.name?new Ae(te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===w.name?new Ae(te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+w):new wp(n,w))},f.onupgradeneeded=_=>{de("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',_.oldVersion),r.At.Ct(_.target.result,f.transaction,_.oldVersion,r.version).next(()=>{de("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.Nt&&(r.db.onversionchange=a=>r.Nt(a)),r.db})()}xt(n){this.Nt=n,this.db&&(this.db.onversionchange=r=>n(r))}runTransaction(n,r,a,l){var f=this;return(0,ve.Z)(function*(){const _="readonly"===r;let w=0;for(;;){++w;try{f.db=yield f.Dt(n);const T=bp.open(f.db,n,_?"readonly":"readwrite",a),S=l(T).catch(M=>(T.abort(M),Te.reject(M))).toPromise();return S.catch(()=>{}),yield T.It,S}catch(T){const S="FirebaseError"!==T.name&&w<3;if(de("SimpleDb","Transaction failed with error:",T.message,"Retrying:",S),f.close(),!S)return Promise.reject(T)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class g_{constructor(n){this.kt=n,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(n){this.kt=n}done(){this.$t=!0}Mt(n){this.Ot=n}delete(){return _d(this.kt.delete())}}class wp extends Ae{constructor(n,r){super(te.UNAVAILABLE,`IndexedDB transaction '${n}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Jo(i){return"IndexedDbTransactionError"===i.name}class V0{constructor(n){this.store=n}put(n,r){let a;return void 0!==r?(de("SimpleDb","PUT",this.store.name,n,r),a=this.store.put(r,n)):(de("SimpleDb","PUT",this.store.name,"<auto-key>",n),a=this.store.put(n)),_d(a)}add(n){return de("SimpleDb","ADD",this.store.name,n,n),_d(this.store.add(n))}get(n){return _d(this.store.get(n)).next(r=>(void 0===r&&(r=null),de("SimpleDb","GET",this.store.name,n,r),r))}delete(n){return de("SimpleDb","DELETE",this.store.name,n),_d(this.store.delete(n))}count(){return de("SimpleDb","COUNT",this.store.name),_d(this.store.count())}Lt(n,r){const a=this.cursor(this.options(n,r)),l=[];return this.Bt(a,(f,_)=>{l.push(_)}).next(()=>l)}Ut(n,r){de("SimpleDb","DELETE ALL",this.store.name);const a=this.options(n,r);a.qt=!1;const l=this.cursor(a);return this.Bt(l,(f,_,w)=>w.delete())}Kt(n,r){let a;r?a=n:(a={},r=n);const l=this.cursor(a);return this.Bt(l,r)}jt(n){const r=this.cursor({});return new Te((a,l)=>{r.onerror=f=>{const _=at(f.target.error);l(_)},r.onsuccess=f=>{const _=f.target.result;_?n(_.primaryKey,_.value).next(w=>{w?_.continue():a()}):a()}})}Bt(n,r){const a=[];return new Te((l,f)=>{n.onerror=_=>{f(_.target.error)},n.onsuccess=_=>{const w=_.target.result;if(!w)return void l();const T=new g_(w),S=r(w.primaryKey,w.value,T);if(S instanceof Te){const M=S.catch(k=>(T.done(),Te.reject(k)));a.push(M)}T.isDone?l():null===T.Ft?w.continue():w.continue(T.Ft)}}).next(()=>Te.waitFor(a))}options(n,r){let a;return void 0!==n&&("string"==typeof n?a=n:r=n),{index:a,range:r}}cursor(n){let r="next";if(n.reverse&&(r="prev"),n.index){const a=this.store.index(n.index);return n.qt?a.openKeyCursor(n.range,r):a.openCursor(n.range,r)}return this.store.openCursor(n.range,r)}}function _d(i){return new Te((n,r)=>{i.onsuccess=a=>{n(a.target.result)},i.onerror=a=>{const l=at(a.target.error);r(l)}})}let Ax=!1;function at(i){const n=Hi.Rt((0,Pt.z$)());if(n>=12.2&&n<13){const r="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(r)>=0){const a=new Ae("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ax||(Ax=!0,setTimeout(()=>{throw a},0)),a}}return i}class xx extends Cp{constructor(n,r){super(),this.Qt=n,this.currentSequenceNumber=r}}function rr(i,n){const r=ke(i);return Hi.St(r.Qt,n)}class U0{constructor(n,r,a,l){this.batchId=n,this.localWriteTime=r,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(n,r){const a=r.mutationResults;for(let l=0;l<this.mutations.length;l++){const f=this.mutations[l];f.key.isEqual(n.key)&&xS(f,n,a[l])}}applyToLocalView(n){for(const r of this.baseMutations)r.key.isEqual(n.key)&&I0(r,n,this.localWriteTime);for(const r of this.mutations)r.key.isEqual(n.key)&&I0(r,n,this.localWriteTime)}applyToLocalDocumentSet(n){this.mutations.forEach(r=>{const a=n.get(r.key),l=a;this.applyToLocalView(l),a.isValidDocument()||l.convertToNoDocument(ht.min())})}keys(){return this.mutations.reduce((n,r)=>n.add(r.key),Ht())}isEqual(n){return this.batchId===n.batchId&&nd(this.mutations,n.mutations,(r,a)=>CI(r,a))&&nd(this.baseMutations,n.baseMutations,(r,a)=>CI(r,a))}}class B0{constructor(n,r,a,l){this.batch=n,this.commitVersion=r,this.mutationResults=a,this.docVersions=l}static from(n,r,a){ot(n.mutations.length===a.length);let l=mx();const f=n.mutations;for(let _=0;_<f.length;_++)l=l.insert(f[_].key,a[_].version);return new B0(n,r,a,l)}}class Fa{constructor(n,r,a,l,f=ht.min(),_=ht.min(),w=Kn.EMPTY_BYTE_STRING){this.target=n,this.targetId=r,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=_,this.resumeToken=w}withSequenceNumber(n){return new Fa(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(n,r){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,n)}withLastLimboFreeSnapshotVersion(n){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken)}}class Sx{constructor(n){this.Wt=n}}function NI(i,n){if(n.document)return DI(i.Wt,n.document,!!n.hasCommittedMutations);if(n.noDocument){const r=Ye.fromSegments(n.noDocument.path),a=La(n.noDocument.readTime),l=bn.newNoDocument(r,a);return n.hasCommittedMutations?l.setHasCommittedMutations():l}if(n.unknownDocument){const r=Ye.fromSegments(n.unknownDocument.path),a=La(n.unknownDocument.version);return bn.newUnknownDocument(r,a)}return ze()}function OI(i,n,r){const a=ir(r),l=n.key.path.popLast().toArray();if(n.isFoundDocument()){const f={name:yp(w=i.Wt,(T=n).key),fields:T.data.value.mapValue.fields,updateTime:hs(w,T.version.toTimestamp())};return new en(null,null,f,n.hasCommittedMutations,a,l)}var w,T;if(n.isNoDocument()){const f=n.key.path.toArray(),_=yd(n.version),w=n.hasCommittedMutations;return new en(null,new L0(f,_),null,w,a,l)}if(n.isUnknownDocument()){const f=n.key.path.toArray(),_=yd(n.version);return new en(new gd(f,_),null,null,!0,a,l)}return ze()}function ir(i){const n=i.toTimestamp();return[n.seconds,n.nanoseconds]}function RI(i){const n=new nr(i[0],i[1]);return ht.fromTimestamp(n)}function yd(i){const n=i.toTimestamp();return new In(n.seconds,n.nanoseconds)}function La(i){const n=new nr(i.seconds,i.nanoseconds);return ht.fromTimestamp(n)}function vd(i,n){const r=(n.baseMutations||[]).map(f=>k0(i.Wt,f));for(let f=0;f<n.mutations.length-1;++f){const _=n.mutations[f];f+1<n.mutations.length&&void 0!==n.mutations[f+1].transform&&(_.updateTransforms=n.mutations[f+1].transform.fieldTransforms,n.mutations.splice(f+1,1),++f)}const a=n.mutations.map(f=>k0(i.Wt,f)),l=nr.fromMillis(n.localWriteTimeMs);return new U0(n.batchId,l,r,a)}function Ep(i){const n=La(i.readTime),r=void 0!==i.lastLimboFreeSnapshotVersion?La(i.lastLimboFreeSnapshotVersion):ht.min();let a;var l;return void 0!==i.query.documents?(ot(1===(l=i.query).documents.length),a=li(ld(O0(l.documents[0])))):a=li(fd(i.query)),new Fa(a,i.targetId,0,i.lastListenSequenceNumber,n,r,Kn.fromBase64String(i.resumeToken))}function PI(i,n){const r=yd(n.snapshotVersion),a=yd(n.lastLimboFreeSnapshotVersion);let l;l=t_(n.target)?vp(i.Wt,n.target):Tx(i.Wt,n.target);const f=n.resumeToken.toBase64();return new Bn(n.targetId,od(n.target),r,f,n.sequenceNumber,a,l)}function j0(i){const n=fd({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?C0(n,n.limit,"L"):n}class Mx{getBundleMetadata(n,r){return kI(n).get(r).next(a=>{if(a)return{id:(l=a).bundleId,createTime:La(l.createTime),version:l.version};var l})}saveBundleMetadata(n,r){return kI(n).put({bundleId:(a=r).id,createTime:yd(_r(a.createTime)),version:a.version});var a}getNamedQuery(n,r){return m_(n).get(r).next(a=>{if(a)return{name:(l=a).name,query:j0(l.bundledQuery),readTime:La(l.readTime)};var l})}saveNamedQuery(n,r){return m_(n).put({name:(a=r).name,readTime:yd(_r(a.readTime)),bundledQuery:a.bundledQuery});var a}}function kI(i){return rr(i,ka.store)}function m_(i){return rr(i,Cl.store)}class Nx{constructor(){this.Gt=new H0}addToCollectionParentIndex(n,r){return this.Gt.add(r),Te.resolve()}getCollectionParents(n,r){return Te.resolve(this.Gt.getEntries(r))}}class H0{constructor(){this.index={}}add(n){const r=n.lastSegment(),a=n.popLast(),l=this.index[r]||new xn(xt.comparator),f=!l.has(a);return this.index[r]=l.add(a),f}has(n){const r=n.lastSegment(),a=n.popLast(),l=this.index[r];return l&&l.has(a)}getEntries(n){return(this.index[n]||new xn(xt.comparator)).toArray()}}class FI{constructor(){this.zt=new H0}addToCollectionParentIndex(n,r){if(!this.zt.has(r)){const a=r.lastSegment(),l=r.popLast();n.addOnCommittedListener(()=>{this.zt.add(r)});const f={collectionId:a,parent:ro(l)};return __(n).put(f)}return Te.resolve()}getCollectionParents(n,r){const a=[],l=IDBKeyRange.bound([r,""],[iI(r),""],!1,!0);return __(n).Lt(l).next(f=>{for(const _ of f){if(_.collectionId!==r)break;a.push(Un(_.parent))}return a})}}function __(i){return rr(i,Yo.store)}const LI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ai{constructor(n,r,a){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=a}static withCacheSize(n){return new Ai(n,Ai.DEFAULT_COLLECTION_PERCENTILE,Ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function VI(i,n,r){const a=i.store(cn.store),l=i.store(vr.store),f=[],_=IDBKeyRange.only(r.batchId);let w=0;const T=a.Kt({range:_},(M,k,z)=>(w++,z.delete()));f.push(T.next(()=>{ot(1===w)}));const S=[];for(const M of r.mutations){const k=vr.key(n,M.key.path,r.batchId);f.push(l.delete(k)),S.push(M.key)}return Te.waitFor(f).next(()=>S)}function y_(i){if(!i)return 0;let n;if(i.document)n=i.document;else if(i.unknownDocument)n=i.unknownDocument;else{if(!i.noDocument)throw ze();n=i.noDocument}return JSON.stringify(n).length}Ai.DEFAULT_COLLECTION_PERCENTILE=10,Ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ai.DEFAULT=new Ai(41943040,Ai.DEFAULT_COLLECTION_PERCENTILE,Ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ai.DISABLED=new Ai(-1,0,0);class Z0{constructor(n,r,a,l){this.userId=n,this.N=r,this.Ht=a,this.referenceDelegate=l,this.Jt={}}static Yt(n,r,a,l){ot(""!==n.uid);const f=n.isAuthenticated()?n.uid:"";return new Z0(f,r,a,l)}checkEmpty(n){let r=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Va(n).Kt({index:cn.userMutationsIndex,range:a},(l,f,_)=>{r=!1,_.done()}).next(()=>r)}addMutationBatch(n,r,a,l){const f=Cd(n),_=Va(n);return _.add({}).next(w=>{ot("number"==typeof w);const T=new U0(w,r,a,l),S=function(z,K,Ce){const Re=Ce.baseMutations.map(Mt=>f_(z.Wt,Mt)),qe=Ce.mutations.map(Mt=>f_(z.Wt,Mt));return new cn(K,Ce.batchId,Ce.localWriteTime.toMillis(),Re,qe)}(this.N,this.userId,T),M=[];let k=new xn((z,K)=>vt(z.canonicalString(),K.canonicalString()));for(const z of l){const K=vr.key(this.userId,z.key.path,w);k=k.add(z.key.path.popLast()),M.push(_.put(S)),M.push(f.put(K,vr.PLACEHOLDER))}return k.forEach(z=>{M.push(this.Ht.addToCollectionParentIndex(n,z))}),n.addOnCommittedListener(()=>{this.Jt[w]=T.keys()}),Te.waitFor(M).next(()=>T)})}lookupMutationBatch(n,r){return Va(n).get(r).next(a=>a?(ot(a.userId===this.userId),vd(this.N,a)):null)}Xt(n,r){return this.Jt[r]?Te.resolve(this.Jt[r]):this.lookupMutationBatch(n,r).next(a=>{if(a){const l=a.keys();return this.Jt[r]=l,l}return null})}getNextMutationBatchAfterBatchId(n,r){const a=r+1,l=IDBKeyRange.lowerBound([this.userId,a]);let f=null;return Va(n).Kt({index:cn.userMutationsIndex,range:l},(_,w,T)=>{w.userId===this.userId&&(ot(w.batchId>=a),f=vd(this.N,w)),T.done()}).next(()=>f)}getHighestUnacknowledgedBatchId(n){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return Va(n).Kt({index:cn.userMutationsIndex,range:r,reverse:!0},(l,f,_)=>{a=f.batchId,_.done()}).next(()=>a)}getAllMutationBatches(n){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Va(n).Lt(cn.userMutationsIndex,r).next(a=>a.map(l=>vd(this.N,l)))}getAllMutationBatchesAffectingDocumentKey(n,r){const a=vr.prefixForPath(this.userId,r.path),l=IDBKeyRange.lowerBound(a),f=[];return Cd(n).Kt({range:l},(_,w,T)=>{const[S,M,k]=_,z=Un(M);if(S===this.userId&&r.path.isEqual(z))return Va(n).get(k).next(K=>{if(!K)throw ze();ot(K.userId===this.userId),f.push(vd(this.N,K))});T.done()}).next(()=>f)}getAllMutationBatchesAffectingDocumentKeys(n,r){let a=new xn(vt);const l=[];return r.forEach(f=>{const _=vr.prefixForPath(this.userId,f.path),w=IDBKeyRange.lowerBound(_),T=Cd(n).Kt({range:w},(S,M,k)=>{const[z,K,Ce]=S,Re=Un(K);z===this.userId&&f.path.isEqual(Re)?a=a.add(Ce):k.done()});l.push(T)}),Te.waitFor(l).next(()=>this.Zt(n,a))}getAllMutationBatchesAffectingQuery(n,r){const a=r.path,l=a.length+1,f=vr.prefixForPath(this.userId,a),_=IDBKeyRange.lowerBound(f);let w=new xn(vt);return Cd(n).Kt({range:_},(T,S,M)=>{const[k,z,K]=T,Ce=Un(z);k===this.userId&&a.isPrefixOf(Ce)?Ce.length===l&&(w=w.add(K)):M.done()}).next(()=>this.Zt(n,w))}Zt(n,r){const a=[],l=[];return r.forEach(f=>{l.push(Va(n).get(f).next(_=>{if(null===_)throw ze();ot(_.userId===this.userId),a.push(vd(this.N,_))}))}),Te.waitFor(l).next(()=>a)}removeMutationBatch(n,r){return VI(n.Qt,this.userId,r).next(a=>(n.addOnCommittedListener(()=>{this.te(r.batchId)}),Te.forEach(a,l=>this.referenceDelegate.markPotentiallyOrphaned(n,l))))}te(n){delete this.Jt[n]}performConsistencyCheck(n){return this.checkEmpty(n).next(r=>{if(!r)return Te.resolve();const a=IDBKeyRange.lowerBound(vr.prefixForUser(this.userId)),l=[];return Cd(n).Kt({range:a},(f,_,w)=>{if(f[0]===this.userId){const T=Un(f[1]);l.push(T)}else w.done()}).next(()=>{ot(0===l.length)})})}containsKey(n,r){return UI(n,this.userId,r)}ee(n){return bd(n).get(this.userId).next(r=>r||new Ko(this.userId,-1,""))}}function UI(i,n,r){const a=vr.prefixForPath(n,r.path),l=a[1],f=IDBKeyRange.lowerBound(a);let _=!1;return Cd(i).Kt({range:f,qt:!0},(w,T,S)=>{const[M,k,z]=w;M===n&&k===l&&(_=!0),S.done()}).next(()=>_)}function Va(i){return rr(i,cn.store)}function Cd(i){return rr(i,vr.store)}function bd(i){return rr(i,Ko.store)}class bl{constructor(n){this.ne=n}next(){return this.ne+=2,this.ne}static se(){return new bl(0)}static ie(){return new bl(-1)}}class Ox{constructor(n,r){this.referenceDelegate=n,this.N=r}allocateTargetId(n){return this.re(n).next(r=>{const a=new bl(r.highestTargetId);return r.highestTargetId=a.next(),this.oe(n,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(n){return this.re(n).next(r=>ht.fromTimestamp(new nr(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(n){return this.re(n).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(n,r,a){return this.re(n).next(l=>(l.highestListenSequenceNumber=r,a&&(l.lastRemoteSnapshotVersion=a.toTimestamp()),r>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=r),this.oe(n,l)))}addTargetData(n,r){return this.ae(n,r).next(()=>this.re(n).next(a=>(a.targetCount+=1,this.ce(r,a),this.oe(n,a))))}updateTargetData(n,r){return this.ae(n,r)}removeTargetData(n,r){return this.removeMatchingKeysForTargetId(n,r.targetId).next(()=>wl(n).delete(r.targetId)).next(()=>this.re(n)).next(a=>(ot(a.targetCount>0),a.targetCount-=1,this.oe(n,a)))}removeTargets(n,r,a){let l=0;const f=[];return wl(n).Kt((_,w)=>{const T=Ep(w);T.sequenceNumber<=r&&null===a.get(T.targetId)&&(l++,f.push(this.removeTargetData(n,T)))}).next(()=>Te.waitFor(f)).next(()=>l)}forEachTarget(n,r){return wl(n).Kt((a,l)=>{const f=Ep(l);r(f)})}re(n){return wd(n).get(di.key).next(r=>(ot(null!==r),r))}oe(n,r){return wd(n).put(di.key,r)}ae(n,r){return wl(n).put(PI(this.N,r))}ce(n,r){let a=!1;return n.targetId>r.highestTargetId&&(r.highestTargetId=n.targetId,a=!0),n.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=n.sequenceNumber,a=!0),a}getTargetCount(n){return this.re(n).next(r=>r.targetCount)}getTargetData(n,r){const a=od(r),l=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let f=null;return wl(n).Kt({range:l,index:Bn.queryTargetsIndexName},(_,w,T)=>{const S=Ep(w);ad(r,S.target)&&(f=S,T.done())}).next(()=>f)}addMatchingKeys(n,r,a){const l=[],f=El(n);return r.forEach(_=>{const w=ro(_.path);l.push(f.put(new Cr(a,w))),l.push(this.referenceDelegate.addReference(n,a,_))}),Te.waitFor(l)}removeMatchingKeys(n,r,a){const l=El(n);return Te.forEach(r,f=>{const _=ro(f.path);return Te.waitFor([l.delete([a,_]),this.referenceDelegate.removeReference(n,a,f)])})}removeMatchingKeysForTargetId(n,r){const a=El(n),l=IDBKeyRange.bound([r],[r+1],!1,!0);return a.delete(l)}getMatchingKeysForTargetId(n,r){const a=IDBKeyRange.bound([r],[r+1],!1,!0),l=El(n);let f=Ht();return l.Kt({range:a,qt:!0},(_,w,T)=>{const S=Un(_[1]),M=new Ye(S);f=f.add(M)}).next(()=>f)}containsKey(n,r){const a=ro(r.path),l=IDBKeyRange.bound([a],[iI(a)],!1,!0);let f=0;return El(n).Kt({index:Cr.documentTargetsIndex,qt:!0,range:l},([_,w],T,S)=>{0!==_&&(f++,S.done())}).next(()=>f>0)}Et(n,r){return wl(n).get(r).next(a=>a?Ep(a):null)}}function wl(i){return rr(i,Bn.store)}function wd(i){return rr(i,di.store)}function El(i){return rr(i,Cr.store)}function Ua(i){return $0.apply(this,arguments)}function $0(){return($0=(0,ve.Z)(function*(i){if(i.code!==te.FAILED_PRECONDITION||i.message!==MI)throw i;de("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function BI([i,n],[r,a]){const l=vt(i,r);return 0===l?vt(n,a):l}class Rx{constructor(n){this.ue=n,this.buffer=new xn(BI),this.he=0}le(){return++this.he}fe(n){const r=[n,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(r);else{const a=this.buffer.last();BI(r,a)<0&&(this.buffer=this.buffer.delete(a).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Px{constructor(n,r){this.garbageCollector=n,this.asyncQueue=r,this.de=!1,this.we=null}start(n){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(n)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(n){var r=this;const a=this.de?3e5:6e4;de("LruGarbageCollector",`Garbage collection scheduled in ${a}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",a,(0,ve.Z)(function*(){r.we=null,r.de=!0;try{yield n.collectGarbage(r.garbageCollector)}catch(l){Jo(l)?de("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",l):yield Ua(l)}yield r._e(n)}))}}class kx{constructor(n,r){this.me=n,this.params=r}calculateTargetCount(n,r){return this.me.ge(n).next(a=>Math.floor(r/100*a))}nthSequenceNumber(n,r){if(0===r)return Te.resolve(Ti.T);const a=new Rx(r);return this.me.forEachTarget(n,l=>a.fe(l.sequenceNumber)).next(()=>this.me.ye(n,l=>a.fe(l))).next(()=>a.maxValue)}removeTargets(n,r,a){return this.me.removeTargets(n,r,a)}removeOrphanedDocuments(n,r){return this.me.removeOrphanedDocuments(n,r)}collect(n,r){return-1===this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector","Garbage collection skipped; disabled"),Te.resolve(LI)):this.getCacheSize(n).next(a=>a<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),LI):this.pe(n,r))}getCacheSize(n){return this.me.getCacheSize(n)}pe(n,r){let a,l,f,_,w,T,S;const M=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(k=>(k>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${k}`),l=this.params.maximumSequenceNumbersToCollect):l=k,_=Date.now(),this.nthSequenceNumber(n,l))).next(k=>(a=k,w=Date.now(),this.removeTargets(n,a,r))).next(k=>(f=k,T=Date.now(),this.removeOrphanedDocuments(n,a))).next(k=>(S=Date.now(),Km()<=Ku.in.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${_-M}ms\n\tDetermined least recently used ${l} in `+(w-_)+`ms\n\tRemoved ${f} targets in `+(T-w)+`ms\n\tRemoved ${k} documents in `+(S-T)+`ms\nTotal Duration: ${S-M}ms`),Te.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:f,documentsRemoved:k})))}}class jI{constructor(n,r){this.db=n,this.garbageCollector=new kx(this,r)}ge(n){const r=this.Ee(n);return this.db.getTargetCache().getTargetCount(n).next(a=>r.next(l=>a+l))}Ee(n){let r=0;return this.ye(n,a=>{r++}).next(()=>r)}forEachTarget(n,r){return this.db.getTargetCache().forEachTarget(n,r)}ye(n,r){return this.Te(n,(a,l)=>r(l))}addReference(n,r,a){return v_(n,a)}removeReference(n,r,a){return v_(n,a)}removeTargets(n,r,a){return this.db.getTargetCache().removeTargets(n,r,a)}markPotentiallyOrphaned(n,r){return v_(n,r)}Ie(n,r){return function(a,l){let f=!1;return bd(a).jt(_=>UI(a,_,l).next(w=>(w&&(f=!0),Te.resolve(!w)))).next(()=>f)}(n,r)}removeOrphanedDocuments(n,r){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let f=0;return this.Te(n,(_,w)=>{if(w<=r){const T=this.Ie(n,_).next(S=>{if(!S)return f++,a.getEntry(n,_).next(()=>(a.removeEntry(_),El(n).delete([0,ro(_.path)])))});l.push(T)}}).next(()=>Te.waitFor(l)).next(()=>a.apply(n)).next(()=>f)}removeTarget(n,r){const a=r.withSequenceNumber(n.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(n,a)}updateLimboDocument(n,r){return v_(n,r)}Te(n,r){const a=El(n);let l,f=Ti.T;return a.Kt({index:Cr.documentTargetsIndex},([_,w],{path:T,sequenceNumber:S})=>{0===_?(f!==Ti.T&&r(new Ye(Un(l)),f),f=S,l=T):f=Ti.T}).next(()=>{f!==Ti.T&&r(new Ye(Un(l)),f)})}getCacheSize(n){return this.db.getRemoteDocumentCache().getSize(n)}}function v_(i,n){return El(i).put((a=i.currentSequenceNumber,new Cr(0,ro(n.path),a)));var a}class Ed{constructor(n,r){this.mapKeyFn=n,this.equalsFn=r,this.inner={}}get(n){const r=this.mapKeyFn(n),a=this.inner[r];if(void 0!==a)for(const[l,f]of a)if(this.equalsFn(l,n))return f}has(n){return void 0!==this.get(n)}set(n,r){const a=this.mapKeyFn(n),l=this.inner[a];if(void 0!==l){for(let f=0;f<l.length;f++)if(this.equalsFn(l[f][0],n))return void(l[f]=[n,r]);l.push([n,r])}else this.inner[a]=[[n,r]]}delete(n){const r=this.mapKeyFn(n),a=this.inner[r];if(void 0===a)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],n))return 1===a.length?delete this.inner[r]:a.splice(l,1),!0;return!1}forEach(n){Na(this.inner,(r,a)=>{for(const[l,f]of a)n(l,f)})}isEmpty(){return a0(this.inner)}}class Fx{constructor(){this.changes=new Ed(n=>n.toString(),(n,r)=>n.isEqual(r)),this.changesApplied=!1}getReadTime(n){const r=this.changes.get(n);return r?r.readTime:ht.min()}addEntry(n,r){this.assertNotApplied(),this.changes.set(n.key,{document:n,readTime:r})}removeEntry(n,r=null){this.assertNotApplied(),this.changes.set(n,{document:bn.newInvalidDocument(n),readTime:r})}getEntry(n,r){this.assertNotApplied();const a=this.changes.get(r);return void 0!==a?Te.resolve(a.document):this.getFromCache(n,r)}getEntries(n,r){return this.getAllFromCache(n,r)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class NS{constructor(n,r){this.N=n,this.Ht=r}addEntry(n,r,a){return Ba(n).put(b_(r),a)}removeEntry(n,r){const a=Ba(n),l=b_(r);return a.delete(l)}updateMetadata(n,r){return this.getMetadata(n).next(a=>(a.byteSize+=r,this.Ae(n,a)))}getEntry(n,r){return Ba(n).get(b_(r)).next(a=>this.Re(r,a))}be(n,r){return Ba(n).get(b_(r)).next(a=>({document:this.Re(r,a),size:y_(a)}))}getEntries(n,r){let a=zr();return this.Pe(n,r,(l,f)=>{const _=this.Re(l,f);a=a.insert(l,_)}).next(()=>a)}ve(n,r){let a=zr(),l=new Yn(Ye.comparator);return this.Pe(n,r,(f,_)=>{const w=this.Re(f,_);a=a.insert(f,w),l=l.insert(f,y_(_))}).next(()=>({documents:a,Ve:l}))}Pe(n,r,a){if(r.isEmpty())return Te.resolve();const l=IDBKeyRange.bound(r.first().path.toArray(),r.last().path.toArray()),f=r.getIterator();let _=f.getNext();return Ba(n).Kt({range:l},(w,T,S)=>{const M=Ye.fromSegments(w);for(;_&&Ye.comparator(_,M)<0;)a(_,null),_=f.getNext();_&&_.isEqual(M)&&(a(_,T),_=f.hasNext()?f.getNext():null),_?S.Mt(_.path.toArray()):S.done()}).next(()=>{for(;_;)a(_,null),_=f.hasNext()?f.getNext():null})}getDocumentsMatchingQuery(n,r,a){let l=zr();const f=r.path.length+1,_={};if(a.isEqual(ht.min())){const w=r.path.toArray();_.range=IDBKeyRange.lowerBound(w)}else{const w=r.path.toArray(),T=ir(a);_.range=IDBKeyRange.lowerBound([w,T],!0),_.index=en.collectionReadTimeIndex}return Ba(n).Kt(_,(w,T,S)=>{if(w.length!==f)return;const M=NI(this.N,T);r.path.isPrefixOf(M.key.path)?pl(r,M)&&(l=l.insert(M.key,M)):S.done()}).next(()=>l)}newChangeBuffer(n){return new OS(this,!!n&&n.trackRemovals)}getSize(n){return this.getMetadata(n).next(r=>r.byteSize)}getMetadata(n){return C_(n).get(io.key).next(r=>(ot(!!r),r))}Ae(n,r){return C_(n).put(io.key,r)}Re(n,r){if(r){const a=NI(this.N,r);if(!a.isNoDocument()||!a.version.isEqual(ht.min()))return a}return bn.newInvalidDocument(n)}}class OS extends Fx{constructor(n,r){super(),this.Se=n,this.trackRemovals=r,this.De=new Ed(a=>a.toString(),(a,l)=>a.isEqual(l))}applyChanges(n){const r=[];let a=0,l=new xn((f,_)=>vt(f.canonicalString(),_.canonicalString()));return this.changes.forEach((f,_)=>{const w=this.De.get(f);if(_.document.isValidDocument()){const T=OI(this.Se.N,_.document,this.getReadTime(f));l=l.add(f.path.popLast()),a+=y_(T)-w,r.push(this.Se.addEntry(n,f,T))}else if(a-=w,this.trackRemovals){const T=OI(this.Se.N,bn.newNoDocument(f,ht.min()),this.getReadTime(f));r.push(this.Se.addEntry(n,f,T))}else r.push(this.Se.removeEntry(n,f))}),l.forEach(f=>{r.push(this.Se.Ht.addToCollectionParentIndex(n,f))}),r.push(this.Se.updateMetadata(n,a)),Te.waitFor(r)}getFromCache(n,r){return this.Se.be(n,r).next(a=>(this.De.set(r,a.size),a.document))}getAllFromCache(n,r){return this.Se.ve(n,r).next(({documents:a,Ve:l})=>(l.forEach((f,_)=>{this.De.set(f,_)}),a))}}function C_(i){return rr(i,io.store)}function Ba(i){return rr(i,en.store)}function b_(i){return i.path.toArray()}class Lx{constructor(n){this.N=n}Ct(n,r,a,l){ot(a<l&&a>=0&&l<=11);const f=new bp("createOrUpgrade",r);var w;a<1&&l>=1&&(n.createObjectStore(Tn.store),(w=n).createObjectStore(Ko.store,{keyPath:Ko.keyPath}),w.createObjectStore(cn.store,{keyPath:cn.keyPath,autoIncrement:!0}).createIndex(cn.userMutationsIndex,cn.userMutationsKeyPath,{unique:!0}),w.createObjectStore(vr.store),HI(n),function(w){w.createObjectStore(en.store)}(n));let _=Te.resolve();return a<3&&l>=3&&(0!==a&&(function(w){w.deleteObjectStore(Cr.store),w.deleteObjectStore(Bn.store),w.deleteObjectStore(di.store)}(n),HI(n)),_=_.next(()=>function(w){const T=w.store(di.store),S=new di(0,0,ht.min().toTimestamp(),0);return T.put(di.key,S)}(f))),a<4&&l>=4&&(0!==a&&(_=_.next(()=>function(w,T){return T.store(cn.store).Lt().next(S=>{w.deleteObjectStore(cn.store),w.createObjectStore(cn.store,{keyPath:cn.keyPath,autoIncrement:!0}).createIndex(cn.userMutationsIndex,cn.userMutationsKeyPath,{unique:!0});const M=T.store(cn.store),k=S.map(z=>M.put(z));return Te.waitFor(k)})}(n,f))),_=_.next(()=>{!function(w){w.createObjectStore(Di.store,{keyPath:Di.keyPath})}(n)})),a<5&&l>=5&&(_=_.next(()=>this.Ce(f))),a<6&&l>=6&&(_=_.next(()=>(function(w){w.createObjectStore(io.store)}(n),this.Ne(f)))),a<7&&l>=7&&(_=_.next(()=>this.xe(f))),a<8&&l>=8&&(_=_.next(()=>this.ke(n,f))),a<9&&l>=9&&(_=_.next(()=>{(function(w){w.objectStoreNames.contains("remoteDocumentChanges")&&w.deleteObjectStore("remoteDocumentChanges")})(n),function(w){const T=w.objectStore(en.store);T.createIndex(en.readTimeIndex,en.readTimeIndexPath,{unique:!1}),T.createIndex(en.collectionReadTimeIndex,en.collectionReadTimeIndexPath,{unique:!1})}(r)})),a<10&&l>=10&&(_=_.next(()=>this.$e(f))),a<11&&l>=11&&(_=_.next(()=>{(function(w){w.createObjectStore(ka.store,{keyPath:ka.keyPath})})(n),function(w){w.createObjectStore(Cl.store,{keyPath:Cl.keyPath})}(n)})),_}Ne(n){let r=0;return n.store(en.store).Kt((a,l)=>{r+=y_(l)}).next(()=>{const a=new io(r);return n.store(io.store).put(io.key,a)})}Ce(n){const r=n.store(Ko.store),a=n.store(cn.store);return r.Lt().next(l=>Te.forEach(l,f=>{const _=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return a.Lt(cn.userMutationsIndex,_).next(w=>Te.forEach(w,T=>{ot(T.userId===f.userId);const S=vd(this.N,T);return VI(n,f.userId,S).next(()=>{})}))}))}xe(n){const r=n.store(Cr.store),a=n.store(en.store);return n.store(di.store).get(di.key).next(l=>{const f=[];return a.Kt((_,w)=>{const T=new xt(_),S=[0,ro(T)];f.push(r.get(S).next(M=>M?Te.resolve():r.put(new Cr(0,ro(T),l.highestListenSequenceNumber))))}).next(()=>Te.waitFor(f))})}ke(n,r){n.createObjectStore(Yo.store,{keyPath:Yo.keyPath});const a=r.store(Yo.store),l=new H0,f=_=>{if(l.add(_)){const w=_.lastSegment(),T=_.popLast();return a.put({collectionId:w,parent:ro(T)})}};return r.store(en.store).Kt({qt:!0},(_,w)=>{const T=new xt(_);return f(T.popLast())}).next(()=>r.store(vr.store).Kt({qt:!0},([_,w,T],S)=>{const M=Un(w);return f(M.popLast())}))}$e(n){const r=n.store(Bn.store);return r.Kt((a,l)=>{const f=Ep(l),_=PI(this.N,f);return r.put(_)})}}function HI(i){i.createObjectStore(Cr.store,{keyPath:Cr.keyPath}).createIndex(Cr.documentTargetsIndex,Cr.documentTargetsKeyPath,{unique:!0}),i.createObjectStore(Bn.store,{keyPath:Bn.keyPath}).createIndex(Bn.queryTargetsIndexName,Bn.queryTargetsKeyPath,{unique:!0}),i.createObjectStore(di.store)}const q0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class G0{constructor(n,r,a,l,f,_,w,T,S,M){if(this.allowTabSynchronization=n,this.persistenceKey=r,this.clientId=a,this.Oe=f,this.window=_,this.document=w,this.Fe=S,this.Me=M,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=k=>Promise.resolve(),!G0.bt())throw new Ae(te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new jI(this,l),this.We=r+"main",this.N=new Sx(T),this.Ge=new Hi(this.We,11,new Lx(this.N)),this.ze=new Ox(this.referenceDelegate,this.N),this.Ht=new FI,this.He=new NS(this.N,this.Ht),this.Je=new Mx,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===M&&Fn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ae(te.FAILED_PRECONDITION,q0);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",n=>this.ze.getHighestSequenceNumber(n))}).then(n=>{this.Le=new Ti(n,this.Fe)}).then(()=>{this.Be=!0}).catch(n=>(this.Ge&&this.Ge.close(),Promise.reject(n)))}nn(n){var r=this;return this.Qe=function(){var a=(0,ve.Z)(function*(l){if(r.started)return n(l)});return function(l){return a.apply(this,arguments)}}(),n(this.isPrimary)}setDatabaseDeletedListener(n){this.Ge.xt(function(){var r=(0,ve.Z)(function*(a){null===a.newVersion&&(yield n())});return function(a){return r.apply(this,arguments)}}())}setNetworkEnabled(n){var r=this;this.networkEnabled!==n&&(this.networkEnabled=n,this.Oe.enqueueAndForget((0,ve.Z)(function*(){r.started&&(yield r.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",n=>Td(n).put(new Di(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(n).next(r=>{r||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(n)).next(r=>this.isPrimary&&!r?this.on(n).next(()=>!1):!!r&&this.an(n).next(()=>!0))).catch(n=>{if(Jo(n))return de("IndexedDbPersistence","Failed to extend owner lease: ",n),this.isPrimary;if(!this.allowTabSynchronization)throw n;return de("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(n=>{this.isPrimary!==n&&this.Oe.enqueueRetryable(()=>this.Qe(n)),this.isPrimary=n})}sn(n){return Id(n).get(Tn.key).next(r=>Te.resolve(this.cn(r)))}un(n){return Td(n).delete(this.clientId)}hn(){var n=this;return(0,ve.Z)(function*(){if(n.isPrimary&&!n.ln(n.je,18e5)){n.je=Date.now();const r=yield n.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{const l=rr(a,Di.store);return l.Lt().next(f=>{const _=n.fn(f,18e5),w=f.filter(T=>-1===_.indexOf(T));return Te.forEach(w,T=>l.delete(T.clientId)).next(()=>w)})}).catch(()=>[]);if(n.Ye)for(const a of r)n.Ye.removeItem(n.dn(a.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(n){return!!n&&n.ownerId===this.clientId}rn(n){return this.Me?Te.resolve(!0):Id(n).get(Tn.key).next(r=>{if(null!==r&&this.ln(r.leaseTimestampMs,5e3)&&!this.wn(r.ownerId)){if(this.cn(r)&&this.networkEnabled)return!0;if(!this.cn(r)){if(!r.allowTabSynchronization)throw new Ae(te.FAILED_PRECONDITION,q0);return!1}}return!(!this.networkEnabled||!this.inForeground)||Td(n).Lt().next(a=>void 0===this.fn(a,5e3).find(l=>{if(this.clientId!==l.clientId){const _=!this.inForeground&&l.inForeground,w=this.networkEnabled===l.networkEnabled;if(!this.networkEnabled&&l.networkEnabled||_&&w)return!0}return!1}))}).next(r=>(this.isPrimary!==r&&de("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var n=this;return(0,ve.Z)(function*(){n.Be=!1,n._n(),n.Ke&&(n.Ke.cancel(),n.Ke=null),n.mn(),n.gn(),yield n.Ge.runTransaction("shutdown","readwrite",[Tn.store,Di.store],r=>{const a=new xx(r,Ti.T);return n.on(a).next(()=>n.un(a))}),n.Ge.close(),n.yn()})()}fn(n,r){return n.filter(a=>this.ln(a.updateTimeMs,r)&&!this.wn(a.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",n=>Td(n).Lt().next(r=>this.fn(r,18e5).map(a=>a.clientId)))}get started(){return this.Be}getMutationQueue(n){return Z0.Yt(n,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(n,r,a){let f;return de("IndexedDbPersistence","Starting transaction:",n),this.Ge.runTransaction(n,"readonly"===r?"readonly":"readwrite",md,_=>(f=new xx(_,this.Le?this.Le.next():Ti.T),"readwrite-primary"===r?this.sn(f).next(w=>!!w||this.rn(f)).next(w=>{if(!w)throw Fn(`Failed to obtain primary lease for action '${n}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Ae(te.FAILED_PRECONDITION,MI);return a(f)}).next(w=>this.an(f).next(()=>w)):this.En(f).next(()=>a(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}En(n){return Id(n).get(Tn.key).next(r=>{if(null!==r&&this.ln(r.leaseTimestampMs,5e3)&&!this.wn(r.ownerId)&&!this.cn(r)&&!(this.Me||this.allowTabSynchronization&&r.allowTabSynchronization))throw new Ae(te.FAILED_PRECONDITION,q0)})}an(n){const r=new Tn(this.clientId,this.allowTabSynchronization,Date.now());return Id(n).put(Tn.key,r)}static bt(){return Hi.bt()}on(n){const r=Id(n);return r.get(Tn.key).next(a=>this.cn(a)?(de("IndexedDbPersistence","Releasing primary lease."),r.delete(Tn.key)):Te.resolve())}ln(n,r){const a=Date.now();return!(n<a-r||n>a&&(Fn(`Detected an update time that is in the future: ${n} > ${a}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var n;"function"==typeof(null===(n=this.window)||void 0===n?void 0:n.addEventListener)&&(this.Ue=()=>{this._n(),(0,Pt.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(n){var r;try{const a=null!==(null===(r=this.Ye)||void 0===r?void 0:r.getItem(this.dn(n)));return de("IndexedDbPersistence",`Client '${n}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return Fn("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(n){Fn("Failed to set zombie client id.",n)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(n){}}dn(n){return`firestore_zombie_${this.persistenceKey}_${n}`}}function Id(i){return rr(i,Tn.store)}function Td(i){return rr(i,Di.store)}function z0(i,n){let r=i.projectId;return i.isDefaultDatabase||(r+="."+i.database),"firestore/"+n+"/"+r+"/"}class Dd{constructor(n,r){this.progress=n,this.Tn=r}}class br{constructor(n,r,a){this.He=n,this.In=r,this.Ht=a}An(n,r){return this.In.getAllMutationBatchesAffectingDocumentKey(n,r).next(a=>this.Rn(n,r,a))}Rn(n,r,a){return this.He.getEntry(n,r).next(l=>{for(const f of a)f.applyToLocalView(l);return l})}bn(n,r){n.forEach((a,l)=>{for(const f of r)f.applyToLocalView(l)})}Pn(n,r){return this.He.getEntries(n,r).next(a=>this.vn(n,a).next(()=>a))}vn(n,r){return this.In.getAllMutationBatchesAffectingDocumentKeys(n,r).next(a=>this.bn(r,a))}getDocumentsMatchingQuery(n,r,a){return Ye.isDocumentKey((l=r).path)&&null===l.collectionGroup&&0===l.filters.length?this.Vn(n,r.path):v0(r)?this.Sn(n,r,a):this.Dn(n,r,a);var l}Vn(n,r){return this.An(n,new Ye(r)).next(a=>{let l=S0();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l})}Sn(n,r,a){const l=r.collectionGroup;let f=S0();return this.Ht.getCollectionParents(n,l).next(_=>Te.forEach(_,w=>{const T=(S=r,M=w.child(l),new eo(M,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt));var S,M;return this.Dn(n,T,a).next(S=>{S.forEach((M,k)=>{f=f.insert(M,k)})})}).next(()=>f))}Dn(n,r,a){let l,f;return this.He.getDocumentsMatchingQuery(n,r,a).next(_=>(l=_,this.In.getAllMutationBatchesAffectingQuery(n,r))).next(_=>(f=_,this.Cn(n,f,l).next(w=>{l=w;for(const T of f)for(const S of T.mutations){const M=S.key;let k=l.get(M);null==k&&(k=bn.newInvalidDocument(M),l=l.insert(M,k)),I0(S,k,T.localWriteTime),k.isFoundDocument()||(l=l.remove(M))}}))).next(()=>(l.forEach((_,w)=>{pl(r,w)||(l=l.remove(_))}),l))}Cn(n,r,a){let l=Ht();for(const _ of r)for(const w of _.mutations)w instanceof to&&null===a.get(w.key)&&(l=l.add(w.key));let f=a;return this.He.getEntries(n,l).next(_=>(_.forEach((w,T)=>{T.isFoundDocument()&&(f=f.insert(w,T))}),f))}}class w_{constructor(n,r,a,l){this.targetId=n,this.fromCache=r,this.Nn=a,this.xn=l}static kn(n,r){let a=Ht(),l=Ht();for(const f of r.docChanges)switch(f.type){case 0:a=a.add(f.doc.key);break;case 1:l=l.add(f.doc.key)}return new w_(n,r.fromCache,a,l)}}class Zi{$n(n){this.On=n}getDocumentsMatchingQuery(n,r,a,l){return 0===(f=r).filters.length&&null===f.limit&&null==f.startAt&&null==f.endAt&&(0===f.explicitOrderBy.length||1===f.explicitOrderBy.length&&f.explicitOrderBy[0].field.isKeyField())||a.isEqual(ht.min())?this.Fn(n,r):this.On.Pn(n,l).next(f=>{const _=this.Mn(r,f);return(i_(r)||up(r))&&this.Ln(r.limitType,_,l,a)?this.Fn(n,r):(Km()<=Ku.in.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),b0(r)),this.On.getDocumentsMatchingQuery(n,r,a).next(w=>(_.forEach(T=>{w=w.insert(T.key,T)}),w)))});var f}Mn(n,r){let a=new xn(gI(n));return r.forEach((l,f)=>{pl(n,f)&&(a=a.add(f))}),a}Ln(n,r,a,l){if(a.size!==r.size)return!0;const f="F"===n?r.last():r.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(l)>0)}Fn(n,r){return Km()<=Ku.in.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",b0(r)),this.On.getDocumentsMatchingQuery(n,r,ht.min())}}class W0{constructor(n,r,a,l){this.persistence=n,this.Bn=r,this.N=l,this.Un=new Yn(vt),this.qn=new Ed(f=>od(f),ad),this.Kn=ht.min(),this.In=n.getMutationQueue(a),this.jn=n.getRemoteDocumentCache(),this.ze=n.getTargetCache(),this.Qn=new br(this.jn,this.In,this.persistence.getIndexManager()),this.Je=n.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>n.collect(r,this.Un))}}function ZI(i,n,r,a){return new W0(i,n,r,a)}function K0(i,n){return E_.apply(this,arguments)}function E_(){return(E_=(0,ve.Z)(function*(i,n){const r=ke(i);let a=r.In,l=r.Qn;const f=yield r.persistence.runTransaction("Handle user change","readonly",_=>{let w;return r.In.getAllMutationBatches(_).next(T=>(w=T,a=r.persistence.getMutationQueue(n),l=new br(r.jn,a,r.persistence.getIndexManager()),a.getAllMutationBatches(_))).next(T=>{const S=[],M=[];let k=Ht();for(const z of w){S.push(z.batchId);for(const K of z.mutations)k=k.add(K.key)}for(const z of T){M.push(z.batchId);for(const K of z.mutations)k=k.add(K.key)}return l.Pn(_,k).next(z=>({Wn:z,removedBatchIds:S,addedBatchIds:M}))})});return r.In=a,r.Qn=l,r.Bn.$n(r.Qn),f})).apply(this,arguments)}function $I(i,n){const r=ke(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const l=n.batch.keys(),f=r.jn.newChangeBuffer({trackRemovals:!0});return function(_,w,T,S){const M=T.batch,k=M.keys();let z=Te.resolve();return k.forEach(K=>{z=z.next(()=>S.getEntry(w,K)).next(Ce=>{const Re=T.docVersions.get(K);ot(null!==Re),Ce.version.compareTo(Re)<0&&(M.applyToRemoteDocument(Ce,T),Ce.isValidDocument()&&S.addEntry(Ce,T.commitVersion))})}),z.next(()=>_.In.removeMutationBatch(w,M))}(r,a,n,f).next(()=>f.apply(a)).next(()=>r.In.performConsistencyCheck(a)).next(()=>r.Qn.Pn(a,l))})}function qI(i){const n=ke(i);return n.persistence.runTransaction("Get last remote snapshot version","readonly",r=>n.ze.getLastRemoteSnapshotVersion(r))}function Vx(i,n){const r=ke(i),a=n.snapshotVersion;let l=r.Un;return r.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const _=r.jn.newChangeBuffer({trackRemovals:!0});l=r.Un;const w=[];n.targetChanges.forEach((S,M)=>{const k=l.get(M);if(!k)return;w.push(r.ze.removeMatchingKeys(f,S.removedDocuments,M).next(()=>r.ze.addMatchingKeys(f,S.addedDocuments,M)));const z=S.resumeToken;if(z.approximateByteSize()>0){const K=k.withResumeToken(z,a).withSequenceNumber(f.currentSequenceNumber);l=l.insert(M,K),Ce=k,qe=S,ot((Re=K).resumeToken.approximateByteSize()>0),(0===Ce.resumeToken.approximateByteSize()||Re.snapshotVersion.toMicroseconds()-Ce.snapshotVersion.toMicroseconds()>=3e8||qe.addedDocuments.size+qe.modifiedDocuments.size+qe.removedDocuments.size>0)&&w.push(r.ze.updateTargetData(f,K))}var Ce,Re,qe});let T=zr();if(n.documentUpdates.forEach((S,M)=>{n.resolvedLimboDocuments.has(S)&&w.push(r.persistence.referenceDelegate.updateLimboDocument(f,S))}),w.push(GI(f,_,n.documentUpdates,a,void 0).next(S=>{T=S})),!a.isEqual(ht.min())){const S=r.ze.getLastRemoteSnapshotVersion(f).next(M=>r.ze.setTargetsMetadata(f,f.currentSequenceNumber,a));w.push(S)}return Te.waitFor(w).next(()=>_.apply(f)).next(()=>r.Qn.vn(f,T)).next(()=>T)}).then(f=>(r.Un=l,f))}function GI(i,n,r,a,l){let f=Ht();return r.forEach(_=>f=f.add(_)),n.getEntries(i,f).next(_=>{let w=zr();return r.forEach((T,S)=>{const M=_.get(T),k=(null==l?void 0:l.get(T))||a;S.isNoDocument()&&S.version.isEqual(ht.min())?(n.removeEntry(T,k),w=w.insert(T,S)):!M.isValidDocument()||S.version.compareTo(M.version)>0||0===S.version.compareTo(M.version)&&M.hasPendingWrites?(n.addEntry(S,k),w=w.insert(T,S)):de("LocalStore","Ignoring outdated watch update for ",T,". Current version:",M.version," Watch version:",S.version)}),w})}function zI(i,n){const r=ke(i);return r.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===n&&(n=-1),r.In.getNextMutationBatchAfterBatchId(a,n)))}function Ad(i,n){const r=ke(i);return r.persistence.runTransaction("Allocate target","readwrite",a=>{let l;return r.ze.getTargetData(a,n).next(f=>f?(l=f,Te.resolve(l)):r.ze.allocateTargetId(a).next(_=>(l=new Fa(n,_,0,a.currentSequenceNumber),r.ze.addTargetData(a,l).next(()=>l))))}).then(a=>{const l=r.Un.get(a.targetId);return(null===l||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(r.Un=r.Un.insert(a.targetId,a),r.qn.set(n,a.targetId)),a})}function Ip(i,n,r){return Y0.apply(this,arguments)}function Y0(){return(Y0=(0,ve.Z)(function*(i,n,r){const a=ke(i),l=a.Un.get(n),f=r?"readwrite":"readwrite-primary";try{r||(yield a.persistence.runTransaction("Release target",f,_=>a.persistence.referenceDelegate.removeTarget(_,l)))}catch(_){if(!Jo(_))throw _;de("LocalStore",`Failed to update sequence numbers for target ${n}: ${_}`)}a.Un=a.Un.remove(n),a.qn.delete(l.target)})).apply(this,arguments)}function I_(i,n,r){const a=ke(i);let l=ht.min(),f=Ht();return a.persistence.runTransaction("Execute query","readonly",_=>function(w,T,S){const M=ke(w),k=M.qn.get(S);return void 0!==k?Te.resolve(M.Un.get(k)):M.ze.getTargetData(T,S)}(a,_,li(n)).next(w=>{if(w)return l=w.lastLimboFreeSnapshotVersion,a.ze.getMatchingKeysForTargetId(_,w.targetId).next(T=>{f=T})}).next(()=>a.Bn.getDocumentsMatchingQuery(_,n,r?l:ht.min(),r?f:Ht())).next(w=>({documents:w,Gn:f})))}function Il(i,n){const r=ke(i),a=ke(r.ze),l=r.Un.get(n);return l?Promise.resolve(l.target):r.persistence.runTransaction("Get target data","readonly",f=>a.Et(f,n).next(_=>_?_.target:null))}function Ux(i){const n=ke(i);return n.persistence.runTransaction("Get new document changes","readonly",r=>function(a,l,f){const _=ke(a);let w=zr(),T=ir(f);const S=Ba(l),M=IDBKeyRange.lowerBound(T,!0);return S.Kt({index:en.readTimeIndex,range:M},(k,z)=>{const K=NI(_.N,z);w=w.insert(K.key,K),T=z.readTime}).next(()=>({Tn:w,readTime:RI(T)}))}(n.jn,r,n.Kn)).then(({Tn:r,readTime:a})=>(n.Kn=a,r))}function J0(){return(J0=(0,ve.Z)(function*(i){const n=ke(i);return n.persistence.runTransaction("Synchronize last document change read time","readonly",r=>function(a){const l=Ba(a);let f=ht.min();return l.Kt({index:en.readTimeIndex,reverse:!0},(_,w,T)=>{w.readTime&&(f=RI(w.readTime)),T.done()}).next(()=>f)}(r)).then(r=>{n.Kn=r})})).apply(this,arguments)}function T_(){return(T_=(0,ve.Z)(function*(i,n,r,a){const l=ke(i);let f=Ht(),_=zr(),w=mx();for(const M of r){const k=n.zn(M.metadata.name);M.document&&(f=f.add(k)),_=_.insert(k,n.Hn(M)),w=w.insert(k,n.Jn(M.metadata.readTime))}const T=l.jn.newChangeBuffer({trackRemovals:!0}),S=yield Ad(l,(M=a,li(ld(xt.fromString(`__bundle__/docs/${M}`)))));var M;return l.persistence.runTransaction("Apply bundle documents","readwrite",M=>GI(M,T,_,ht.min(),w).next(k=>(T.apply(M),k)).next(k=>l.ze.removeMatchingKeysForTargetId(M,S.targetId).next(()=>l.ze.addMatchingKeys(M,f,S.targetId)).next(()=>l.Qn.vn(M,k)).next(()=>k)))})).apply(this,arguments)}function Bx(i,n){return Tp.apply(this,arguments)}function Tp(){return(Tp=(0,ve.Z)(function*(i,n,r=Ht()){const a=yield Ad(i,li(j0(n.bundledQuery))),l=ke(i);return l.persistence.runTransaction("Save named query","readwrite",f=>{const _=_r(n.readTime);if(a.snapshotVersion.compareTo(_)>=0)return l.Je.saveNamedQuery(f,n);const w=a.withResumeToken(Kn.EMPTY_BYTE_STRING,_);return l.Un=l.Un.insert(w.targetId,w),l.ze.updateTargetData(f,w).next(()=>l.ze.removeMatchingKeysForTargetId(f,a.targetId)).next(()=>l.ze.addMatchingKeys(f,r,a.targetId)).next(()=>l.Je.saveNamedQuery(f,n))})})).apply(this,arguments)}class KI{constructor(n){this.N=n,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(n,r){return Te.resolve(this.Yn.get(r))}saveBundleMetadata(n,r){var a;return this.Yn.set(r.id,{id:(a=r).id,version:a.version,createTime:_r(a.createTime)}),Te.resolve()}getNamedQuery(n,r){return Te.resolve(this.Xn.get(r))}saveNamedQuery(n,r){return this.Xn.set(r.name,{name:(a=r).name,query:j0(a.bundledQuery),readTime:_r(a.readTime)}),Te.resolve();var a}}class Q0{constructor(){this.Zn=new xn(sr.ts),this.es=new xn(sr.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(n,r){const a=new sr(n,r);this.Zn=this.Zn.add(a),this.es=this.es.add(a)}ss(n,r){n.forEach(a=>this.addReference(a,r))}removeReference(n,r){this.rs(new sr(n,r))}os(n,r){n.forEach(a=>this.removeReference(a,r))}cs(n){const r=new Ye(new xt([])),a=new sr(r,n),l=new sr(r,n+1),f=[];return this.es.forEachInRange([a,l],_=>{this.rs(_),f.push(_.key)}),f}us(){this.Zn.forEach(n=>this.rs(n))}rs(n){this.Zn=this.Zn.delete(n),this.es=this.es.delete(n)}hs(n){const r=new Ye(new xt([])),a=new sr(r,n),l=new sr(r,n+1);let f=Ht();return this.es.forEachInRange([a,l],_=>{f=f.add(_.key)}),f}containsKey(n){const r=new sr(n,0),a=this.Zn.firstAfterOrEqual(r);return null!==a&&n.isEqual(a.key)}}class sr{constructor(n,r){this.key=n,this.ls=r}static ts(n,r){return Ye.comparator(n.key,r.key)||vt(n.ls,r.ls)}static ns(n,r){return vt(n.ls,r.ls)||Ye.comparator(n.key,r.key)}}class jx{constructor(n,r){this.Ht=n,this.referenceDelegate=r,this.In=[],this.fs=1,this.ds=new xn(sr.ts)}checkEmpty(n){return Te.resolve(0===this.In.length)}addMutationBatch(n,r,a,l){const f=this.fs;this.fs++;const _=new U0(f,r,a,l);this.In.push(_);for(const w of l)this.ds=this.ds.add(new sr(w.key,f)),this.Ht.addToCollectionParentIndex(n,w.key.path.popLast());return Te.resolve(_)}lookupMutationBatch(n,r){return Te.resolve(this.ws(r))}getNextMutationBatchAfterBatchId(n,r){const l=this._s(r+1),f=l<0?0:l;return Te.resolve(this.In.length>f?this.In[f]:null)}getHighestUnacknowledgedBatchId(){return Te.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(n){return Te.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(n,r){const a=new sr(r,0),l=new sr(r,Number.POSITIVE_INFINITY),f=[];return this.ds.forEachInRange([a,l],_=>{const w=this.ws(_.ls);f.push(w)}),Te.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(n,r){let a=new xn(vt);return r.forEach(l=>{const f=new sr(l,0),_=new sr(l,Number.POSITIVE_INFINITY);this.ds.forEachInRange([f,_],w=>{a=a.add(w.ls)})}),Te.resolve(this.gs(a))}getAllMutationBatchesAffectingQuery(n,r){const a=r.path,l=a.length+1;let f=a;Ye.isDocumentKey(f)||(f=f.child(""));const _=new sr(new Ye(f),0);let w=new xn(vt);return this.ds.forEachWhile(T=>{const S=T.key.path;return!!a.isPrefixOf(S)&&(S.length===l&&(w=w.add(T.ls)),!0)},_),Te.resolve(this.gs(w))}gs(n){const r=[];return n.forEach(a=>{const l=this.ws(a);null!==l&&r.push(l)}),r}removeMutationBatch(n,r){ot(0===this.ys(r.batchId,"removed")),this.In.shift();let a=this.ds;return Te.forEach(r.mutations,l=>{const f=new sr(l.key,r.batchId);return a=a.delete(f),this.referenceDelegate.markPotentiallyOrphaned(n,l.key)}).next(()=>{this.ds=a})}te(n){}containsKey(n,r){const a=new sr(r,0),l=this.ds.firstAfterOrEqual(a);return Te.resolve(r.isEqual(l&&l.key))}performConsistencyCheck(n){return Te.resolve()}ys(n,r){return this._s(n)}_s(n){return 0===this.In.length?0:n-this.In[0].batchId}ws(n){const r=this._s(n);return r<0||r>=this.In.length?null:this.In[r]}}class Hx{constructor(n,r){this.Ht=n,this.ps=r,this.docs=new Yn(Ye.comparator),this.size=0}addEntry(n,r,a){const l=r.key,f=this.docs.get(l),_=f?f.size:0,w=this.ps(r);return this.docs=this.docs.insert(l,{document:r.clone(),size:w,readTime:a}),this.size+=w-_,this.Ht.addToCollectionParentIndex(n,l.path.popLast())}removeEntry(n){const r=this.docs.get(n);r&&(this.docs=this.docs.remove(n),this.size-=r.size)}getEntry(n,r){const a=this.docs.get(r);return Te.resolve(a?a.document.clone():bn.newInvalidDocument(r))}getEntries(n,r){let a=zr();return r.forEach(l=>{const f=this.docs.get(l);a=a.insert(l,f?f.document.clone():bn.newInvalidDocument(l))}),Te.resolve(a)}getDocumentsMatchingQuery(n,r,a){let l=zr();const f=new Ye(r.path.child("")),_=this.docs.getIteratorFrom(f);for(;_.hasNext();){const{key:w,value:{document:T,readTime:S}}=_.getNext();if(!r.path.isPrefixOf(w.path))break;S.compareTo(a)<=0||pl(r,T)&&(l=l.insert(T.key,T.clone()))}return Te.resolve(l)}Es(n,r){return Te.forEach(this.docs,a=>r(a))}newChangeBuffer(n){return new Zx(this)}getSize(n){return Te.resolve(this.size)}}class Zx extends Fx{constructor(n){super(),this.Se=n}applyChanges(n){const r=[];return this.changes.forEach((a,l)=>{l.document.isValidDocument()?r.push(this.Se.addEntry(n,l.document,this.getReadTime(a))):this.Se.removeEntry(a)}),Te.waitFor(r)}getFromCache(n,r){return this.Se.getEntry(n,r)}getAllFromCache(n,r){return this.Se.getEntries(n,r)}}class $x{constructor(n){this.persistence=n,this.Ts=new Ed(r=>od(r),ad),this.lastRemoteSnapshotVersion=ht.min(),this.highestTargetId=0,this.Is=0,this.As=new Q0,this.targetCount=0,this.Rs=bl.se()}forEachTarget(n,r){return this.Ts.forEach((a,l)=>r(l)),Te.resolve()}getLastRemoteSnapshotVersion(n){return Te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return Te.resolve(this.Is)}allocateTargetId(n){return this.highestTargetId=this.Rs.next(),Te.resolve(this.highestTargetId)}setTargetsMetadata(n,r,a){return a&&(this.lastRemoteSnapshotVersion=a),r>this.Is&&(this.Is=r),Te.resolve()}ae(n){this.Ts.set(n.target,n);const r=n.targetId;r>this.highestTargetId&&(this.Rs=new bl(r),this.highestTargetId=r),n.sequenceNumber>this.Is&&(this.Is=n.sequenceNumber)}addTargetData(n,r){return this.ae(r),this.targetCount+=1,Te.resolve()}updateTargetData(n,r){return this.ae(r),Te.resolve()}removeTargetData(n,r){return this.Ts.delete(r.target),this.As.cs(r.targetId),this.targetCount-=1,Te.resolve()}removeTargets(n,r,a){let l=0;const f=[];return this.Ts.forEach((_,w)=>{w.sequenceNumber<=r&&null===a.get(w.targetId)&&(this.Ts.delete(_),f.push(this.removeMatchingKeysForTargetId(n,w.targetId)),l++)}),Te.waitFor(f).next(()=>l)}getTargetCount(n){return Te.resolve(this.targetCount)}getTargetData(n,r){const a=this.Ts.get(r)||null;return Te.resolve(a)}addMatchingKeys(n,r,a){return this.As.ss(r,a),Te.resolve()}removeMatchingKeys(n,r,a){this.As.os(r,a);const l=this.persistence.referenceDelegate,f=[];return l&&r.forEach(_=>{f.push(l.markPotentiallyOrphaned(n,_))}),Te.waitFor(f)}removeMatchingKeysForTargetId(n,r){return this.As.cs(r),Te.resolve()}getMatchingKeysForTargetId(n,r){const a=this.As.hs(r);return Te.resolve(a)}containsKey(n,r){return Te.resolve(this.As.containsKey(r))}}class qx{constructor(n,r){this.bs={},this.Le=new Ti(0),this.Be=!1,this.Be=!0,this.referenceDelegate=n(this),this.ze=new $x(this),this.Ht=new Nx,this.He=new Hx(this.Ht,a=>this.referenceDelegate.Ps(a)),this.N=new Sx(r),this.Je=new KI(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(n){let r=this.bs[n.toKey()];return r||(r=new jx(this.Ht,this.referenceDelegate),this.bs[n.toKey()]=r),r}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(n,r,a){de("MemoryPersistence","Starting transaction:",n);const l=new Gx(this.Le.next());return this.referenceDelegate.vs(),a(l).next(f=>this.referenceDelegate.Vs(l).next(()=>f)).toPromise().then(f=>(l.raiseOnCommittedEvent(),f))}Ss(n,r){return Te.or(Object.values(this.bs).map(a=>()=>a.containsKey(n,r)))}}class Gx extends Cp{constructor(n){super(),this.currentSequenceNumber=n}}class X0{constructor(n){this.persistence=n,this.Ds=new Q0,this.Cs=null}static Ns(n){return new X0(n)}get xs(){if(this.Cs)return this.Cs;throw ze()}addReference(n,r,a){return this.Ds.addReference(a,r),this.xs.delete(a.toString()),Te.resolve()}removeReference(n,r,a){return this.Ds.removeReference(a,r),this.xs.add(a.toString()),Te.resolve()}markPotentiallyOrphaned(n,r){return this.xs.add(r.toString()),Te.resolve()}removeTarget(n,r){this.Ds.cs(r.targetId).forEach(l=>this.xs.add(l.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(n,r.targetId).next(l=>{l.forEach(f=>this.xs.add(f.toString()))}).next(()=>a.removeTargetData(n,r))}vs(){this.Cs=new Set}Vs(n){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Te.forEach(this.xs,a=>{const l=Ye.fromPath(a);return this.ks(n,l).next(f=>{f||r.removeEntry(l)})}).next(()=>(this.Cs=null,r.apply(n)))}updateLimboDocument(n,r){return this.ks(n,r).next(a=>{a?this.xs.delete(r.toString()):this.xs.add(r.toString())})}Ps(n){return 0}ks(n,r){return Te.or([()=>Te.resolve(this.Ds.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(n,r),()=>this.persistence.Ss(n,r)])}}function xd(i,n){return`firestore_clients_${i}_${n}`}function eC(i,n,r){let a=`firestore_mutations_${i}_${r}`;return n.isAuthenticated()&&(a+=`_${n.uid}`),a}function D_(i,n){return`firestore_targets_${i}_${n}`}class Dp{constructor(n,r,a,l){this.user=n,this.batchId=r,this.state=a,this.error=l}static $s(n,r,a){const l=JSON.parse(a);let f,_="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return _&&l.error&&(_="string"==typeof l.error.message&&"string"==typeof l.error.code,_&&(f=new Ae(l.error.code,l.error.message))),_?new Dp(n,r,l.state,f):(Fn("SharedClientState",`Failed to parse mutation state for ID '${r}': ${a}`),null)}Os(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class Sd{constructor(n,r,a){this.targetId=n,this.state=r,this.error=a}static $s(n,r){const a=JSON.parse(r);let l,f="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return f&&a.error&&(f="string"==typeof a.error.message&&"string"==typeof a.error.code,f&&(l=new Ae(a.error.code,a.error.message))),f?new Sd(n,a.state,l):(Fn("SharedClientState",`Failed to parse target state for ID '${n}': ${r}`),null)}Os(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class Ap{constructor(n,r){this.clientId=n,this.activeTargetIds=r}static $s(n,r){const a=JSON.parse(r);let l="object"==typeof a&&a.activeTargetIds instanceof Array,f=l_();for(let _=0;l&&_<a.activeTargetIds.length;++_)l=tx(a.activeTargetIds[_]),f=f.add(a.activeTargetIds[_]);return l?new Ap(n,f):(Fn("SharedClientState",`Failed to parse client data for instance '${n}': ${r}`),null)}}class tC{constructor(n,r){this.clientId=n,this.onlineState=r}static $s(n){const r=JSON.parse(n);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new tC(r.clientId,r.onlineState):(Fn("SharedClientState",`Failed to parse online state: ${n}`),null)}}class nC{constructor(){this.activeTargetIds=l_()}Fs(n){this.activeTargetIds=this.activeTargetIds.add(n)}Ms(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Os(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class rC{constructor(n,r,a,l,f){this.window=n,this.Oe=r,this.persistenceKey=a,this.Ls=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new Yn(vt),this.started=!1,this.Ks=[];const _=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=f,this.js=xd(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new nC),this.Ws=new RegExp(`^firestore_clients_${_}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${_}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${_}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(w){return`firestore_bundle_loaded_${w}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(n){return!(!n||!n.localStorage)}start(){var n=this;return(0,ve.Z)(function*(){const r=yield n.syncEngine.pn();for(const l of r){if(l===n.Ls)continue;const f=n.getItem(xd(n.persistenceKey,l));if(f){const _=Ap.$s(l,f);_&&(n.qs=n.qs.insert(_.clientId,_))}}n.Ys();const a=n.storage.getItem(n.Hs);if(a){const l=n.Xs(a);l&&n.Zs(l)}for(const l of n.Ks)n.Us(l);n.Ks=[],n.window.addEventListener("pagehide",()=>n.shutdown()),n.started=!0})()}writeSequenceNumber(n){this.setItem(this.Qs,JSON.stringify(n))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(n){let r=!1;return this.qs.forEach((a,l)=>{l.activeTargetIds.has(n)&&(r=!0)}),r}addPendingMutation(n){this.ei(n,"pending")}updateMutationState(n,r,a){this.ei(n,r,a),this.ni(n)}addLocalQueryTarget(n){let r="not-current";if(this.isActiveQueryTarget(n)){const a=this.storage.getItem(D_(this.persistenceKey,n));if(a){const l=Sd.$s(n,a);l&&(r=l.state)}}return this.si.Fs(n),this.Ys(),r}removeLocalQueryTarget(n){this.si.Ms(n),this.Ys()}isLocalQueryTarget(n){return this.si.activeTargetIds.has(n)}clearQueryState(n){this.removeItem(D_(this.persistenceKey,n))}updateQueryState(n,r,a){this.ii(n,r,a)}handleUserChange(n,r,a){r.forEach(l=>{this.ni(l)}),this.currentUser=n,a.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(n){this.ri(n)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(n){const r=this.storage.getItem(n);return de("SharedClientState","READ",n,r),r}setItem(n,r){de("SharedClientState","SET",n,r),this.storage.setItem(n,r)}removeItem(n){de("SharedClientState","REMOVE",n),this.storage.removeItem(n)}Us(n){var r=this;const a=n;if(a.storageArea===this.storage){if(de("SharedClientState","EVENT",a.key,a.newValue),a.key===this.js)return void Fn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,ve.Z)(function*(){if(r.started){if(null!==a.key)if(r.Ws.test(a.key)){if(null==a.newValue){const l=r.ai(a.key);return r.ci(l,null)}{const l=r.ui(a.key,a.newValue);if(l)return r.ci(l.clientId,l)}}else if(r.Gs.test(a.key)){if(null!==a.newValue){const l=r.hi(a.key,a.newValue);if(l)return r.li(l)}}else if(r.zs.test(a.key)){if(null!==a.newValue){const l=r.fi(a.key,a.newValue);if(l)return r.di(l)}}else if(a.key===r.Hs){if(null!==a.newValue){const l=r.Xs(a.newValue);if(l)return r.Zs(l)}}else if(a.key===r.Qs){const l=function(f){let _=Ti.T;if(null!=f)try{const w=JSON.parse(f);ot("number"==typeof w),_=w}catch(w){Fn("SharedClientState","Failed to read sequence number from WebStorage",w)}return _}(a.newValue);l!==Ti.T&&r.sequenceNumberHandler(l)}else if(a.key===r.Js)return r.syncEngine.wi()}else r.Ks.push(a)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(n,r,a){const l=new Dp(this.currentUser,n,r,a),f=eC(this.persistenceKey,this.currentUser,n);this.setItem(f,l.Os())}ni(n){const r=eC(this.persistenceKey,this.currentUser,n);this.removeItem(r)}ri(n){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:n}))}ii(n,r,a){const l=D_(this.persistenceKey,n),f=new Sd(n,r,a);this.setItem(l,f.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(n){const r=this.Ws.exec(n);return r?r[1]:null}ui(n,r){const a=this.ai(n);return Ap.$s(a,r)}hi(n,r){const a=this.Gs.exec(n),l=Number(a[1]);return Dp.$s(new zn(void 0!==a[2]?a[2]:null),l,r)}fi(n,r){const a=this.zs.exec(n),l=Number(a[1]);return Sd.$s(l,r)}Xs(n){return tC.$s(n)}li(n){var r=this;return(0,ve.Z)(function*(){if(n.user.uid===r.currentUser.uid)return r.syncEngine._i(n.batchId,n.state,n.error);de("SharedClientState",`Ignoring mutation for non-active user ${n.user.uid}`)})()}di(n){return this.syncEngine.mi(n.targetId,n.state,n.error)}ci(n,r){const a=r?this.qs.insert(n,r):this.qs.remove(n),l=this.ti(this.qs),f=this.ti(a),_=[],w=[];return f.forEach(T=>{l.has(T)||_.push(T)}),l.forEach(T=>{f.has(T)||w.push(T)}),this.syncEngine.gi(_,w).then(()=>{this.qs=a})}Zs(n){this.qs.get(n.clientId)&&this.onlineStateHandler(n.onlineState)}ti(n){let r=l_();return n.forEach((a,l)=>{r=r.unionWith(l.activeTargetIds)}),r}}class YI{constructor(){this.yi=new nC,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,r,a){}addLocalQueryTarget(n){return this.yi.Fs(n),this.pi[n]||"not-current"}updateQueryState(n,r,a){this.pi[n]=r}removeLocalQueryTarget(n){this.yi.Ms(n)}isLocalQueryTarget(n){return this.yi.activeTargetIds.has(n)}clearQueryState(n){delete this.pi[n]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(n){return this.yi.activeTargetIds.has(n)}start(){return this.yi=new nC,Promise.resolve()}handleUserChange(n,r,a){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(){}}class zx{Ei(n){}shutdown(){}}class JI{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ei(n){this.bi.push(n)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){de("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const n of this.bi)n(0)}Ri(){de("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const n of this.bi)n(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Wx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class xp{constructor(n){this.vi=n.vi,this.Vi=n.Vi}Si(n){this.Di=n}Ci(n){this.Ni=n}onMessage(n){this.xi=n}close(){this.Vi()}send(n){this.vi(n)}ki(){this.Di()}$i(n){this.Ni(n)}Oi(n){this.xi(n)}}class Sp extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId,this.Fi=(n.ssl?"https":"http")+"://"+n.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(n,r,a,l){const f=this.Bi(n,r);de("RestConnection","Sending: ",f,a);const _={};return this.Ui(_,l),this.qi(n,f,_,a).then(w=>(de("RestConnection","Received: ",w),w),w=>{throw rp("RestConnection",`${n} failed with error: `,w,"url: ",f,"request:",a),w})}Ki(n,r,a,l){return this.Li(n,r,a,l)}Ui(n,r){if(n["X-Goog-Api-Client"]="gl-js/ fire/"+np,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r)for(const a in r.authHeaders)r.authHeaders.hasOwnProperty(a)&&(n[a]=r.authHeaders[a])}Bi(n,r){return`${this.Fi}/v1/${r}:${Wx[n]}`}}{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams}qi(n,r,a,l){return new Promise((f,_)=>{const w=new IS;w.listenOnce(r0.COMPLETE,()=>{try{switch(w.getLastErrorCode()){case tp.NO_ERROR:const S=w.getResponseJson();de("Connection","XHR received:",JSON.stringify(S)),f(S);break;case tp.TIMEOUT:de("Connection",'RPC "'+n+'" timed out'),_(new Ae(te.DEADLINE_EXCEEDED,"Request time out"));break;case tp.HTTP_ERROR:const M=w.getStatus();if(de("Connection",'RPC "'+n+'" failed with status:',M,"response text:",w.getResponseText()),M>0){const k=w.getResponseJson().error;if(k&&k.status&&k.message){const z=function(K){const Ce=K.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(Ce)>=0?Ce:te.UNKNOWN}(k.status);_(new Ae(z,k.message))}else _(new Ae(te.UNKNOWN,"Server responded with status "+w.getStatus()))}else _(new Ae(te.UNAVAILABLE,"Connection failed."));break;default:ze()}}finally{de("Connection",'RPC "'+n+'" completed.')}});const T=JSON.stringify(l);w.send(r,"POST",T,a,15)})}ji(n,r){const a=[this.Fi,"/","google.firestore.v1.Firestore","/",n,"/channel"],l=YE(),f=JE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(_.xmlHttpFactory=new JA({})),this.Ui(_.initMessageHeaders,r),(0,Pt.uI)()||(0,Pt.b$)()||(0,Pt.d)()||(0,Pt.w1)()||(0,Pt.Mn)()||(0,Pt.ru)()||(_.httpHeadersOverwriteParam="$httpHeaders");const w=a.join("");de("Connection","Creating WebChannel: "+w,_);const T=l.createWebChannel(w,_);let S=!1,M=!1;const k=new xp({vi:K=>{M?de("Connection","Not sending because WebChannel is closed:",K):(S||(de("Connection","Opening WebChannel transport."),T.open(),S=!0),de("Connection","WebChannel sending:",K),T.send(K))},Vi:()=>T.close()}),z=(K,Ce,Re)=>{K.listen(Ce,qe=>{try{Re(qe)}catch(Mt){setTimeout(()=>{throw Mt},0)}})};return z(T,$o.EventType.OPEN,()=>{M||de("Connection","WebChannel transport opened.")}),z(T,$o.EventType.CLOSE,()=>{M||(M=!0,de("Connection","WebChannel transport closed"),k.$i())}),z(T,$o.EventType.ERROR,K=>{M||(M=!0,rp("Connection","WebChannel transport errored:",K),k.$i(new Ae(te.UNAVAILABLE,"The operation could not be completed")))}),z(T,$o.EventType.MESSAGE,K=>{var Ce;if(!M){const Re=K.data[0];ot(!!Re);const qe=Re,Mt=qe.error||(null===(Ce=qe[0])||void 0===Ce?void 0:Ce.error);if(Mt){de("Connection","WebChannel received error:",Mt);const Vt=Mt.status;let It=function(fi){const DD=Rn[fi];if(void 0!==DD)return wI(DD)}(Vt),Wt=Mt.message;void 0===It&&(It=te.INTERNAL,Wt="Unknown error status: "+Vt+" with message "+Mt.message),M=!0,k.$i(new Ae(It,Wt)),T.close()}else de("Connection","WebChannel received:",Re),k.Oi(Re)}}),z(f,cl.STAT_EVENT,K=>{K.stat===QE.PROXY?de("Connection","Detected buffering proxy"):K.stat===QE.NOPROXY&&de("Connection","Detected no buffering proxy")}),setTimeout(()=>{k.ki()},0),k}}function QI(){return"undefined"!=typeof window?window:null}function Md(){return"undefined"!=typeof document?document:null}function hi(i){return new d_(i,!0)}class iC{constructor(n,r,a=1e3,l=1.5,f=6e4){this.Oe=n,this.timerId=r,this.Qi=a,this.Wi=l,this.Gi=f,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(n){this.cancel();const r=Math.floor(this.zi+this.Zi()),a=Math.max(0,Date.now()-this.Ji),l=Math.max(0,r-a);l>0&&de("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.zi} ms, delay with jitter: ${r} ms, last attempt: ${a} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,l,()=>(this.Ji=Date.now(),n())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class Mp{constructor(n,r,a,l,f,_){this.Oe=n,this.er=a,this.nr=l,this.credentialsProvider=f,this.listener=_,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new iC(n,r)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var n=this;return(0,ve.Z)(function*(){n.ar()&&(yield n.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(n){this._r(),this.stream.send(n)}dr(){var n=this;return(0,ve.Z)(function*(){if(n.cr())return n.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(n,r){var a=this;return(0,ve.Z)(function*(){a._r(),a.rr.cancel(),a.sr++,3!==n?a.rr.reset():r&&r.code===te.RESOURCE_EXHAUSTED?(Fn(r.toString()),Fn("Using maximum backoff delay to prevent overloading the backend."),a.rr.Yi()):r&&r.code===te.UNAUTHENTICATED&&a.credentialsProvider.invalidateToken(),null!==a.stream&&(a.mr(),a.stream.close(),a.stream=null),a.state=n,yield a.listener.Ci(r)})()}mr(){}auth(){this.state=1;const n=this.gr(this.sr),r=this.sr;this.credentialsProvider.getToken().then(a=>{this.sr===r&&this.yr(a)},a=>{n(()=>{const l=new Ae(te.UNKNOWN,"Fetching auth token failed: "+a.message);return this.pr(l)})})}yr(n){const r=this.gr(this.sr);this.stream=this.Er(n),this.stream.Si(()=>{r(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(a=>{r(()=>this.pr(a))}),this.stream.onMessage(a=>{r(()=>this.onMessage(a))})}ur(){var n=this;this.state=4,this.rr.Xi((0,ve.Z)(function*(){n.state=0,n.start()}))}pr(n){return de("PersistentStream",`close with error: ${n}`),this.stream=null,this.close(3,n)}gr(n){return r=>{this.Oe.enqueueAndForget(()=>this.sr===n?r():(de("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Kx extends Mp{constructor(n,r,a,l,f){super(n,"listen_stream_connection_backoff","listen_stream_idle",r,a,f),this.N=l}Er(n){return this.nr.ji("Listen",n)}onMessage(n){this.rr.reset();const r=function(i,n){let r;if("targetChange"in n){const a="NO_CHANGE"===(T=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===T?1:"REMOVE"===T?2:"CURRENT"===T?3:"RESET"===T?4:ze(),l=n.targetChange.targetIds||[],f=function(T,S){return T.D?(ot(void 0===S||"string"==typeof S),Kn.fromBase64String(S||"")):(ot(void 0===S||S instanceof Uint8Array),Kn.fromUint8Array(S||new Uint8Array))}(i,n.targetChange.resumeToken),_=n.targetChange.cause,w=_&&function(T){const S=void 0===T.code?te.UNKNOWN:wI(T.code);return new Ae(S,T.message||"")}(_);r=new II(a,l,f,w||null)}else if("documentChange"in n){const a=n.documentChange,l=no(i,a.document.name),f=_r(a.document.updateTime),_=new Nr({mapValue:{fields:a.document.fields}}),w=bn.newFoundDocument(l,f,_);r=new c_(a.targetIds||[],a.removedTargetIds||[],w.key,w)}else if("documentDelete"in n){const a=n.documentDelete,l=no(i,a.document),f=a.readTime?_r(a.readTime):ht.min(),_=bn.newNoDocument(l,f);r=new c_([],a.removedTargetIds||[],_.key,_)}else if("documentRemove"in n){const a=n.documentRemove,l=no(i,a.document);r=new c_([],a.removedTargetIds||[],l,null)}else{if(!("filter"in n))return ze();{const a=n.filter,f=new px(a.count||0);r=new EI(a.targetId,f)}}var T;return r}(this.N,n),a=function(l){if(!("targetChange"in l))return ht.min();const f=l.targetChange;return f.targetIds&&f.targetIds.length?ht.min():f.readTime?_r(f.readTime):ht.min()}(n);return this.listener.Tr(r,a)}Ir(n){const r={};r.database=_l(this.N),r.addTarget=function(l,f){let _;const w=f.target;return _=t_(w)?{documents:vp(l,w)}:{query:Tx(l,w)},_.targetId=f.targetId,f.resumeToken.approximateByteSize()>0?_.resumeToken=M0(l,f.resumeToken):f.snapshotVersion.compareTo(ht.min())>0&&(_.readTime=hs(l,f.snapshotVersion.toTimestamp())),_}(this.N,n);const a=function(i,n){const r=function(a,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ze()}}(0,n.purpose);return null==r?null:{"goog-listen-tags":r}}(0,n);a&&(r.labels=a),this.wr(r)}Ar(n){const r={};r.database=_l(this.N),r.removeTarget=n,this.wr(r)}}class Yx extends Mp{constructor(n,r,a,l,f){super(n,"write_stream_connection_backoff","write_stream_idle",r,a,f),this.N=l,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Er(n){return this.nr.ji("Write",n)}onMessage(n){if(ot(!!n.streamToken),this.lastStreamToken=n.streamToken,this.Rr){this.rr.reset();const r=function(i,n){return i&&i.length>0?(ot(void 0!==n),i.map(r=>function(a,l){let f=_r(a.updateTime?a.updateTime:l);return f.isEqual(ht.min())&&(f=_r(l)),new AS(f,a.transformResults||[])}(r,n))):[]}(n.writeResults,n.commitTime),a=_r(n.commitTime);return this.listener.vr(a,r)}return ot(!n.writeResults||0===n.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const n={};n.database=_l(this.N),this.wr(n)}Pr(n){const r={streamToken:this.lastStreamToken,writes:n.map(a=>f_(this.N,a))};this.wr(r)}}class PS extends class{}{constructor(n,r,a){super(),this.credentials=n,this.nr=r,this.N=a,this.Dr=!1}Cr(){if(this.Dr)throw new Ae(te.FAILED_PRECONDITION,"The client has already been terminated.")}Li(n,r,a){return this.Cr(),this.credentials.getToken().then(l=>this.nr.Li(n,r,a,l)).catch(l=>{throw"FirebaseError"===l.name?(l.code===te.UNAUTHENTICATED&&this.credentials.invalidateToken(),l):new Ae(te.UNKNOWN,l.toString())})}Ki(n,r,a){return this.Cr(),this.credentials.getToken().then(l=>this.nr.Ki(n,r,a,l)).catch(l=>{throw"FirebaseError"===l.name?(l.code===te.UNAUTHENTICATED&&this.credentials.invalidateToken(),l):new Ae(te.UNKNOWN,l.toString())})}terminate(){this.Dr=!0}}class sC{constructor(n,r){this.asyncQueue=n,this.onlineStateHandler=r,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(n){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.Fr("Offline")))}set(n){this.Br(),this.Nr=0,"Online"===n&&(this.$r=!1),this.Fr(n)}Fr(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}Mr(n){const r=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(Fn(r),this.$r=!1):de("OnlineStateTracker",r)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class oC{constructor(n,r,a,l,f){var _=this;this.localStore=n,this.datastore=r,this.asyncQueue=a,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=f,this.Qr.Ei(w=>{a.enqueueAndForget((0,ve.Z)(function*(){var T;Ha(_)&&(de("RemoteStore","Restarting streams for network reachability change."),yield(T=(0,ve.Z)(function*(S){const M=ke(S);M.Kr.add(4),yield ja(M),M.Wr.set("Unknown"),M.Kr.delete(4),yield Nd(M)}),function(S){return T.apply(this,arguments)})(_))}))}),this.Wr=new sC(a,l)}}function Nd(i){return Np.apply(this,arguments)}function Np(){return(Np=(0,ve.Z)(function*(i){if(Ha(i))for(const n of i.jr)yield n(!0)})).apply(this,arguments)}function ja(i){return aC.apply(this,arguments)}function aC(){return(aC=(0,ve.Z)(function*(i){for(const n of i.jr)yield n(!1)})).apply(this,arguments)}function A_(i,n){const r=ke(i);r.qr.has(n.targetId)||(r.qr.set(n.targetId,n),x_(r)?Rp(r):Fp(r).cr()&&uC(r,n))}function Op(i,n){const r=ke(i),a=Fp(r);r.qr.delete(n),a.cr()&&lC(r,n),0===r.qr.size&&(a.cr()?a.lr():Ha(r)&&r.Wr.set("Unknown"))}function uC(i,n){i.Gr.Y(n.targetId),Fp(i).Ir(n)}function lC(i,n){i.Gr.Y(n),Fp(i).Ar(n)}function Rp(i){i.Gr=new Cx({getRemoteKeysForTarget:n=>i.remoteSyncer.getRemoteKeysForTarget(n),Et:n=>i.qr.get(n)||null}),Fp(i).start(),i.Wr.Or()}function x_(i){return Ha(i)&&!Fp(i).ar()&&i.qr.size>0}function Ha(i){return 0===ke(i).Kr.size}function cC(i){i.Gr=void 0}function XI(i){return dC.apply(this,arguments)}function dC(){return(dC=(0,ve.Z)(function*(i){i.qr.forEach((n,r)=>{uC(i,n)})})).apply(this,arguments)}function eT(i,n){return S_.apply(this,arguments)}function S_(){return(S_=(0,ve.Z)(function*(i,n){cC(i),x_(i)?(i.Wr.Lr(n),Rp(i)):i.Wr.set("Unknown")})).apply(this,arguments)}function Jx(i,n,r){return M_.apply(this,arguments)}function M_(){return(M_=(0,ve.Z)(function*(i,n,r){if(i.Wr.set("Online"),n instanceof II&&2===n.state&&n.cause)try{yield(a=(0,ve.Z)(function*(l,f){const _=f.cause;for(const w of f.targetIds)l.qr.has(w)&&(yield l.remoteSyncer.rejectListen(w,_),l.qr.delete(w),l.Gr.removeTarget(w))}),function(l,f){return a.apply(this,arguments)})(i,n)}catch(a){de("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),a),yield N_(i,a)}else if(n instanceof c_?i.Gr.rt(n):n instanceof EI?i.Gr.ft(n):i.Gr.ct(n),!r.isEqual(ht.min()))try{const a=yield qI(i.localStore);r.compareTo(a)>=0&&(yield function(l,f){const _=l.Gr._t(f);return _.targetChanges.forEach((w,T)=>{if(w.resumeToken.approximateByteSize()>0){const S=l.qr.get(T);S&&l.qr.set(T,S.withResumeToken(w.resumeToken,f))}}),_.targetMismatches.forEach(w=>{const T=l.qr.get(w);if(!T)return;l.qr.set(w,T.withResumeToken(Kn.EMPTY_BYTE_STRING,T.snapshotVersion)),lC(l,w);const S=new Fa(T.target,w,1,T.sequenceNumber);uC(l,S)}),l.remoteSyncer.applyRemoteEvent(_)}(i,r))}catch(a){de("RemoteStore","Failed to raise snapshot:",a),yield N_(i,a)}var a})).apply(this,arguments)}function N_(i,n,r){return tT.apply(this,arguments)}function tT(){return(tT=(0,ve.Z)(function*(i,n,r){if(!Jo(n))throw n;i.Kr.add(1),yield ja(i),i.Wr.set("Offline"),r||(r=()=>qI(i.localStore)),i.asyncQueue.enqueueRetryable((0,ve.Z)(function*(){de("RemoteStore","Retrying IndexedDB access"),yield r(),i.Kr.delete(1),yield Nd(i)}))})).apply(this,arguments)}function Rr(i,n){return n().catch(r=>N_(i,r,n))}function fs(i){return hC.apply(this,arguments)}function hC(){return(hC=(0,ve.Z)(function*(i){const n=ke(i),r=Qo(n);let a=n.Ur.length>0?n.Ur[n.Ur.length-1].batchId:-1;for(;Qx(n);)try{const l=yield zI(n.localStore,a);if(null===l){0===n.Ur.length&&r.lr();break}a=l.batchId,kS(n,l)}catch(l){yield N_(n,l)}Od(n)&&nT(n)})).apply(this,arguments)}function Qx(i){return Ha(i)&&i.Ur.length<10}function kS(i,n){i.Ur.push(n);const r=Qo(i);r.cr()&&r.br&&r.Pr(n.mutations)}function Od(i){return Ha(i)&&!Qo(i).ar()&&i.Ur.length>0}function nT(i){Qo(i).start()}function fC(i){return pC.apply(this,arguments)}function pC(){return(pC=(0,ve.Z)(function*(i){Qo(i).Sr()})).apply(this,arguments)}function rT(i){return gC.apply(this,arguments)}function gC(){return(gC=(0,ve.Z)(function*(i){const n=Qo(i);for(const r of i.Ur)n.Pr(r.mutations)})).apply(this,arguments)}function Xx(i,n,r){return Pp.apply(this,arguments)}function Pp(){return(Pp=(0,ve.Z)(function*(i,n,r){const a=i.Ur.shift(),l=B0.from(a,n,r);yield Rr(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield fs(i)})).apply(this,arguments)}function iT(i,n){return O_.apply(this,arguments)}function O_(){return(O_=(0,ve.Z)(function*(i,n){var r;n&&Qo(i).br&&(yield(r=(0,ve.Z)(function*(a,l){if(A0(f=l.code)&&f!==te.ABORTED){const _=a.Ur.shift();Qo(a).hr(),yield Rr(a,()=>a.remoteSyncer.rejectFailedWrite(_.batchId,l)),yield fs(a)}var f}),function(a,l){return r.apply(this,arguments)})(i,n)),Od(i)&&nT(i)})).apply(this,arguments)}function Rd(i,n){return kp.apply(this,arguments)}function kp(){return(kp=(0,ve.Z)(function*(i,n){const r=ke(i);n?(r.Kr.delete(2),yield Nd(r)):n||(r.Kr.add(2),yield ja(r),r.Wr.set("Unknown"))})).apply(this,arguments)}function Fp(i){return i.zr||(i.zr=function(n,r,a){const l=ke(n);return l.Cr(),new Kx(r,l.nr,l.credentials,l.N,a)}(i.datastore,i.asyncQueue,{Si:XI.bind(null,i),Ci:eT.bind(null,i),Tr:Jx.bind(null,i)}),i.jr.push(function(){var n=(0,ve.Z)(function*(r){r?(i.zr.hr(),x_(i)?Rp(i):i.Wr.set("Unknown")):(yield i.zr.stop(),cC(i))});return function(r){return n.apply(this,arguments)}}())),i.zr}function Qo(i){return i.Hr||(i.Hr=function(n,r,a){const l=ke(n);return l.Cr(),new Yx(r,l.nr,l.credentials,l.N,a)}(i.datastore,i.asyncQueue,{Si:fC.bind(null,i),Ci:iT.bind(null,i),Vr:rT.bind(null,i),vr:Xx.bind(null,i)}),i.jr.push(function(){var n=(0,ve.Z)(function*(r){r?(i.Hr.hr(),yield fs(i)):(yield i.Hr.stop(),i.Ur.length>0&&(de("RemoteStore",`Stopping write stream with ${i.Ur.length} pending writes`),i.Ur=[]))});return function(r){return n.apply(this,arguments)}}())),i.Hr}class mC{constructor(n,r,a,l,f){this.asyncQueue=n,this.timerId=r,this.targetTimeMs=a,this.op=l,this.removalCallback=f,this.deferred=new Wn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(_=>{})}static createAndSchedule(n,r,a,l,f){const _=Date.now()+a,w=new mC(n,r,_,l,f);return w.start(a),w}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ae(te.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tl(i,n){if(Fn("AsyncQueue",`${n}: ${i}`),Jo(i))return new Ae(te.UNAVAILABLE,`${n}: ${i}`);throw i}class Xo{constructor(n){this.comparator=n?(r,a)=>n(r,a)||Ye.comparator(r.key,a.key):(r,a)=>Ye.comparator(r.key,a.key),this.keyedMap=S0(),this.sortedSet=new Yn(this.comparator)}static emptySet(n){return new Xo(n.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const r=this.keyedMap.get(n);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((r,a)=>(n(r),!1))}add(n){const r=this.delete(n.key);return r.copy(r.keyedMap.insert(n.key,n),r.sortedSet.insert(n,null))}delete(n){const r=this.get(n);return r?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(r)):this}isEqual(n){if(!(n instanceof Xo)||this.size!==n.size)return!1;const r=this.sortedSet.getIterator(),a=n.sortedSet.getIterator();for(;r.hasNext();){const l=r.getNext().key,f=a.getNext().key;if(!l.isEqual(f))return!1}return!0}toString(){const n=[];return this.forEach(r=>{n.push(r.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,r){const a=new Xo;return a.comparator=this.comparator,a.keyedMap=n,a.sortedSet=r,a}}class _C{constructor(){this.Jr=new Yn(Ye.comparator)}track(n){const r=n.doc.key,a=this.Jr.get(r);a?0!==n.type&&3===a.type?this.Jr=this.Jr.insert(r,n):3===n.type&&1!==a.type?this.Jr=this.Jr.insert(r,{type:a.type,doc:n.doc}):2===n.type&&2===a.type?this.Jr=this.Jr.insert(r,{type:2,doc:n.doc}):2===n.type&&0===a.type?this.Jr=this.Jr.insert(r,{type:0,doc:n.doc}):1===n.type&&0===a.type?this.Jr=this.Jr.remove(r):1===n.type&&2===a.type?this.Jr=this.Jr.insert(r,{type:1,doc:a.doc}):0===n.type&&1===a.type?this.Jr=this.Jr.insert(r,{type:2,doc:n.doc}):ze():this.Jr=this.Jr.insert(r,n)}Yr(){const n=[];return this.Jr.inorderTraversal((r,a)=>{n.push(a)}),n}}class Pd{constructor(n,r,a,l,f,_,w,T){this.query=n,this.docs=r,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=f,this.fromCache=_,this.syncStateChanged=w,this.excludesMetadataChanges=T}static fromInitialDocuments(n,r,a,l){const f=[];return r.forEach(_=>{f.push({type:0,doc:_})}),new Pd(n,r,Xo.emptySet(r),f,a,l,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&fl(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const r=this.docChanges,a=n.docChanges;if(r.length!==a.length)return!1;for(let l=0;l<r.length;l++)if(r[l].type!==a[l].type||!r[l].doc.isEqual(a[l].doc))return!1;return!0}}class yC{constructor(){this.Xr=void 0,this.listeners=[]}}class vC{constructor(){this.queries=new Ed(n=>pI(n),fl),this.onlineState="Unknown",this.Zr=new Set}}function CC(i,n){return bC.apply(this,arguments)}function bC(){return(bC=(0,ve.Z)(function*(i,n){const r=ke(i),a=n.query;let l=!1,f=r.queries.get(a);if(f||(l=!0,f=new yC),l)try{f.Xr=yield r.onListen(a)}catch(_){const w=Tl(_,`Initialization of query '${b0(n.query)}' failed`);return void n.onError(w)}r.queries.set(a,f),f.listeners.push(n),n.eo(r.onlineState),f.Xr&&n.no(f.Xr)&&k_(r)})).apply(this,arguments)}function R_(i,n){return P_.apply(this,arguments)}function P_(){return(P_=(0,ve.Z)(function*(i,n){const r=ke(i),a=n.query;let l=!1;const f=r.queries.get(a);if(f){const _=f.listeners.indexOf(n);_>=0&&(f.listeners.splice(_,1),l=0===f.listeners.length)}if(l)return r.queries.delete(a),r.onUnlisten(a)})).apply(this,arguments)}function sT(i,n){const r=ke(i);let a=!1;for(const l of n){const _=r.queries.get(l.query);if(_){for(const w of _.listeners)w.no(l)&&(a=!0);_.Xr=l}}a&&k_(r)}function e1(i,n,r){const a=ke(i),l=a.queries.get(n);if(l)for(const f of l.listeners)f.onError(r);a.queries.delete(n)}function k_(i){i.Zr.forEach(n=>{n.next()})}class F_{constructor(n,r,a){this.query=n,this.so=r,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=a||{}}no(n){if(!this.options.includeMetadataChanges){const a=[];for(const l of n.docChanges)3!==l.type&&a.push(l);n=new Pd(n.query,n.docs,n.oldDocs,a,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0)}let r=!1;return this.io?this.oo(n)&&(this.so.next(n),r=!0):this.ao(n,this.onlineState)&&(this.co(n),r=!0),this.ro=n,r}onError(n){this.so.error(n)}eo(n){this.onlineState=n;let r=!1;return this.ro&&!this.io&&this.ao(this.ro,n)&&(this.co(this.ro),r=!0),r}ao(n,r){return!n.fromCache||!(this.options.uo&&"Offline"!==r||n.docs.isEmpty()&&"Offline"!==r)}oo(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(n){n=Pd.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache),this.io=!0,this.so.next(n)}}class t1{constructor(n,r){this.payload=n,this.byteLength=r}ho(){return"metadata"in this.payload}}class oT{constructor(n){this.N=n}zn(n){return no(this.N,n)}Hn(n){return n.metadata.exists?DI(this.N,n.document,!1):bn.newNoDocument(this.zn(n.metadata.name),this.Jn(n.metadata.readTime))}Jn(n){return _r(n)}}class aT{constructor(n,r,a){this.lo=n,this.localStore=r,this.N=a,this.queries=[],this.documents=[],this.progress=uT(n)}fo(n){this.progress.bytesLoaded+=n.byteLength;let r=this.progress.documentsLoaded;return n.payload.namedQuery?this.queries.push(n.payload.namedQuery):n.payload.documentMetadata?(this.documents.push({metadata:n.payload.documentMetadata}),n.payload.documentMetadata.exists||++r):n.payload.document&&(this.documents[this.documents.length-1].document=n.payload.document,++r),r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}wo(n){const r=new Map,a=new oT(this.N);for(const l of n)if(l.metadata.queries){const f=a.zn(l.metadata.name);for(const _ of l.metadata.queries){const w=(r.get(_)||Ht()).add(f);r.set(_,w)}}return r}complete(){var n=this;return(0,ve.Z)(function*(){const r=yield function(i,n,r,a){return T_.apply(this,arguments)}(n.localStore,new oT(n.N),n.documents,n.lo.id),a=n.wo(n.documents);for(const l of n.queries)yield Bx(n.localStore,l,a.get(l.name));return n.progress.taskState="Success",new Dd(Object.assign({},n.progress),r)})()}}function uT(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class wC{constructor(n){this.key=n}}class EC{constructor(n){this.key=n}}class IC{constructor(n,r){this.query=n,this._o=r,this.mo=null,this.current=!1,this.yo=Ht(),this.mutatedKeys=Ht(),this.po=gI(n),this.Eo=new Xo(this.po)}get To(){return this._o}Io(n,r){const a=r?r.Ao:new _C,l=r?r.Eo:this.Eo;let f=r?r.mutatedKeys:this.mutatedKeys,_=l,w=!1;const T=i_(this.query)&&l.size===this.query.limit?l.last():null,S=up(this.query)&&l.size===this.query.limit?l.first():null;if(n.inorderTraversal((M,k)=>{const z=l.get(M),K=pl(this.query,k)?k:null,Ce=!!z&&this.mutatedKeys.has(z.key),Re=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let qe=!1;z&&K?z.data.isEqual(K.data)?Ce!==Re&&(a.track({type:3,doc:K}),qe=!0):this.Ro(z,K)||(a.track({type:2,doc:K}),qe=!0,(T&&this.po(K,T)>0||S&&this.po(K,S)<0)&&(w=!0)):!z&&K?(a.track({type:0,doc:K}),qe=!0):z&&!K&&(a.track({type:1,doc:z}),qe=!0,(T||S)&&(w=!0)),qe&&(K?(_=_.add(K),f=Re?f.add(M):f.delete(M)):(_=_.delete(M),f=f.delete(M)))}),i_(this.query)||up(this.query))for(;_.size>this.query.limit;){const M=i_(this.query)?_.last():_.first();_=_.delete(M.key),f=f.delete(M.key),a.track({type:1,doc:M})}return{Eo:_,Ao:a,Ln:w,mutatedKeys:f}}Ro(n,r){return n.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(n,r,a){const l=this.Eo;this.Eo=n.Eo,this.mutatedKeys=n.mutatedKeys;const f=n.Ao.Yr();f.sort((S,M)=>function(k,z){const K=Ce=>{switch(Ce){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ze()}};return K(k)-K(z)}(S.type,M.type)||this.po(S.doc,M.doc)),this.bo(a);const _=r?this.Po():[],w=0===this.yo.size&&this.current?1:0,T=w!==this.mo;return this.mo=w,0!==f.length||T?{snapshot:new Pd(this.query,n.Eo,l,f,n.mutatedKeys,0===w,T,!1),vo:_}:{vo:_}}eo(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new _C,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(n){return!this._o.has(n)&&!!this.Eo.has(n)&&!this.Eo.get(n).hasLocalMutations}bo(n){n&&(n.addedDocuments.forEach(r=>this._o=this._o.add(r)),n.modifiedDocuments.forEach(r=>{}),n.removedDocuments.forEach(r=>this._o=this._o.delete(r)),this.current=n.current)}Po(){if(!this.current)return[];const n=this.yo;this.yo=Ht(),this.Eo.forEach(a=>{this.Vo(a.key)&&(this.yo=this.yo.add(a.key))});const r=[];return n.forEach(a=>{this.yo.has(a)||r.push(new EC(a))}),this.yo.forEach(a=>{n.has(a)||r.push(new wC(a))}),r}So(n){this._o=n.Gn,this.yo=Ht();const r=this.Io(n.documents);return this.applyChanges(r,!0)}Do(){return Pd.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class lT{constructor(n,r,a){this.query=n,this.targetId=r,this.view=a}}class n1{constructor(n){this.key=n,this.Co=!1}}class r1{constructor(n,r,a,l,f,_){this.localStore=n,this.remoteStore=r,this.eventManager=a,this.sharedClientState=l,this.currentUser=f,this.maxConcurrentLimboResolutions=_,this.No={},this.xo=new Ed(w=>pI(w),fl),this.ko=new Map,this.$o=new Set,this.Oo=new Yn(Ye.comparator),this.Fo=new Map,this.Mo=new Q0,this.Lo={},this.Bo=new Map,this.Uo=bl.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function i1(i,n){return L_.apply(this,arguments)}function L_(){return(L_=(0,ve.Z)(function*(i,n){const r=V_(i);let a,l;const f=r.xo.get(n);if(f)a=f.targetId,r.sharedClientState.addLocalQueryTarget(a),l=f.view.Do();else{const _=yield Ad(r.localStore,li(n)),w=r.sharedClientState.addLocalQueryTarget(_.targetId);a=_.targetId,l=yield cT(r,n,a,"current"===w),r.isPrimaryClient&&A_(r.remoteStore,_)}return l})).apply(this,arguments)}function cT(i,n,r,a){return dT.apply(this,arguments)}function dT(){return(dT=(0,ve.Z)(function*(i,n,r,a){i.Ko=(M,k,z)=>{return(K=(0,ve.Z)(function*(Ce,Re,qe,Mt){let Vt=Re.view.Io(qe);Vt.Ln&&(Vt=yield I_(Ce.localStore,Re.query,!1).then(({documents:fi})=>Re.view.Io(fi,Vt)));const It=Mt&&Mt.targetChanges.get(Re.targetId),Wt=Re.view.applyChanges(Vt,Ce.isPrimaryClient,It);return vT(Ce,Re.targetId,Wt.vo),Wt.snapshot}),function(Ce,Re,qe,Mt){return K.apply(this,arguments)})(i,M,k,z);var K};const l=yield I_(i.localStore,n,!0),f=new IC(n,l.Gn),_=f.Io(l.documents),w=mp.createSynthesizedTargetChangeForCurrentChange(r,a&&"Offline"!==i.onlineState),T=f.applyChanges(_,i.isPrimaryClient,w);vT(i,r,T.vo);const S=new lT(n,r,f);return i.xo.set(n,S),i.ko.has(r)?i.ko.get(r).push(n):i.ko.set(r,[n]),T.snapshot})).apply(this,arguments)}function FS(i,n){return hT.apply(this,arguments)}function hT(){return(hT=(0,ve.Z)(function*(i,n){const r=ke(i),a=r.xo.get(n),l=r.ko.get(a.targetId);if(l.length>1)return r.ko.set(a.targetId,l.filter(f=>!fl(f,n))),void r.xo.delete(n);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||(yield Ip(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),Op(r.remoteStore,a.targetId),kd(r,a.targetId)}).catch(Ua))):(kd(r,a.targetId),yield Ip(r.localStore,a.targetId,!0))})).apply(this,arguments)}function fT(){return(fT=(0,ve.Z)(function*(i,n,r){const a=AT(i);try{const l=yield function(f,_){const w=ke(f),T=nr.now(),S=_.reduce((k,z)=>k.add(z.key),Ht());let M;return w.persistence.runTransaction("Locally write mutations","readwrite",k=>w.Qn.Pn(k,S).next(z=>{M=z;const K=[];for(const Ce of _){const Re=hx(Ce,M.get(Ce.key));null!=Re&&K.push(new to(Ce.key,Re,g0(Re.value.mapValue),En.exists(!0)))}return w.In.addMutationBatch(k,T,K,_)})).then(k=>(k.applyToLocalDocumentSet(M),{batchId:k.batchId,changes:M}))}(a.localStore,n);a.sharedClientState.addPendingMutation(l.batchId),function(f,_,w){let T=f.Lo[f.currentUser.toKey()];T||(T=new Yn(vt)),T=T.insert(_,w),f.Lo[f.currentUser.toKey()]=T}(a,l.batchId,r),yield ea(a,l.changes),yield fs(a.remoteStore)}catch(l){const f=Tl(l,"Failed to persist write");r.reject(f)}})).apply(this,arguments)}function s1(i,n){return pT.apply(this,arguments)}function pT(){return(pT=(0,ve.Z)(function*(i,n){const r=ke(i);try{const a=yield Vx(r.localStore,n);n.targetChanges.forEach((l,f)=>{const _=r.Fo.get(f);_&&(ot(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?_.Co=!0:l.modifiedDocuments.size>0?ot(_.Co):l.removedDocuments.size>0&&(ot(_.Co),_.Co=!1))}),yield ea(r,a,n)}catch(a){yield Ua(a)}})).apply(this,arguments)}function o1(i,n,r){const a=ke(i);if(a.isPrimaryClient&&0===r||!a.isPrimaryClient&&1===r){const l=[];a.xo.forEach((f,_)=>{const w=_.view.eo(n);w.snapshot&&l.push(w.snapshot)}),function(f,_){const w=ke(f);w.onlineState=_;let T=!1;w.queries.forEach((S,M)=>{for(const k of M.listeners)k.eo(_)&&(T=!0)}),T&&k_(w)}(a.eventManager,n),l.length&&a.No.Tr(l),a.onlineState=n,a.isPrimaryClient&&a.sharedClientState.setOnlineState(n)}}function VS(i,n,r){return gT.apply(this,arguments)}function gT(){return(gT=(0,ve.Z)(function*(i,n,r){const a=ke(i);a.sharedClientState.updateQueryState(n,"rejected",r);const l=a.Fo.get(n),f=l&&l.key;if(f){let _=new Yn(Ye.comparator);_=_.insert(f,bn.newNoDocument(f,ht.min()));const w=Ht().add(f),T=new gp(ht.min(),new Map,new xn(vt),_,w);yield s1(a,T),a.Oo=a.Oo.remove(f),a.Fo.delete(n),AC(a)}else yield Ip(a.localStore,n,!1).then(()=>kd(a,n,r)).catch(Ua)})).apply(this,arguments)}function US(i,n){return mT.apply(this,arguments)}function mT(){return(mT=(0,ve.Z)(function*(i,n){const r=ke(i),a=n.batch.batchId;try{const l=yield $I(r.localStore,n);DC(r,a,null),TC(r,a),r.sharedClientState.updateMutationState(a,"acknowledged"),yield ea(r,l)}catch(l){yield Ua(l)}})).apply(this,arguments)}function BS(i,n,r){return _T.apply(this,arguments)}function _T(){return(_T=(0,ve.Z)(function*(i,n,r){const a=ke(i);try{const l=yield function(f,_){const w=ke(f);return w.persistence.runTransaction("Reject batch","readwrite-primary",T=>{let S;return w.In.lookupMutationBatch(T,_).next(M=>(ot(null!==M),S=M.keys(),w.In.removeMutationBatch(T,M))).next(()=>w.In.performConsistencyCheck(T)).next(()=>w.Qn.Pn(T,S))})}(a.localStore,n);DC(a,n,r),TC(a,n),a.sharedClientState.updateMutationState(n,"rejected",r),yield ea(a,l)}catch(l){yield Ua(l)}})).apply(this,arguments)}function yT(){return(yT=(0,ve.Z)(function*(i,n){const r=ke(i);Ha(r.remoteStore)||de("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=yield function(f){const _=ke(f);return _.persistence.runTransaction("Get highest unacknowledged batch id","readonly",w=>_.In.getHighestUnacknowledgedBatchId(w))}(r.localStore);if(-1===a)return void n.resolve();const l=r.Bo.get(a)||[];l.push(n),r.Bo.set(a,l)}catch(a){const l=Tl(a,"Initialization of waitForPendingWrites() operation failed");n.reject(l)}})).apply(this,arguments)}function TC(i,n){(i.Bo.get(n)||[]).forEach(r=>{r.resolve()}),i.Bo.delete(n)}function DC(i,n,r){const a=ke(i);let l=a.Lo[a.currentUser.toKey()];if(l){const f=l.get(n);f&&(r?f.reject(r):f.resolve(),l=l.remove(n)),a.Lo[a.currentUser.toKey()]=l}}function kd(i,n,r=null){i.sharedClientState.removeLocalQueryTarget(n);for(const a of i.ko.get(n))i.xo.delete(a),r&&i.No.jo(a,r);i.ko.delete(n),i.isPrimaryClient&&i.Mo.cs(n).forEach(a=>{i.Mo.containsKey(a)||a1(i,a)})}function a1(i,n){i.$o.delete(n.path.canonicalString());const r=i.Oo.get(n);null!==r&&(Op(i.remoteStore,r),i.Oo=i.Oo.remove(n),i.Fo.delete(r),AC(i))}function vT(i,n,r){for(const a of r)a instanceof wC?(i.Mo.addReference(a.key,n),HS(i,a)):a instanceof EC?(de("SyncEngine","Document no longer in limbo: "+a.key),i.Mo.removeReference(a.key,n),i.Mo.containsKey(a.key)||a1(i,a.key)):ze()}function HS(i,n){const r=n.key,a=r.path.canonicalString();i.Oo.get(r)||i.$o.has(a)||(de("SyncEngine","New document in limbo: "+r),i.$o.add(a),AC(i))}function AC(i){for(;i.$o.size>0&&i.Oo.size<i.maxConcurrentLimboResolutions;){const n=i.$o.values().next().value;i.$o.delete(n);const r=new Ye(xt.fromString(n)),a=i.Uo.next();i.Fo.set(a,new n1(r)),i.Oo=i.Oo.insert(r,a),A_(i.remoteStore,new Fa(li(ld(r.path)),a,2,Ti.T))}}function ea(i,n,r){return xC.apply(this,arguments)}function xC(){return(xC=(0,ve.Z)(function*(i,n,r){const a=ke(i),l=[],f=[],_=[];var w;a.xo.isEmpty()||(a.xo.forEach((w,T)=>{_.push(a.Ko(T,n,r).then(S=>{if(S){a.isPrimaryClient&&a.sharedClientState.updateQueryState(T.targetId,S.fromCache?"not-current":"current"),l.push(S);const M=w_.kn(T.targetId,S);f.push(M)}}))}),yield Promise.all(_),a.No.Tr(l),yield(w=(0,ve.Z)(function*(T,S){const M=ke(T);try{yield M.persistence.runTransaction("notifyLocalViewChanges","readwrite",k=>Te.forEach(S,z=>Te.forEach(z.Nn,K=>M.persistence.referenceDelegate.addReference(k,z.targetId,K)).next(()=>Te.forEach(z.xn,K=>M.persistence.referenceDelegate.removeReference(k,z.targetId,K)))))}catch(k){if(!Jo(k))throw k;de("LocalStore","Failed to update sequence numbers: "+k)}for(const k of S){const z=k.targetId;if(!k.fromCache){const K=M.Un.get(z),Re=K.withLastLimboFreeSnapshotVersion(K.snapshotVersion);M.Un=M.Un.insert(z,Re)}}}),function(T,S){return w.apply(this,arguments)})(a.localStore,f))})).apply(this,arguments)}function ZS(i,n){return CT.apply(this,arguments)}function CT(){return(CT=(0,ve.Z)(function*(i,n){const r=ke(i);if(!r.currentUser.isEqual(n)){de("SyncEngine","User change. New user:",n.toKey());const a=yield K0(r.localStore,n);r.currentUser=n,(l=r).Bo.forEach(_=>{_.forEach(w=>{w.reject(new Ae(te.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.Bo.clear(),r.sharedClientState.handleUserChange(n,a.removedBatchIds,a.addedBatchIds),yield ea(r,a.Wn)}var l})).apply(this,arguments)}function $S(i,n){const r=ke(i),a=r.Fo.get(n);if(a&&a.Co)return Ht().add(a.key);{let l=Ht();const f=r.ko.get(n);if(!f)return l;for(const _ of f){const w=r.xo.get(_);l=l.unionWith(w.view.To)}return l}}function qS(i,n){return SC.apply(this,arguments)}function SC(){return(SC=(0,ve.Z)(function*(i,n){const r=ke(i),a=yield I_(r.localStore,n.query,!0),l=n.view.So(a);return r.isPrimaryClient&&vT(r,n.targetId,l.vo),l})).apply(this,arguments)}function GS(i){return MC.apply(this,arguments)}function MC(){return(MC=(0,ve.Z)(function*(i){const n=ke(i);return Ux(n.localStore).then(r=>ea(n,r))})).apply(this,arguments)}function NC(i,n,r,a){return Za.apply(this,arguments)}function Za(){return(Za=(0,ve.Z)(function*(i,n,r,a){const l=ke(i),f=yield function(_,w){const T=ke(_),S=ke(T.In);return T.persistence.runTransaction("Lookup mutation documents","readonly",M=>S.Xt(M,w).next(k=>k?T.Qn.Pn(M,k):Te.resolve(null)))}(l.localStore,n);var w;null!==f?("pending"===r?yield fs(l.remoteStore):"acknowledged"===r||"rejected"===r?(DC(l,n,a||null),TC(l,n),w=n,ke(ke(l.localStore).In).te(w)):ze(),yield ea(l,f)):de("SyncEngine","Cannot apply mutation batch with id: "+n)})).apply(this,arguments)}function OC(){return(OC=(0,ve.Z)(function*(i,n){const r=ke(i);if(V_(r),AT(r),!0===n&&!0!==r.qo){const a=r.sharedClientState.getAllActiveQueryTargets(),l=yield wT(r,a.toArray());r.qo=!0,yield Rd(r.remoteStore,!0);for(const f of l)A_(r.remoteStore,f)}else if(!1===n&&!1!==r.qo){const a=[];let l=Promise.resolve();r.ko.forEach((f,_)=>{r.sharedClientState.isLocalQueryTarget(_)?a.push(_):l=l.then(()=>(kd(r,_),Ip(r.localStore,_,!0))),Op(r.remoteStore,_)}),yield l,yield wT(r,a),function(f){const _=ke(f);_.Fo.forEach((w,T)=>{Op(_.remoteStore,T)}),_.Mo.us(),_.Fo=new Map,_.Oo=new Yn(Ye.comparator)}(r),r.qo=!1,yield Rd(r.remoteStore,!1)}})).apply(this,arguments)}function wT(i,n,r){return Lp.apply(this,arguments)}function Lp(){return(Lp=(0,ve.Z)(function*(i,n,r){const a=ke(i),l=[],f=[];for(const _ of n){let w;const T=a.ko.get(_);if(T&&0!==T.length){w=yield Ad(a.localStore,li(T[0]));for(const S of T){const M=a.xo.get(S),k=yield qS(a,M);k.snapshot&&f.push(k.snapshot)}}else{const S=yield Il(a.localStore,_);w=yield Ad(a.localStore,S),yield cT(a,RC(S),_,!1)}l.push(w)}return a.No.Tr(f),l})).apply(this,arguments)}function RC(i){return m0(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function ET(i){const n=ke(i);return ke(ke(n.localStore).persistence).pn()}function IT(i,n,r,a){return TT.apply(this,arguments)}function TT(){return(TT=(0,ve.Z)(function*(i,n,r,a){const l=ke(i);if(l.qo)de("SyncEngine","Ignoring unexpected query state notification.");else if(l.ko.has(n))switch(r){case"current":case"not-current":{const f=yield Ux(l.localStore),_=gp.createSynthesizedRemoteEventForCurrentChange(n,"current"===r);yield ea(l,f,_);break}case"rejected":yield Ip(l.localStore,n,!0),kd(l,n,a);break;default:ze()}})).apply(this,arguments)}function DT(i,n,r){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,ve.Z)(function*(i,n,r){const a=V_(i);if(a.qo){for(const l of n){if(a.ko.has(l)){de("SyncEngine","Adding an already active target "+l);continue}const f=yield Il(a.localStore,l),_=yield Ad(a.localStore,f);yield cT(a,RC(f),_.targetId,!1),A_(a.remoteStore,_)}for(const l of r)a.ko.has(l)&&(yield Ip(a.localStore,l,!1).then(()=>{Op(a.remoteStore,l),kd(a,l)}).catch(Ua))}})).apply(this,arguments)}function V_(i){const n=ke(i);return n.remoteStore.remoteSyncer.applyRemoteEvent=s1.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=$S.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=VS.bind(null,n),n.No.Tr=sT.bind(null,n.eventManager),n.No.jo=e1.bind(null,n.eventManager),n}function AT(i){const n=ke(i);return n.remoteStore.remoteSyncer.applySuccessfulWrite=US.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=BS.bind(null,n),n}class u1{constructor(){this.synchronizeTabs=!1}initialize(n){var r=this;return(0,ve.Z)(function*(){r.N=hi(n.databaseInfo.databaseId),r.sharedClientState=r.Wo(n),r.persistence=r.Go(n),yield r.persistence.start(),r.gcScheduler=r.zo(n),r.localStore=r.Ho(n)})()}zo(n){return null}Ho(n){return ZI(this.persistence,new Zi,n.initialUser,this.N)}Go(n){return new qx(X0.Ns,this.N)}Wo(n){return new YI}terminate(){var n=this;return(0,ve.Z)(function*(){n.gcScheduler&&n.gcScheduler.stop(),yield n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}class xT extends u1{constructor(n,r,a){super(),this.Jo=n,this.cacheSizeBytes=r,this.forceOwnership=a,this.synchronizeTabs=!1}initialize(n){var r=()=>super.initialize,a=this;return(0,ve.Z)(function*(){yield r().call(a,n),yield function(i){return J0.apply(this,arguments)}(a.localStore),yield a.Jo.initialize(a,n),yield AT(a.Jo.syncEngine),yield fs(a.Jo.remoteStore),yield a.persistence.nn(()=>(a.gcScheduler&&!a.gcScheduler.started&&a.gcScheduler.start(a.localStore),Promise.resolve()))})()}Ho(n){return ZI(this.persistence,new Zi,n.initialUser,this.N)}zo(n){return new Px(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue)}Go(n){const r=z0(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),a=void 0!==this.cacheSizeBytes?Ai.withCacheSize(this.cacheSizeBytes):Ai.DEFAULT;return new G0(this.synchronizeTabs,r,n.clientId,a,n.asyncQueue,QI(),Md(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(n){return new YI}}class WS extends xT{constructor(n,r){super(n,r,!1),this.Jo=n,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(n){var r=()=>super.initialize,a=this;return(0,ve.Z)(function*(){yield r().call(a,n);const l=a.Jo.syncEngine;a.sharedClientState instanceof rC&&(a.sharedClientState.syncEngine={_i:NC.bind(null,l),mi:IT.bind(null,l),gi:DT.bind(null,l),pn:ET.bind(null,l),wi:GS.bind(null,l)},yield a.sharedClientState.start()),yield a.persistence.nn(function(){var f=(0,ve.Z)(function*(_){yield function(i,n){return OC.apply(this,arguments)}(a.Jo.syncEngine,_),a.gcScheduler&&(_&&!a.gcScheduler.started?a.gcScheduler.start(a.localStore):_||a.gcScheduler.stop())});return function(_){return f.apply(this,arguments)}}())})()}Wo(n){const r=QI();if(!rC.bt(r))throw new Ae(te.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=z0(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new rC(r,n.asyncQueue,a,n.clientId,n.initialUser)}}class Ld{initialize(n,r){var a=this;return(0,ve.Z)(function*(){a.localStore||(a.localStore=n.localStore,a.sharedClientState=n.sharedClientState,a.datastore=a.createDatastore(r),a.remoteStore=a.createRemoteStore(r),a.eventManager=a.createEventManager(r),a.syncEngine=a.createSyncEngine(r,!n.synchronizeTabs),a.sharedClientState.onlineStateHandler=l=>o1(a.syncEngine,l,1),a.remoteStore.remoteSyncer.handleCredentialChange=ZS.bind(null,a.syncEngine),yield Rd(a.remoteStore,a.syncEngine.isPrimaryClient))})()}createEventManager(n){return new vC}createDatastore(n){const r=hi(n.databaseInfo.databaseId),a=new Sp(n.databaseInfo);return new PS(n.credentials,a,r)}createRemoteStore(n){return r=this.localStore,a=this.datastore,l=n.asyncQueue,f=w=>o1(this.syncEngine,w,0),_=JI.bt()?new JI:new zx,new oC(r,a,l,f,_);var r,a,l,f,_}createSyncEngine(n,r){return function(a,l,f,_,w,T,S){const M=new r1(a,l,f,_,w,T);return S&&(M.qo=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return(n=(0,ve.Z)(function*(r){const a=ke(r);de("RemoteStore","RemoteStore shutting down."),a.Kr.add(5),yield ja(a),a.Qr.shutdown(),a.Wr.set("Unknown")}),function(r){return n.apply(this,arguments)})(this.remoteStore);var n}}function ST(i,n=10240){let r=0;return{read:()=>(0,ve.Z)(function*(){if(r<i.byteLength){const a={value:i.slice(r,r+n),done:!1};return r+=n,a}return{done:!0}})(),cancel:()=>(0,ve.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class PC{constructor(n){this.observer=n,this.muted=!1}next(n){this.observer.next&&this.Yo(this.observer.next,n)}error(n){this.observer.error?this.Yo(this.observer.error,n):console.error("Uncaught Error in snapshot listener:",n)}Xo(){this.muted=!0}Yo(n,r){this.muted||setTimeout(()=>{this.muted||n(r)},0)}}class KS{constructor(n,r){this.Zo=n,this.N=r,this.metadata=new Wn,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(a=>{a&&a.ho()?this.metadata.resolve(a.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==a?void 0:a.payload)}`))},a=>this.metadata.reject(a))}close(){return this.Zo.cancel()}getMetadata(){var n=this;return(0,ve.Z)(function*(){return n.metadata.promise})()}Qo(){var n=this;return(0,ve.Z)(function*(){return yield n.getMetadata(),n.ea()})()}ea(){var n=this;return(0,ve.Z)(function*(){const r=yield n.na();if(null===r)return null;const a=n.ta.decode(r),l=Number(a);isNaN(l)&&n.sa(`length string (${a}) is not valid number`);const f=yield n.ia(l);return new t1(JSON.parse(f),r.length+l)})()}ra(){return this.buffer.findIndex(n=>n==="{".charCodeAt(0))}na(){var n=this;return(0,ve.Z)(function*(){for(;n.ra()<0&&!(yield n.oa()););if(0===n.buffer.length)return null;const r=n.ra();r<0&&n.sa("Reached the end of bundle when a length string is expected.");const a=n.buffer.slice(0,r);return n.buffer=n.buffer.slice(r),a})()}ia(n){var r=this;return(0,ve.Z)(function*(){for(;r.buffer.length<n;)(yield r.oa())&&r.sa("Reached the end of bundle when more is expected.");const a=r.ta.decode(r.buffer.slice(0,n));return r.buffer=r.buffer.slice(n),a})()}sa(n){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${n}`)}oa(){var n=this;return(0,ve.Z)(function*(){const r=yield n.Zo.read();if(!r.done){const a=new Uint8Array(n.buffer.length+r.value.length);a.set(n.buffer),a.set(r.value,n.buffer.length),n.buffer=a}return r.done})()}}class kC{constructor(n){this.datastore=n,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(n){var r=this;return(0,ve.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw new Ae(te.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const a=yield(l=(0,ve.Z)(function*(f,_){const w=ke(f),T=_l(w.N)+"/documents",S={documents:_.map(K=>yp(w.N,K))},M=yield w.Ki("BatchGetDocuments",T,S),k=new Map;M.forEach(K=>{const Ce=function(i,n){return"found"in n?function(r,a){ot(!!a.found);const l=no(r,a.found.name),f=_r(a.found.updateTime),_=new Nr({mapValue:{fields:a.found.fields}});return bn.newFoundDocument(l,f,_)}(i,n):"missing"in n?function(r,a){ot(!!a.missing),ot(!!a.readTime);const l=no(r,a.missing),f=_r(a.readTime);return bn.newNoDocument(l,f)}(i,n):ze()}(w.N,K);k.set(Ce.key.toString(),Ce)});const z=[];return _.forEach(K=>{const Ce=k.get(K.toString());ot(!!Ce),z.push(Ce)}),z}),function(f,_){return l.apply(this,arguments)})(r.datastore,n);var l;return a.forEach(l=>r.recordVersion(l)),a})()}set(n,r){this.write(r.toMutation(n,this.precondition(n))),this.writtenDocs.add(n.toString())}update(n,r){try{this.write(r.toMutation(n,this.preconditionForUpdate(n)))}catch(a){this.lastWriteError=a}this.writtenDocs.add(n.toString())}delete(n){this.write(new hp(n,this.precondition(n))),this.writtenDocs.add(n.toString())}commit(){var n=this;return(0,ve.Z)(function*(){if(n.ensureCommitNotCalled(),n.lastWriteError)throw n.lastWriteError;const r=n.readVersions;var a;n.mutations.forEach(a=>{r.delete(a.key.toString())}),r.forEach((a,l)=>{const f=Ye.fromPath(l);n.mutations.push(new D0(f,n.precondition(f)))}),yield(a=(0,ve.Z)(function*(l,f){const _=ke(l),w=_l(_.N)+"/documents",T={writes:f.map(S=>f_(_.N,S))};yield _.Li("Commit",w,T)}),function(l,f){return a.apply(this,arguments)})(n.datastore,n.mutations),n.committed=!0})()}recordVersion(n){let r;if(n.isFoundDocument())r=n.version;else{if(!n.isNoDocument())throw ze();r=ht.min()}const a=this.readVersions.get(n.key.toString());if(a){if(!r.isEqual(a))throw new Ae(te.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(n.key.toString(),r)}precondition(n){const r=this.readVersions.get(n.toString());return!this.writtenDocs.has(n.toString())&&r?En.updateTime(r):En.none()}preconditionForUpdate(n){const r=this.readVersions.get(n.toString());if(!this.writtenDocs.has(n.toString())&&r){if(r.isEqual(ht.min()))throw new Ae(te.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return En.updateTime(r)}return En.exists(!0)}write(n){this.ensureCommitNotCalled(),this.mutations.push(n)}ensureCommitNotCalled(){}}class l1{constructor(n,r,a,l){this.asyncQueue=n,this.datastore=r,this.updateFunction=a,this.deferred=l,this.aa=5,this.rr=new iC(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var n=this;this.rr.Xi((0,ve.Z)(function*(){const r=new kC(n.datastore),a=n.ua(r);a&&a.then(l=>{n.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{n.deferred.resolve(l)}).catch(f=>{n.ha(f)}))}).catch(l=>{n.ha(l)})}))}ua(n){try{const r=this.updateFunction(n);return!id(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}ha(n){this.aa>0&&this.la(n)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(n)}la(n){if("FirebaseError"===n.name){const r=n.code;return"aborted"===r||"failed-precondition"===r||!A0(r)}return!1}}class YS{constructor(n,r,a){var l=this;this.credentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=zn.UNAUTHENTICATED,this.clientId=rI.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(r,function(){var f=(0,ve.Z)(function*(_){de("FirestoreClient","Received user=",_.uid),yield l.credentialListener(_),l.user=_});return function(_){return f.apply(this,arguments)}}())}getConfiguration(){var n=this;return(0,ve.Z)(function*(){return{asyncQueue:n.asyncQueue,databaseInfo:n.databaseInfo,clientId:n.clientId,credentials:n.credentials,initialUser:n.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(n){this.credentialListener=n}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ae(te.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const r=new Wn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{n.onlineComponents&&(yield n.onlineComponents.terminate()),n.offlineComponents&&(yield n.offlineComponents.terminate()),n.credentials.shutdown(),r.resolve()}catch(a){const l=Tl(a,"Failed to shutdown persistence");r.reject(l)}})),r.promise}}function c1(i,n){return FC.apply(this,arguments)}function FC(){return(FC=(0,ve.Z)(function*(i,n){i.asyncQueue.verifyOperationInProgress(),de("FirestoreClient","Initializing OfflineComponentProvider");const r=yield i.getConfiguration();yield n.initialize(r);let a=r.initialUser;i.setCredentialChangeListener(function(){var l=(0,ve.Z)(function*(f){a.isEqual(f)||(yield K0(n.localStore,f),a=f)});return function(f){return l.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=n})).apply(this,arguments)}function d1(i,n){return U_.apply(this,arguments)}function U_(){return(U_=(0,ve.Z)(function*(i,n){i.asyncQueue.verifyOperationInProgress();const r=yield LC(i);de("FirestoreClient","Initializing OnlineComponentProvider");const a=yield i.getConfiguration();yield n.initialize(r,a),i.setCredentialChangeListener(l=>{return(f=(0,ve.Z)(function*(_,w){const T=ke(_);T.asyncQueue.verifyOperationInProgress(),de("RemoteStore","RemoteStore received new credentials");const S=Ha(T);T.Kr.add(3),yield ja(T),S&&T.Wr.set("Unknown"),yield T.remoteSyncer.handleCredentialChange(w),T.Kr.delete(3),yield Nd(T)}),function(_,w){return f.apply(this,arguments)})(n.remoteStore,l);var f}),i.onlineComponents=n})).apply(this,arguments)}function LC(i){return MT.apply(this,arguments)}function MT(){return(MT=(0,ve.Z)(function*(i){return i.offlineComponents||(de("FirestoreClient","Using default OfflineComponentProvider"),yield c1(i,new u1)),i.offlineComponents})).apply(this,arguments)}function VC(i){return UC.apply(this,arguments)}function UC(){return(UC=(0,ve.Z)(function*(i){return i.onlineComponents||(de("FirestoreClient","Using default OnlineComponentProvider"),yield d1(i,new Ld)),i.onlineComponents})).apply(this,arguments)}function Vd(i){return LC(i).then(n=>n.persistence)}function BC(i){return LC(i).then(n=>n.localStore)}function NT(i){return VC(i).then(n=>n.remoteStore)}function jC(i){return VC(i).then(n=>n.syncEngine)}function $a(i){return HC.apply(this,arguments)}function HC(){return(HC=(0,ve.Z)(function*(i){const n=yield VC(i),r=n.eventManager;return r.onListen=i1.bind(null,n.syncEngine),r.onUnlisten=FS.bind(null,n.syncEngine),r})).apply(this,arguments)}function OT(i,n,r={}){const a=new Wn;return i.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(l,f,_,w,T){const S=new PC({next:k=>{f.enqueueAndForget(()=>R_(l,M));const z=k.docs.has(_);!z&&k.fromCache?T.reject(new Ae(te.UNAVAILABLE,"Failed to get document because the client is offline.")):z&&k.fromCache&&w&&"server"===w.source?T.reject(new Ae(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):T.resolve(k)},error:k=>T.reject(k)}),M=new F_(ld(_.path),S,{includeMetadataChanges:!0,uo:!0});return CC(l,M)}(yield $a(i),i.asyncQueue,n,r,a)})),a.promise}function B_(i,n,r={}){const a=new Wn;return i.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(l,f,_,w,T){const S=new PC({next:k=>{f.enqueueAndForget(()=>R_(l,M)),k.fromCache&&"server"===w.source?T.reject(new Ae(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):T.resolve(k)},error:k=>T.reject(k)}),M=new F_(_,S,{includeMetadataChanges:!0,uo:!0});return CC(l,M)}(yield $a(i),i.asyncQueue,n,r,a)})),a.promise}class FT{constructor(n,r,a,l,f,_,w,T){this.databaseId=n,this.appId=r,this.persistenceKey=a,this.host=l,this.ssl=f,this.forceLongPolling=_,this.autoDetectLongPolling=w,this.useFetchStreams=T}}class Ud{constructor(n,r){this.projectId=n,this.database=r||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(n){return n instanceof Ud&&n.projectId===this.projectId&&n.database===this.database}}const LT=new Map;function Vp(i,n,r){if(!r)throw new Ae(te.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${n}.`)}function $C(i,n,r,a){if(!0===n&&!0===a)throw new Ae(te.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function qC(i){if(!Ye.isDocumentKey(i))throw new Ae(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function j_(i){if(Ye.isDocumentKey(i))throw new Ae(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function H_(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const n=(r=i).constructor?r.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var r;return"function"==typeof i?"a function":ze()}function mt(i,n){if("_delegate"in i&&(i=i._delegate),!(i instanceof n)){if(n.name===i.constructor.name)throw new Ae(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=H_(i);throw new Ae(te.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${r}`)}}return i}function VT(i,n){if(n<=0)throw new Ae(te.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${n}.`)}class g1{constructor(n){var r;if(void 0===n.host){if(void 0!==n.ssl)throw new Ae(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(r=n.ssl)||void 0===r||r;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new Ae(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.useFetchStreams=!!n.useFetchStreams,$C("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling)}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class Up{constructor(n,r){this._credentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new g1({}),this._settingsFrozen=!1,n instanceof Ud?this._databaseId=n:(this._app=n,this._databaseId=function(a){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Ae(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ud(a.options.projectId)}(n))}get app(){if(!this._app)throw new Ae(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new Ae(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new g1(n),void 0!==n.credentials&&(this._credentials=function(r){if(!r)return new QA;switch(r.type){case"gapi":const a=r.client;return ot(!("object"!=typeof a||null===a||!a.auth||!a.auth.getAuthHeaderValueForFirstParty)),new nI(a,r.sessionIndex||"0",r.iamToken||null);case"provider":return r.client;default:throw new Ae(te.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=LT.get(n);r&&(de("ComponentProvider","Removing Datastore"),LT.delete(n),r.terminate())}(this),Promise.resolve()}}class dn{constructor(n,r,a){this.converter=r,this._key=a,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new so(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new dn(this.firestore,n,this._key)}}class Pr{constructor(n,r,a){this.converter=r,this._query=a,this.type="query",this.firestore=n}withConverter(n){return new Pr(this.firestore,n,this._query)}}class so extends Pr{constructor(n,r,a){super(n,r,ld(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new dn(this.firestore,null,new Ye(n))}withConverter(n){return new so(this.firestore,n,this._path)}}function m1(i,n,...r){if(i=(0,Pt.m9)(i),Vp("collection","path",n),i instanceof Up){const a=xt.fromString(n,...r);return j_(a),new so(i,null,a)}{if(!(i instanceof dn||i instanceof so))throw new Ae(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(xt.fromString(n,...r));return j_(a),new so(i.firestore,null,a)}}function Bp(i,n,...r){if(i=(0,Pt.m9)(i),1===arguments.length&&(n=rI.I()),Vp("doc","path",n),i instanceof Up){const a=xt.fromString(n,...r);return qC(a),new dn(i,null,new Ye(a))}{if(!(i instanceof dn||i instanceof so))throw new Ae(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(xt.fromString(n,...r));return qC(a),new dn(i.firestore,i instanceof so?i.converter:null,new Ye(a))}}function UT(i,n){return i=(0,Pt.m9)(i),n=(0,Pt.m9)(n),(i instanceof dn||i instanceof so)&&(n instanceof dn||n instanceof so)&&i.firestore===n.firestore&&i.path===n.path&&i.converter===n.converter}function BT(i,n){return i=(0,Pt.m9)(i),n=(0,Pt.m9)(n),i instanceof Pr&&n instanceof Pr&&i.firestore===n.firestore&&fl(i._query,n._query)&&i.converter===n.converter}class jT{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new iC(this,"async_queue_retry"),this.Ea=()=>{const r=Md();r&&de("AsyncQueue","Visibility state changed to "+r.visibilityState),this.rr.tr()};const n=Md();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.Ta(),this.Ia(n)}enterRestrictedMode(n){if(!this.wa){this.wa=!0,this.ya=n||!1;const r=Md();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.Ea)}}enqueue(n){if(this.Ta(),this.wa)return new Promise(()=>{});const r=new Wn;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(n().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.da.push(n),this.Aa()))}Aa(){var n=this;return(0,ve.Z)(function*(){if(0!==n.da.length){try{yield n.da[0](),n.da.shift(),n.rr.reset()}catch(r){if(!Jo(r))throw r;de("AsyncQueue","Operation failed with retryable error: "+r)}n.da.length>0&&n.rr.Xi(()=>n.Aa())}})()}Ia(n){const r=this.fa.then(()=>(this.ga=!0,n().catch(a=>{throw this.ma=a,this.ga=!1,Fn("INTERNAL UNHANDLED ERROR: ",function(l){let f=l.message||"";return l.stack&&(f=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),f}(a)),a}).then(a=>(this.ga=!1,a))));return this.fa=r,r}enqueueAfterDelay(n,r,a){this.Ta(),this.pa.indexOf(n)>-1&&(r=0);const l=mC.createAndSchedule(this,n,r,a,f=>this.Ra(f));return this._a.push(l),l}Ta(){this.ma&&ze()}verifyOperationInProgress(){}ba(){var n=this;return(0,ve.Z)(function*(){let r;do{r=n.fa,yield r}while(r!==n.fa)})()}Pa(n){for(const r of this._a)if(r.timerId===n)return!0;return!1}va(n){return this.ba().then(()=>{this._a.sort((r,a)=>r.targetTimeMs-a.targetTimeMs);for(const r of this._a)if(r.skipDelay(),"all"!==n&&r.timerId===n)break;return this.ba()})}Va(n){this.pa.push(n)}Ra(n){const r=this._a.indexOf(n);this._a.splice(r,1)}}function GC(i){return function(n,r){if("object"!=typeof n||null===n)return!1;const a=n;for(const l of["next","error","complete"])if(l in a&&"function"==typeof a[l])return!0;return!1}(i)}class QS{constructor(){this._progressObserver={},this._taskCompletionResolver=new Wn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(n,r,a){this._progressObserver={next:n,error:r,complete:a}}catch(n){return this._taskCompletionResolver.promise.catch(n)}then(n,r){return this._taskCompletionResolver.promise.then(n,r)}_completeWith(n){this._updateProgress(n),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(n)}_failWith(n){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(n),this._taskCompletionResolver.reject(n)}_updateProgress(n){this._lastProgress=n,this._progressObserver.next&&this._progressObserver.next(n)}}class Dn extends Up{constructor(n,r){super(n,r),this.type="firestore",this._queue=new jT,this._persistenceKey="name"in n?n.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Bd(this),this._firestoreClient.terminate()}}function jn(i){return i._firestoreClient||Bd(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Bd(i){var n;const r=i._freezeSettings(),a=(f=(null===(n=i._app)||void 0===n?void 0:n.options.appId)||"",new FT(i._databaseId,f,i._persistenceKey,(w=r).host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,w.useFetchStreams));var f,w;i._firestoreClient=new YS(i._credentials,i._queue,a)}function $T(i,n,r){const a=new Wn;return i.asyncQueue.enqueue((0,ve.Z)(function*(){try{yield c1(i,r),yield d1(i,n),a.resolve()}catch(l){if(!("FirebaseError"===(f=l).name?f.code===te.FAILED_PRECONDITION||f.code===te.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&f instanceof DOMException)||22===f.code||20===f.code||11===f.code))throw l;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+l),a.reject(l)}var f})).then(()=>a.promise)}function GT(i){if(i._initialized||i._terminated)throw new Ae(te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ta{constructor(...n){for(let r=0;r<n.length;++r)if(0===n[r].length)throw new Ae(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mr(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class ps{constructor(n){this._byteString=n}static fromBase64String(n){try{return new ps(Kn.fromBase64String(n))}catch(r){throw new Ae(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(n){return new ps(Kn.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class jd{constructor(n){this._methodName=n}}class WC{constructor(n,r){if(!isFinite(n)||n<-90||n>90)throw new Ae(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(r)||r<-180||r>180)throw new Ae(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=n,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return vt(this._lat,n._lat)||vt(this._long,n._long)}}const b1=/^__.*__$/;class KC{constructor(n,r,a){this.data=n,this.fieldMask=r,this.fieldTransforms=a}toMutation(n,r){return null!==this.fieldMask?new to(n,this.data,this.fieldMask,r,this.fieldTransforms):new dd(n,this.data,r,this.fieldTransforms)}}class Jn{constructor(n,r,a){this.data=n,this.fieldMask=r,this.fieldTransforms=a}toMutation(n,r){return new to(n,this.data,this.fieldMask,r,this.fieldTransforms)}}function w1(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ze()}}class jp{constructor(n,r,a,l,f,_){this.settings=n,this.databaseId=r,this.N=a,this.ignoreUndefinedProperties=l,void 0===f&&this.Sa(),this.fieldTransforms=f||[],this.fieldMask=_||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(n){return new jp(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(n){var r;const a=null===(r=this.path)||void 0===r?void 0:r.child(n),l=this.Ca({path:a,xa:!1});return l.ka(n),l}$a(n){var r;const a=null===(r=this.path)||void 0===r?void 0:r.child(n),l=this.Ca({path:a,xa:!1});return l.Sa(),l}Oa(n){return this.Ca({path:void 0,xa:!0})}Fa(n){return eb(n,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(n){return void 0!==this.fieldMask.find(r=>n.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>n.isPrefixOf(r.field))}Sa(){if(this.path)for(let n=0;n<this.path.length;n++)this.ka(this.path.get(n))}ka(n){if(0===n.length)throw this.Fa("Document fields must not be empty");if(w1(this.Da)&&b1.test(n))throw this.Fa('Document fields cannot begin and end with "__"')}}class zT{constructor(n,r,a){this.databaseId=n,this.ignoreUndefinedProperties=r,this.N=a||hi(n)}Ba(n,r,a,l=!1){return new jp({Da:n,methodName:r,La:a,path:mr.emptyPath(),xa:!1,Ma:l},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Dl(i){const n=i._freezeSettings(),r=hi(i._databaseId);return new zT(i._databaseId,!!n.ignoreUndefinedProperties,r)}function Al(i,n,r,a,l,f={}){const _=i.Ba(f.merge||f.mergeFields?2:0,n,r,l);Hn("Data must be an object, but it was:",_,a);const w=$_(a,_);let T,S;if(f.merge)T=new rd(_.fieldMask),S=_.fieldTransforms;else if(f.mergeFields){const M=[];for(const k of f.mergeFields){const z=YT(n,k,r);if(!_.contains(z))throw new Ae(te.INVALID_ARGUMENT,`Field '${z}' is specified in your field mask but missing from your input data.`);qp(M,z)||M.push(z)}T=new rd(M),S=_.fieldTransforms.filter(k=>T.covers(k.field))}else T=null,S=_.fieldTransforms;return new KC(new Nr(w),T,S)}class Hp extends jd{_toFieldTransform(n){if(2!==n.Da)throw n.Fa(1===n.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof Hp}}function WT(i,n,r){return new jp({Da:3,La:n.settings.La,methodName:i._methodName,xa:r},n.databaseId,n.N,n.ignoreUndefinedProperties)}class Z_ extends jd{_toFieldTransform(n){return new ci(n.path,new cp)}isEqual(n){return n instanceof Z_}}class xl extends jd{constructor(n,r){super(n),this.Ua=r}_toFieldTransform(n){const r=WT(this,n,!0),a=this.Ua.map(f=>Sl(f,r)),l=new zo(a);return new ci(n.path,l)}isEqual(n){return this===n}}class KT extends jd{constructor(n,r){super(n),this.Ua=r}_toFieldTransform(n){const r=WT(this,n,!0),a=this.Ua.map(f=>Sl(f,r)),l=new gl(a);return new ci(n.path,l)}isEqual(n){return this===n}}class YC extends jd{constructor(n,r){super(n),this.qa=r}_toFieldTransform(n){const r=new cd(n.N,E0(n.N,this.qa));return new ci(n.path,r)}isEqual(n){return this===n}}function Zp(i,n,r,a){const l=i.Ba(1,n,r);Hn("Data must be an object, but it was:",l,a);const f=[],_=Nr.empty();Na(a,(T,S)=>{const M=XC(n,T,r);S=(0,Pt.m9)(S);const k=l.$a(M);if(S instanceof Hp)f.push(M);else{const z=Sl(S,k);null!=z&&(f.push(M),_.set(M,z))}});const w=new rd(f);return new Jn(_,w,l.fieldTransforms)}function JC(i,n,r,a,l,f){const _=i.Ba(1,n,r),w=[YT(n,a,r)],T=[l];if(f.length%2!=0)throw new Ae(te.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let z=0;z<f.length;z+=2)w.push(YT(n,f[z])),T.push(f[z+1]);const S=[],M=Nr.empty();for(let z=w.length-1;z>=0;--z)if(!qp(S,w[z])){const K=w[z];let Ce=T[z];Ce=(0,Pt.m9)(Ce);const Re=_.$a(K);if(Ce instanceof Hp)S.push(K);else{const qe=Sl(Ce,Re);null!=qe&&(S.push(K),M.set(K,qe))}}const k=new rd(S);return new Jn(M,k,_.fieldTransforms)}function $p(i,n,r,a=!1){return Sl(r,i.Ba(a?4:3,n))}function Sl(i,n){if(QC(i=(0,Pt.m9)(i)))return Hn("Unsupported field value:",n,i),$_(i,n);if(i instanceof jd)return function(r,a){if(!w1(a.Da))throw a.Fa(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Fa(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(i,n),null;if(void 0===i&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),i instanceof Array){if(n.settings.xa&&4!==n.Da)throw n.Fa("Nested arrays are not supported");return function(r,a){const l=[];let f=0;for(const _ of r){let w=Sl(_,a.Oa(f));null==w&&(w={nullValue:"NULL_VALUE"}),l.push(w),f++}return{arrayValue:{values:l}}}(i,n)}return function(r,a){if(null===(r=(0,Pt.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return E0(a.N,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const l=nr.fromDate(r);return{timestampValue:hs(a.N,l)}}if(r instanceof nr){const l=new nr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hs(a.N,l)}}if(r instanceof WC)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ps)return{bytesValue:M0(a.N,r._byteString)};if(r instanceof dn){const l=a.databaseId,f=r.firestore._databaseId;if(!f.isEqual(l))throw a.Fa(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:N0(r.firestore._databaseId||a.databaseId,r._key.path)}}throw a.Fa(`Unsupported field value: ${H_(r)}`)}(i,n)}function $_(i,n){const r={};return a0(i)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):Na(i,(a,l)=>{const f=Sl(l,n.Na(a));null!=f&&(r[a]=f)}),{mapValue:{fields:r}}}function QC(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof nr||i instanceof WC||i instanceof ps||i instanceof dn||i instanceof jd)}function Hn(i,n,r){if(!QC(r)||"object"!=typeof(a=r)||null===a||Object.getPrototypeOf(a)!==Object.prototype&&null!==Object.getPrototypeOf(a)){const a=H_(r);throw n.Fa("an object"===a?i+" a custom object":i+" "+a)}var a}function YT(i,n,r){if((n=(0,Pt.m9)(n))instanceof ta)return n._internalPath;if("string"==typeof n)return XC(i,n);throw eb("Field path arguments must be of type string or FieldPath.",i,!1,void 0,r)}const E1=new RegExp("[~\\*/\\[\\]]");function XC(i,n,r){if(n.search(E1)>=0)throw eb(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new ta(...n.split("."))._internalPath}catch(a){throw eb(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function eb(i,n,r,a,l){const f=a&&!a.isEmpty(),_=void 0!==l;let w=`Function ${n}() called with invalid data`;r&&(w+=" (via `toFirestore()`)"),w+=". ";let T="";return(f||_)&&(T+=" (found",f&&(T+=` in field ${a}`),_&&(T+=` in document ${l}`),T+=")"),new Ae(te.INVALID_ARGUMENT,w+i+T)}function qp(i,n){return i.some(r=>r.isEqual(n))}class Gp{constructor(n,r,a,l,f){this._firestore=n,this._userDataWriter=r,this._key=a,this._document=l,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new sM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const r=this._document.data.field(tb("DocumentSnapshot.get",n));if(null!==r)return this._userDataWriter.convertValue(r)}}}class sM extends Gp{data(){return super.data()}}function tb(i,n){return"string"==typeof n?XC(i,n):n instanceof ta?n._internalPath:n._delegate._internalPath}class Hd{constructor(n,r){this.hasPendingWrites=n,this.fromCache=r}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class na extends Gp{constructor(n,r,a,l,f,_){super(n,r,a,l,_),this._firestore=n,this._firestoreImpl=n,this.metadata=f}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const r=new zp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,r={}){if(this._document){const a=this._document.data.field(tb("DocumentSnapshot.get",n));if(null!==a)return this._userDataWriter.convertValue(a,r.serverTimestamps)}}}class zp extends na{data(n={}){return super.data(n)}}class qa{constructor(n,r,a,l){this._firestore=n,this._userDataWriter=r,this._snapshot=l,this.metadata=new Hd(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const n=[];return this.forEach(r=>n.push(r)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,r){this._snapshot.docs.forEach(a=>{n.call(r,new zp(this._firestore,this._userDataWriter,a.key,a,new Hd(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const r=!!n.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ae(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let f=0;return a._snapshot.docChanges.map(_=>({type:"added",doc:new zp(a._firestore,a._userDataWriter,_.doc.key,_.doc,new Hd(a._snapshot.mutatedKeys.has(_.doc.key),a._snapshot.fromCache),a.query.converter),oldIndex:-1,newIndex:f++}))}{let f=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(_=>l||3!==_.type).map(_=>{const w=new zp(a._firestore,a._userDataWriter,_.doc.key,_.doc,new Hd(a._snapshot.mutatedKeys.has(_.doc.key),a._snapshot.fromCache),a.query.converter);let T=-1,S=-1;return 0!==_.type&&(T=f.indexOf(_.doc.key),f=f.delete(_.doc.key)),1!==_.type&&(f=f.add(_.doc),S=f.indexOf(_.doc.key)),{type:I1(_.type),doc:w,oldIndex:T,newIndex:S}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function I1(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ze()}}function JT(i,n){return i instanceof na&&n instanceof na?i._firestore===n._firestore&&i._key.isEqual(n._key)&&(null===i._document?null===n._document:i._document.isEqual(n._document))&&i._converter===n._converter:i instanceof qa&&n instanceof qa&&i._firestore===n._firestore&&BT(i.query,n.query)&&i.metadata.isEqual(n.metadata)&&i._snapshot.isEqual(n._snapshot)}function T1(i){if(up(i)&&0===i.explicitOrderBy.length)throw new Ae(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wp{}function Ga(i,...n){for(const r of n)i=r._apply(i);return i}class D1 extends Wp{constructor(n,r,a){super(),this.Ka=n,this.ja=r,this.Qa=a,this.type="where"}_apply(n){const r=Dl(n.firestore),a=function(l,f,_,w,T,S,M){let k;if(T.isKeyField()){if("array-contains"===S||"array-contains-any"===S)throw new Ae(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on FieldPath.documentId().`);if("in"===S||"not-in"===S){nD(M,S);const K=[];for(const Ce of M)K.push(tD(w,l,Ce));k={arrayValue:{values:K}}}else k=tD(w,l,M)}else"in"!==S&&"not-in"!==S&&"array-contains-any"!==S||nD(M,S),k=$p(_,"where",M,"in"===S||"not-in"===S);const z=Or.create(T,S,k);return function(K,Ce){if(Ce.v()){const qe=y0(K);if(null!==qe&&!qe.isEqual(Ce.field))throw new Ae(te.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${qe.toString()}' and '${Ce.field.toString()}'`);const Mt=_0(K);null!==Mt&&rD(0,Ce.field,Mt)}const Re=function(qe,Mt){for(const Vt of qe.filters)if(Mt.indexOf(Vt.op)>=0)return Vt.op;return null}(K,function(qe){switch(qe){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Ce.op));if(null!==Re)throw new Ae(te.INVALID_ARGUMENT,Re===Ce.op?`Invalid query. You cannot use more than one '${Ce.op.toString()}' filter.`:`Invalid query. You cannot use '${Ce.op.toString()}' filters with '${Re.toString()}' filters.`)}(l,z),z}(n._query,0,r,n.firestore._databaseId,this.Ka,this.ja,this.Qa);return new Pr(n.firestore,n.converter,function(l,f){const _=l.filters.concat([f]);return new eo(l.path,l.collectionGroup,l.explicitOrderBy.slice(),_,l.limit,l.limitType,l.startAt,l.endAt)}(n._query,a))}}class aM extends Wp{constructor(n,r){super(),this.Ka=n,this.Wa=r,this.type="orderBy"}_apply(n){const r=function(a,l,f){if(null!==a.startAt)throw new Ae(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==a.endAt)throw new Ae(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const _=new ud(l,f);return function(w,T){if(null===_0(w)){const S=y0(w);null!==S&&rD(0,S,T.field)}}(a,_),_}(n._query,this.Ka,this.Wa);return new Pr(n.firestore,n.converter,function(a,l){const f=a.explicitOrderBy.concat([l]);return new eo(a.path,a.collectionGroup,f,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(n._query,r))}}class QT extends Wp{constructor(n,r,a){super(),this.type=n,this.Ga=r,this.za=a}_apply(n){return new Pr(n.firestore,n.converter,C0(n._query,this.Ga,this.za))}}class XT extends Wp{constructor(n,r,a){super(),this.type=n,this.Ha=r,this.Ja=a}_apply(n){const r=R1(n,this.type,this.Ha,this.Ja);return new Pr(n.firestore,n.converter,(l=r,new eo((a=n._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,l,a.endAt)));var a,l}}class eD extends Wp{constructor(n,r,a){super(),this.type=n,this.Ha=r,this.Ja=a}_apply(n){const r=R1(n,this.type,this.Ha,this.Ja);return new Pr(n.firestore,n.converter,(l=r,new eo((a=n._query).path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,l)));var a,l}}function R1(i,n,r,a){if(r[0]=(0,Pt.m9)(r[0]),r[0]instanceof Gp)return function(l,f,_,w,T){if(!w)throw new Ae(te.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${_}().`);const S=[];for(const M of Oa(l))if(M.field.isKeyField())S.push(Xm(f,w.key));else{const k=w.data.field(M.field);if(u0(k))throw new Ae(te.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+M.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===k){const z=M.field.canonicalString();throw new Ae(te.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${z}' (used as the orderBy) does not exist.`)}S.push(k)}return new ap(S,T)}(i._query,i.firestore._databaseId,n,r[0]._document,a);{const l=Dl(i.firestore);return function(f,_,w,T,S,M){const k=f.explicitOrderBy;if(S.length>k.length)throw new Ae(te.INVALID_ARGUMENT,`Too many arguments provided to ${T}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const z=[];for(let K=0;K<S.length;K++){const Ce=S[K];if(k[K].field.isKeyField()){if("string"!=typeof Ce)throw new Ae(te.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${T}(), but got a ${typeof Ce}`);if(!v0(f)&&-1!==Ce.indexOf("/"))throw new Ae(te.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${T}() must be a plain document ID, but '${Ce}' contains a slash.`);const Re=f.path.child(xt.fromString(Ce));if(!Ye.isDocumentKey(Re))throw new Ae(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${T}() must result in a valid document path, but '${Re}' is not because it contains an odd number of segments.`);const qe=new Ye(Re);z.push(Xm(_,qe))}else{const Re=$p(w,T,Ce);z.push(Re)}}return new ap(z,M)}(i._query,i.firestore._databaseId,l,n,r,a)}}function tD(i,n,r){if("string"==typeof(r=(0,Pt.m9)(r))){if(""===r)throw new Ae(te.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!v0(n)&&-1!==r.indexOf("/"))throw new Ae(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const a=n.path.child(xt.fromString(r));if(!Ye.isDocumentKey(a))throw new Ae(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Xm(i,new Ye(a))}if(r instanceof dn)return Xm(i,r._key);throw new Ae(te.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${H_(r)}.`)}function nD(i,n){if(!Array.isArray(i)||0===i.length)throw new Ae(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`);if(i.length>10)throw new Ae(te.INVALID_ARGUMENT,`Invalid Query. '${n.toString()}' filters support a maximum of 10 elements in the value array.`)}function rD(i,n,r){if(!r.isEqual(n))throw new Ae(te.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${n.toString()}' and so you must also use '${n.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${r.toString()}' instead.`)}class Ml{convertValue(n,r="none"){switch(Js(n)){case 0:return null;case 1:return n.booleanValue;case 2:return Ln(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,r);case 5:return n.stringValue;case 6:return this.convertBytes(dl(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,r);case 10:return this.convertObject(n.mapValue,r);default:throw ze()}}convertObject(n,r){const a={};return Na(n.fields,(l,f)=>{a[l]=this.convertValue(f,r)}),a}convertGeoPoint(n){return new WC(Ln(n.latitude),Ln(n.longitude))}convertArray(n,r){return(n.values||[]).map(a=>this.convertValue(a,r))}convertServerTimestamp(n,r){switch(r){case"previous":const a=oI(n);return null==a?null:this.convertValue(a,r);case"estimate":return this.convertTimestamp(Qm(n));default:return null}}convertTimestamp(n){const r=Go(n);return new nr(r.seconds,r.nanos)}convertDocumentKey(n,r){const a=xt.fromString(n);ot(F0(a));const l=new Ud(a.get(1),a.get(3)),f=new Ye(a.popFirst(5));return l.isEqual(r)||Fn(`Document ${f} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),f}}function Kp(i,n,r){let a;return a=i?r&&(r.merge||r.mergeFields)?i.toFirestore(n,r):i.toFirestore(n):n,a}class uM extends Ml{constructor(n){super(),this.firestore=n}convertBytes(n){return new ps(n)}convertReference(n){const r=this.convertDocumentKey(n,this.firestore._databaseId);return new dn(this.firestore,null,r)}}class iD{constructor(n,r){this._firestore=n,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Dl(n)}set(n,r,a){this._verifyNotCommitted();const l=Nl(n,this._firestore),f=Kp(l.converter,r,a),_=Al(this._dataReader,"WriteBatch.set",l._key,f,null!==l.converter,a);return this._mutations.push(_.toMutation(l._key,En.none())),this}update(n,r,a,...l){this._verifyNotCommitted();const f=Nl(n,this._firestore);let _;return _="string"==typeof(r=(0,Pt.m9)(r))||r instanceof ta?JC(this._dataReader,"WriteBatch.update",f._key,r,a,l):Zp(this._dataReader,"WriteBatch.update",f._key,r),this._mutations.push(_.toMutation(f._key,En.exists(!0))),this}delete(n){this._verifyNotCommitted();const r=Nl(n,this._firestore);return this._mutations=this._mutations.concat(new hp(r._key,En.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ae(te.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Nl(i,n){if((i=(0,Pt.m9)(i)).firestore!==n)throw new Ae(te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class Zd extends Ml{constructor(n){super(),this.firestore=n}convertBytes(n){return new ps(n)}convertReference(n){const r=this.convertDocumentKey(n,this.firestore._databaseId);return new dn(this.firestore,null,r)}}function sD(i,n,r){i=mt(i,dn);const a=mt(i.firestore,Dn),l=Kp(i.converter,n,r);return $d(a,[Al(Dl(a),"setDoc",i._key,l,null!==i.converter,r).toMutation(i._key,En.none())])}function oD(i,n,r,...a){i=mt(i,dn);const l=mt(i.firestore,Dn),f=Dl(l);let _;return _="string"==typeof(n=(0,Pt.m9)(n))||n instanceof ta?JC(f,"updateDoc",i._key,n,r,a):Zp(f,"updateDoc",i._key,n),$d(l,[_.toMutation(i._key,En.exists(!0))])}function V1(i,...n){var r,a,l;i=(0,Pt.m9)(i);let f={includeMetadataChanges:!1},_=0;"object"!=typeof n[_]||GC(n[_])||(f=n[_],_++);const w={includeMetadataChanges:f.includeMetadataChanges};if(GC(n[_])){const k=n[_];n[_]=null===(r=k.next)||void 0===r?void 0:r.bind(k),n[_+1]=null===(a=k.error)||void 0===a?void 0:a.bind(k),n[_+2]=null===(l=k.complete)||void 0===l?void 0:l.bind(k)}let T,S,M;if(i instanceof dn)S=mt(i.firestore,Dn),M=ld(i._key.path),T={next:k=>{n[_]&&n[_](q_(S,i,k))},error:n[_+1],complete:n[_+2]};else{const k=mt(i,Pr);S=mt(k.firestore,Dn),M=k._query;const z=new Zd(S);T={next:K=>{n[_]&&n[_](new qa(S,z,k,K))},error:n[_+1],complete:n[_+2]},T1(i._query)}return function(k,z,K,Ce){const Re=new PC(Ce),qe=new F_(z,Re,K);return k.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return CC(yield $a(k),qe)})),()=>{Re.Xo(),k.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return R_(yield $a(k),qe)}))}}(jn(S),M,w,T)}function $d(i,n){return function(r,a){const l=new Wn;return r.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(i,n,r){return fT.apply(this,arguments)}(yield jC(r),a,l)})),l.promise}(jn(i),n)}function q_(i,n,r){const a=r.docs.get(n._key),l=new Zd(i);return new na(i,l,n._key,a,new Hd(r.hasPendingWrites,r.fromCache),n.converter)}class uD extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Dl(n)}get(n){const r=Nl(n,this._firestore),a=new uM(this._firestore);return this._transaction.lookup([r._key]).then(l=>{if(!l||1!==l.length)return ze();const f=l[0];if(f.isFoundDocument())return new Gp(this._firestore,a,f.key,f,r.converter);if(f.isNoDocument())return new Gp(this._firestore,a,r._key,null,r.converter);throw ze()})}set(n,r,a){const l=Nl(n,this._firestore),f=Kp(l.converter,r,a),_=Al(this._dataReader,"Transaction.set",l._key,f,null!==l.converter,a);return this._transaction.set(l._key,_),this}update(n,r,a,...l){const f=Nl(n,this._firestore);let _;return _="string"==typeof(r=(0,Pt.m9)(r))||r instanceof ta?JC(this._dataReader,"Transaction.update",f._key,r,a,l):Zp(this._dataReader,"Transaction.update",f._key,r),this._transaction.update(f._key,_),this}delete(n){const r=Nl(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(n,r){super(n,r),this._firestore=n}get(n){const r=Nl(n,this._firestore),a=new Zd(this._firestore);return super.get(n).then(l=>new na(this._firestore,a,r._key,l._document,new Hd(!1,!1),r.converter))}}function W_(i,n){if(void 0===n)return{merge:!1};if(void 0!==n.mergeFields&&void 0!==n.merge)throw new Ae("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return n}function dD(){if("undefined"==typeof Uint8Array)throw new Ae("unimplemented","Uint8Arrays are not available in this environment.")}function hD(){if("undefined"==typeof atob)throw new Ae("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(i){np=i})(ym.SDK_VERSION),(0,ym._registerComponent)(new wv.wA("firestore",(i,{options:n})=>{const r=i.getProvider("app").getImmediate(),a=new Dn(r,new eI(i.getProvider("auth-internal")));return n=Object.assign({useFetchStreams:!0},n),a._setSettings(n),a},"PUBLIC")),(0,ym.registerVersion)("@firebase/firestore","3.1.0",void 0);class Yp{constructor(n){this._delegate=n}static fromBase64String(n){return hD(),new Yp(ps.fromBase64String(n))}static fromUint8Array(n){return dD(),new Yp(ps.fromUint8Array(n))}toBase64(){return hD(),this._delegate.toBase64()}toUint8Array(){return dD(),this._delegate.toUint8Array()}isEqual(n){return this._delegate.isEqual(n._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Jp(i){return function(i,n){if("object"!=typeof i||null===i)return!1;const r=i;for(const a of["next","error","complete"])if(a in r&&"function"==typeof r[a])return!0;return!1}(i)}class Wr{enableIndexedDbPersistence(n,r){return function(i,n){GT(i=mt(i,Dn));const r=jn(i),a=i._freezeSettings(),l=new Ld;return $T(r,l,new xT(l,a.cacheSizeBytes,null==n?void 0:n.forceOwnership))}(n._delegate,{forceOwnership:r})}enableMultiTabIndexedDbPersistence(n){return function(i){GT(i=mt(i,Dn));const n=jn(i),r=i._freezeSettings(),a=new Ld;return $T(n,a,new WS(a,r.cacheSizeBytes))}(n._delegate)}clearIndexedDbPersistence(n){return function(i){if(i._initialized&&!i._terminated)throw new Ae(te.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const n=new Wn;return i._queue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{yield(r=(0,ve.Z)(function*(a){if(!Hi.bt())return Promise.resolve();const l=a+"main";yield Hi.delete(l)}),function(a){return r.apply(this,arguments)})(z0(i._databaseId,i._persistenceKey)),n.resolve()}catch(r){n.reject(r)}var r})),n.promise}(n._delegate)}}class qd{constructor(n,r,a){this._delegate=r,this._persistenceProvider=a,this.INTERNAL={delete:()=>this.terminate()},n instanceof Ud||(this._appCompat=n)}get _databaseId(){return this._delegate._databaseId}settings(n){const r=this._delegate._getSettings();!n.merge&&r.host!==n.host&&rp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),n.merge&&delete(n=Object.assign(Object.assign({},r),n)).merge,this._delegate._setSettings(n)}useEmulator(n,r,a={}){!function(i,n,r,a={}){var l;const f=(i=mt(i,Up))._getSettings();if("firestore.googleapis.com"!==f.host&&f.host!==n&&rp("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},f),{host:`${n}:${r}`,ssl:!1})),a.mockUserToken){let _,w;if("string"==typeof a.mockUserToken)_=a.mockUserToken,w=zn.MOCK_USER;else{_=(0,Pt.Sg)(a.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const T=a.mockUserToken.sub||a.mockUserToken.user_id;if(!T)throw new Ae(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new zn(T)}i._credentials=new XE(new Jm(_,w))}}(this._delegate,n,r,a)}enableNetwork(){return function(i){return function(i){return i.asyncQueue.enqueue((0,ve.Z)(function*(){const n=yield Vd(i),r=yield NT(i);return n.setNetworkEnabled(!0),function(a){const l=ke(a);return l.Kr.delete(0),Nd(l)}(r)}))}(jn(i=mt(i,Dn)))}(this._delegate)}disableNetwork(){return function(i){return function(i){return i.asyncQueue.enqueue((0,ve.Z)(function*(){const n=yield Vd(i),r=yield NT(i);return n.setNetworkEnabled(!1),(a=(0,ve.Z)(function*(l){const f=ke(l);f.Kr.add(0),yield ja(f),f.Wr.set("Offline")}),function(l){return a.apply(this,arguments)})(r);var a}))}(jn(i=mt(i,Dn)))}(this._delegate)}enablePersistence(n){let r=!1,a=!1;return n&&(r=!!n.synchronizeTabs,a=!!n.experimentalForceOwningTab,$C("synchronizeTabs",r,"experimentalForceOwningTab",a)),r?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,a)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(i){return function(n){const r=new Wn;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(i,n){return yT.apply(this,arguments)}(yield jC(n),r)})),r.promise}(jn(i=mt(i,Dn)))}(this._delegate)}onSnapshotsInSync(n){return function(i,n){return function(i,n){const r=new PC(n);return i.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return a=yield $a(i),l=r,ke(a).Zr.add(l),void l.next();var a,l})),()=>{r.Xo(),i.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return a=yield $a(i),l=r,void ke(a).Zr.delete(l);var a,l}))}}(jn(i=mt(i,Dn)),GC(n)?n:{next:n})}(this._delegate,n)}get app(){if(!this._appCompat)throw new Ae("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(n){try{return new Si(this,m1(this._delegate,n))}catch(r){throw Yr(r,"collection()","Firestore.collection()")}}doc(n){try{return new Kr(this,Bp(this._delegate,n))}catch(r){throw Yr(r,"doc()","Firestore.doc()")}}collectionGroup(n){try{return new Jr(this,function(i,n){if(i=mt(i,Up),Vp("collectionGroup","collection id",n),n.indexOf("/")>=0)throw new Ae(te.INVALID_ARGUMENT,`Invalid collection ID '${n}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Pr(i,null,(r=n,new eo(xt.emptyPath(),r)));var r}(this._delegate,n))}catch(r){throw Yr(r,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(n){return function(i,n){return function(i,n){const r=new Wn;return i.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){const a=yield(l=i,VC(l).then(f=>f.datastore));var l;new l1(i.asyncQueue,a,n,r).run()})),r.promise}(jn(i),r=>n(new uD(i,r)))}(this._delegate,r=>n(new Qp(this,r)))}batch(){return jn(this._delegate),new K_(new iD(this._delegate,n=>$d(this._delegate,n)))}loadBundle(n){return function(i,n){const r=jn(i=mt(i,Dn)),a=new QS;return function(i,n,r,a){const l=function(f,_){let w;return w="string"==typeof f?(new TextEncoder).encode(f):f,T=function(T,S){if(T instanceof Uint8Array)return ST(T,S);if(T instanceof ArrayBuffer)return ST(new Uint8Array(T),S);if(T instanceof ReadableStream)return T.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(w),new KS(T,_);var T}(r,hi(n));i.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){!function(i,n,r){const a=ke(i);var l;(l=(0,ve.Z)(function*(f,_,w){try{const T=yield _.getMetadata();if(yield function(z,K){const Ce=ke(z),Re=_r(K.createTime);return Ce.persistence.runTransaction("hasNewerBundle","readonly",qe=>Ce.Je.getBundleMetadata(qe,K.id)).then(qe=>!!qe&&qe.createTime.compareTo(Re)>=0)}(f.localStore,T))return yield _.close(),void w._completeWith((z=T,{taskState:"Success",documentsLoaded:z.totalDocuments,bytesLoaded:z.totalBytes,totalDocuments:z.totalDocuments,totalBytes:z.totalBytes}));w._updateProgress(uT(T));const S=new aT(T,f.localStore,_.N);let M=yield _.Qo();for(;M;){const z=yield S.fo(M);z&&w._updateProgress(z),M=yield _.Qo()}const k=yield S.complete();yield ea(f,k.Tn,void 0),yield function(z,K){const Ce=ke(z);return Ce.persistence.runTransaction("Save bundle","readwrite",Re=>Ce.Je.saveBundleMetadata(Re,K))}(f.localStore,T),w._completeWith(k.progress)}catch(T){rp("SyncEngine",`Loading bundle failed with ${T}`),w._failWith(T)}var z}),function(f,_,w){return l.apply(this,arguments)})(a,n,r).then(()=>{a.sharedClientState.notifyBundleLoaded()})}(yield jC(i),l,a)}))}(r,i._databaseId,n,a),a}(this._delegate,n)}namedQuery(n){return function(i,n){return function(i,n){return i.asyncQueue.enqueue((0,ve.Z)(function*(){return function(r,a){const l=ke(r);return l.persistence.runTransaction("Get named query","readonly",f=>l.Je.getNamedQuery(f,a))}(yield BC(i),n)}))}(jn(i=mt(i,Dn)),n).then(r=>r?new Pr(i,null,r.query):null)}(this._delegate,n).then(r=>r?new Jr(this,r):null)}}class Ol extends Ml{constructor(n){super(),this.firestore=n}convertBytes(n){return new Yp(new ps(n))}convertReference(n){const r=this.convertDocumentKey(n,this.firestore._databaseId);return Kr.forKey(r,this.firestore,null)}}class Qp{constructor(n,r){this._firestore=n,this._delegate=r,this._userDataWriter=new Ol(n)}get(n){const r=_s(n);return this._delegate.get(r).then(a=>new Xp(this._firestore,new na(this._firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,r.converter)))}set(n,r,a){const l=_s(n);return a?(W_("Transaction.set",a),this._delegate.set(l,r,a)):this._delegate.set(l,r),this}update(n,r,a,...l){const f=_s(n);return 2===arguments.length?this._delegate.update(f,r):this._delegate.update(f,r,a,...l),this}delete(n){const r=_s(n);return this._delegate.delete(r),this}}class K_{constructor(n){this._delegate=n}set(n,r,a){const l=_s(n);return a?(W_("WriteBatch.set",a),this._delegate.set(l,r,a)):this._delegate.set(l,r),this}update(n,r,a,...l){const f=_s(n);return 2===arguments.length?this._delegate.update(f,r):this._delegate.update(f,r,a,...l),this}delete(n){const r=_s(n);return this._delegate.delete(r),this}commit(){return this._delegate.commit()}}class za{constructor(n,r,a){this._firestore=n,this._userDataWriter=r,this._delegate=a}fromFirestore(n,r){const a=new zp(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,null);return this._delegate.fromFirestore(new Gd(this._firestore,a),null!=r?r:{})}toFirestore(n,r){return r?this._delegate.toFirestore(n,r):this._delegate.toFirestore(n)}static getInstance(n,r){const a=za.INSTANCES;let l=a.get(n);l||(l=new WeakMap,a.set(n,l));let f=l.get(r);return f||(f=new za(n,new Ol(n),r),l.set(r,f)),f}}za.INSTANCES=new WeakMap;class Kr{constructor(n,r){this.firestore=n,this._delegate=r,this._userDataWriter=new Ol(n)}static forPath(n,r,a){if(n.length%2!=0)throw new Ae("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${n.canonicalString()} has ${n.length}`);return new Kr(r,new dn(r._delegate,a,new Ye(n)))}static forKey(n,r,a){return new Kr(r,new dn(r._delegate,a,n))}get id(){return this._delegate.id}get parent(){return new Si(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(n){try{return new Si(this.firestore,m1(this._delegate,n))}catch(r){throw Yr(r,"collection()","DocumentReference.collection()")}}isEqual(n){return(n=(0,Pt.m9)(n))instanceof dn&&UT(this._delegate,n)}set(n,r){r=W_("DocumentReference.set",r);try{return r?sD(this._delegate,n,r):sD(this._delegate,n)}catch(a){throw Yr(a,"setDoc()","DocumentReference.set()")}}update(n,r,...a){try{return 1===arguments.length?oD(this._delegate,n):oD(this._delegate,n,r,...a)}catch(l){throw Yr(l,"updateDoc()","DocumentReference.update()")}}delete(){return function(i){return $d(mt(i.firestore,Dn),[new hp(i._key,En.none())])}(this._delegate)}onSnapshot(...n){const r=pD(n),a=gD(n,l=>new Xp(this.firestore,new na(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return V1(this._delegate,r,a)}get(n){let r;return r="cache"===(null==n?void 0:n.source)?function(i){i=mt(i,dn);const n=mt(i.firestore,Dn),r=jn(n),a=new Zd(n);return function(i,n){const r=new Wn;return i.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(a=(0,ve.Z)(function*(l,f,_){try{const w=yield function(T,S){const M=ke(T);return M.persistence.runTransaction("read document","readonly",k=>M.Qn.An(k,S))}(l,f);w.isFoundDocument()?_.resolve(w):w.isNoDocument()?_.resolve(null):_.reject(new Ae(te.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(w){const T=Tl(w,`Failed to get document '${f} from cache`);_.reject(T)}}),function(l,f,_){return a.apply(this,arguments)})(yield BC(i),n,r);var a})),r.promise}(r,i._key).then(l=>new na(n,a,i._key,l,new Hd(null!==l&&l.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==n?void 0:n.source)?function(i){i=mt(i,dn);const n=mt(i.firestore,Dn);return OT(jn(n),i._key,{source:"server"}).then(r=>q_(n,i,r))}(this._delegate):function(i){i=mt(i,dn);const n=mt(i.firestore,Dn);return OT(jn(n),i._key).then(r=>q_(n,i,r))}(this._delegate),r.then(a=>new Xp(this.firestore,new na(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)))}withConverter(n){return new Kr(this.firestore,this._delegate.withConverter(n?za.getInstance(this.firestore,n):null))}}function Yr(i,n,r){return i.message=i.message.replace(n,r),i}function pD(i){for(const n of i)if("object"==typeof n&&!Jp(n))return n;return{}}function gD(i,n){var r,a;let l;return l=Jp(i[0])?i[0]:Jp(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:f=>{l.next&&l.next(n(f))},error:null===(r=l.error)||void 0===r?void 0:r.bind(l),complete:null===(a=l.complete)||void 0===a?void 0:a.bind(l)}}class Xp{constructor(n,r){this._firestore=n,this._delegate=r}get ref(){return new Kr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(n){return this._delegate.data(n)}get(n,r){return this._delegate.get(n,r)}isEqual(n){return JT(this._delegate,n._delegate)}}class Gd extends Xp{data(n){const r=this._delegate.data(n);return function(i,n){i||ze()}(void 0!==r),r}}class Jr{constructor(n,r){this.firestore=n,this._delegate=r,this._userDataWriter=new Ol(n)}where(n,r,a){try{return new Jr(this.firestore,Ga(this._delegate,function(i,n,r){const a=n,l=tb("where",i);return new D1(l,a,r)}(n,r,a)))}catch(l){throw Yr(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(n,r){try{return new Jr(this.firestore,Ga(this._delegate,function(i,n="asc"){const r=n,a=tb("orderBy",i);return new aM(a,r)}(n,r)))}catch(a){throw Yr(a,/(orderBy|where)\(\)/,"Query.$1()")}}limit(n){try{return new Jr(this.firestore,Ga(this._delegate,function(i){return VT("limit",i),new QT("limit",i,"F")}(n)))}catch(r){throw Yr(r,"limit()","Query.limit()")}}limitToLast(n){try{return new Jr(this.firestore,Ga(this._delegate,function(i){return VT("limitToLast",i),new QT("limitToLast",i,"L")}(n)))}catch(r){throw Yr(r,"limitToLast()","Query.limitToLast()")}}startAt(...n){try{return new Jr(this.firestore,Ga(this._delegate,function(...i){return new XT("startAt",i,!0)}(...n)))}catch(r){throw Yr(r,"startAt()","Query.startAt()")}}startAfter(...n){try{return new Jr(this.firestore,Ga(this._delegate,function(...i){return new XT("startAfter",i,!1)}(...n)))}catch(r){throw Yr(r,"startAfter()","Query.startAfter()")}}endBefore(...n){try{return new Jr(this.firestore,Ga(this._delegate,function(...i){return new eD("endBefore",i,!0)}(...n)))}catch(r){throw Yr(r,"endBefore()","Query.endBefore()")}}endAt(...n){try{return new Jr(this.firestore,Ga(this._delegate,function(...i){return new eD("endAt",i,!1)}(...n)))}catch(r){throw Yr(r,"endAt()","Query.endAt()")}}isEqual(n){return BT(this._delegate,n._delegate)}get(n){let r;return r="cache"===(null==n?void 0:n.source)?function(i){i=mt(i,Pr);const n=mt(i.firestore,Dn),r=jn(n),a=new Zd(n);return function(i,n){const r=new Wn;return i.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(a=(0,ve.Z)(function*(l,f,_){try{const w=yield I_(l,f,!0),T=new IC(f,w.Gn),S=T.Io(w.documents),M=T.applyChanges(S,!1);_.resolve(M.snapshot)}catch(w){const T=Tl(w,`Failed to execute query '${f} against cache`);_.reject(T)}}),function(l,f,_){return a.apply(this,arguments)})(yield BC(i),n,r);var a})),r.promise}(r,i._query).then(l=>new qa(n,a,i,l))}(this._delegate):"server"===(null==n?void 0:n.source)?function(i){i=mt(i,Pr);const n=mt(i.firestore,Dn),r=jn(n),a=new Zd(n);return B_(r,i._query,{source:"server"}).then(l=>new qa(n,a,i,l))}(this._delegate):function(i){i=mt(i,Pr);const n=mt(i.firestore,Dn),r=jn(n),a=new Zd(n);return T1(i._query),B_(r,i._query).then(l=>new qa(n,a,i,l))}(this._delegate),r.then(a=>new ob(this.firestore,new qa(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)))}onSnapshot(...n){const r=pD(n),a=gD(n,l=>new ob(this.firestore,new qa(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return V1(this._delegate,r,a)}withConverter(n){return new Jr(this.firestore,this._delegate.withConverter(n?za.getInstance(this.firestore,n):null))}}class Z1{constructor(n,r){this._firestore=n,this._delegate=r}get type(){return this._delegate.type}get doc(){return new Gd(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ob{constructor(n,r){this._firestore=n,this._delegate=r}get query(){return new Jr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(n=>new Gd(this._firestore,n))}docChanges(n){return this._delegate.docChanges(n).map(r=>new Z1(this._firestore,r))}forEach(n,r){this._delegate.forEach(a=>{n.call(r,new Gd(this._firestore,a))})}isEqual(n){return JT(this._delegate,n._delegate)}}class Si extends Jr{constructor(n,r){super(n,r),this.firestore=n,this._delegate=r}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const n=this._delegate.parent;return n?new Kr(this.firestore,n):null}doc(n){try{return new Kr(this.firestore,void 0===n?Bp(this._delegate):Bp(this._delegate,n))}catch(r){throw Yr(r,"doc()","CollectionReference.doc()")}}add(n){return function(i,n){const r=mt(i.firestore,Dn),a=Bp(i),l=Kp(i.converter,n);return $d(r,[Al(Dl(i.firestore),"addDoc",a._key,l,null!==i.converter,{}).toMutation(a._key,En.exists(!1))]).then(()=>a)}(this._delegate,n).then(r=>new Kr(this.firestore,r))}isEqual(n){return UT(this._delegate,n._delegate)}withConverter(n){return new Si(this.firestore,this._delegate.withConverter(n?za.getInstance(this.firestore,n):null))}}function _s(i){return mt(i,dn)}class eg{constructor(...n){this._delegate=new ta(...n)}static documentId(){return new eg(mr.keyField().canonicalString())}isEqual(n){return(n=(0,Pt.m9)(n))instanceof ta&&this._delegate._internalPath.isEqual(n._internalPath)}}class Rl{constructor(n){this._delegate=n}static serverTimestamp(){const n=new Z_("serverTimestamp");return n._methodName="FieldValue.serverTimestamp",new Rl(n)}static delete(){const n=new Hp("deleteField");return n._methodName="FieldValue.delete",new Rl(n)}static arrayUnion(...n){const r=function(...i){return new xl("arrayUnion",i)}(...n);return r._methodName="FieldValue.arrayUnion",new Rl(r)}static arrayRemove(...n){const r=function(...i){return new KT("arrayRemove",i)}(...n);return r._methodName="FieldValue.arrayRemove",new Rl(r)}static increment(n){const r=function(i){return new YC("increment",i)}(n);return r._methodName="FieldValue.increment",new Rl(r)}isEqual(n){return this._delegate.isEqual(n._delegate)}}const $1={Firestore:qd,GeoPoint:WC,Timestamp:nr,Blob:Yp,Transaction:Qp,WriteBatch:K_,DocumentReference:Kr,DocumentSnapshot:Xp,Query:Jr,QueryDocumentSnapshot:Gd,QuerySnapshot:ob,CollectionReference:Si,FieldPath:eg,FieldValue:Rl,setLogLevel:function(i){!function(i){qo.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function(i){(function(i,n){i.INTERNAL.registerComponent(new wv.wA("firestore-compat",r=>((n,r)=>new qd(n,r,new Wr))(r.getProvider("app-compat").getImmediate(),r.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},$1)))})(i),i.registerVersion("@firebase/firestore-compat","0.1.3")}(Ww.Z);var G1=L(6682),zd=L(309),mD=L(7771),z1=L(8858);class W1 extends qn.xQ{constructor(n=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,a){super(),this.scheduler=a,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=n<1?1:n,this._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(n){if(!this.isStopped){const r=this._events;r.push(n),r.length>this._bufferSize&&r.shift()}super.next(n)}nextTimeWindow(n){this.isStopped||(this._events.push(new K1(this._getNow(),n)),this._trimBufferThenGetEvents()),super.next(n)}_subscribe(n){const r=this._infiniteTimeWindow,a=r?this._events:this._trimBufferThenGetEvents(),l=this.scheduler,f=a.length;let _;if(this.closed)throw new Vg.N;if(this.isStopped||this.hasError?_=Uy.w.EMPTY:(this.observers.push(n),_=new z1.W(this,n)),l&&n.add(n=new zd.ht(n,l)),r)for(let w=0;w<f&&!n.closed;w++)n.next(a[w]);else for(let w=0;w<f&&!n.closed;w++)n.next(a[w].value);return this.hasError?n.error(this.thrownError):this.isStopped&&n.complete(),_}_getNow(){return(this.scheduler||mD.c).now()}_trimBufferThenGetEvents(){const n=this._getNow(),r=this._bufferSize,a=this._windowTime,l=this._events,f=l.length;let _=0;for(;_<f&&!(n-l[_].time<a);)_++;return f>r&&(_=Math.max(_,f-r)),_>0&&l.splice(0,_),l}}class K1{constructor(n,r){this.time=n,this.value=r}}function oo(i,n,r){let a;return a=i&&"object"==typeof i?i:{bufferSize:i,windowTime:n,refCount:!1,scheduler:r},l=>l.lift(function({bufferSize:i=Number.POSITIVE_INFINITY,windowTime:n=Number.POSITIVE_INFINITY,refCount:r,scheduler:a}){let l,_,f=0,w=!1,T=!1;return function(M){let k;f++,!l||w?(w=!1,l=new W1(i,n,a),k=l.subscribe(this),_=M.subscribe({next(z){l.next(z)},error(z){w=!0,l.error(z)},complete(){T=!0,_=void 0,l.complete()}}),T&&(_=void 0)):k=l.subscribe(this),this.add(()=>{f--,k.unsubscribe(),k=void 0,_&&!T&&r&&0===f&&(_.unsubscribe(),_=void 0,l=void 0)})}}(a))}function Pl(i,n){return n?zt(()=>i,n):zt(()=>i)}var Wd=L(3101),Kd=L(7841);const _D=new d.OlP("angularfire2.auth.use-emulator"),yD=new d.OlP("angularfire2.auth.settings"),ub=new d.OlP("angularfire2.auth.tenant-id"),lb=new d.OlP("angularfire2.auth.langugage-code"),cb=new d.OlP("angularfire2.auth.use-device-language"),db=new d.OlP("angularfire.auth.persistence"),Y_=(i,n,r,a,l,f,_,w)=>(0,hr.cc)(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const T=n.runOutsideAngular(()=>i.auth());if(r&&T.useEmulator(...r),a&&(T.tenantId=a),T.languageCode=l,f&&T.useDeviceLanguage(),_)for(const[S,M]of Object.entries(_))T.settings[S]=M;return w&&T.setPersistence(w),T},[r,a,l,f,_,w]);let vD=(()=>{class i{constructor(r,a,l,f,_,w,T,S,M,k,z){const K=new qn.xQ,Ce=(0,He.of)(void 0).pipe((0,zd.QV)(_.outsideAngular),zt(()=>f.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,670)))),(0,lt.U)(()=>(0,Ii.on)(r,f,a)),(0,lt.U)(Re=>Y_(Re,f,w,S,M,k,T,z)),oo({bufferSize:1,refCount:!1}));if(tu(l))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,He.of)(null);else{Ce.pipe($r()).subscribe();const qe=Ce.pipe(zt(It=>It.getRedirectResult().then(Wt=>Wt,()=>null)),hr.iC,oo({bufferSize:1,refCount:!1})),Mt=Ce.pipe(zt(It=>new Hr.y(Wt=>({unsubscribe:f.runOutsideAngular(()=>It.onAuthStateChanged(fi=>Wt.next(fi),fi=>Wt.error(fi),()=>Wt.complete()))})))),Vt=Ce.pipe(zt(It=>new Hr.y(Wt=>({unsubscribe:f.runOutsideAngular(()=>It.onIdTokenChanged(fi=>Wt.next(fi),fi=>Wt.error(fi),()=>Wt.complete()))}))));this.authState=qe.pipe(Pl(Mt),(0,Wd.R)(_.outsideAngular),(0,zd.QV)(_.insideAngular)),this.user=qe.pipe(Pl(Vt),(0,Wd.R)(_.outsideAngular),(0,zd.QV)(_.insideAngular)),this.idToken=this.user.pipe(zt(It=>It?(0,un.D)(It.getIdToken()):(0,He.of)(null))),this.idTokenResult=this.user.pipe(zt(It=>It?(0,un.D)(It.getIdTokenResult()):(0,He.of)(null))),this.credential=(0,G1.T)(qe,K,this.authState.pipe(E(It=>!It))).pipe((0,lt.U)(It=>(null==It?void 0:It.user)?It:null),(0,Wd.R)(_.outsideAngular),(0,zd.QV)(_.insideAngular))}return(0,Ii.pX)(this,Ce,f,{spy:{apply:(Re,qe,Mt)=>{(Re.startsWith("signIn")||Re.startsWith("createUser"))&&Mt.then(Vt=>K.next(Vt))}}})}}return i.\u0275fac=function(r){return new(r||i)(d.LFG(Ii.Dh),d.LFG(Ii.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(hr.HU),d.LFG(_D,8),d.LFG(yD,8),d.LFG(ub,8),d.LFG(lb,8),d.LFG(cb,8),d.LFG(db,8))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})();function Wa(i,n){return function(i,n=DA.z){return new Hr.y(r=>{let a;return null!=n?n.schedule(()=>{a=i.onSnapshot({includeMetadataChanges:!0},r)}):a=i.onSnapshot({includeMetadataChanges:!0},r),()=>{null!=a&&a()}})}(i,n)}function fb(i,n){return Wa(i,n).pipe((0,lt.U)(r=>({payload:r,type:"query"})))}function J_(i,n){return fb(i,n).pipe(ju(void 0),_m(),(0,lt.U)(([r,a])=>{const l=a.payload.docChanges(),f=l.map(_=>({type:_.type,payload:_}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(a.payload.metadata)&&a.payload.docs.forEach((_,w)=>{const T=l.find(M=>M.doc.ref.isEqual(_.ref)),S=null==r?void 0:r.payload.docs.find(M=>M.ref.isEqual(_.ref));T&&JSON.stringify(T.doc.metadata)===JSON.stringify(_.metadata)||!T&&S&&JSON.stringify(S.metadata)===JSON.stringify(_.metadata)||f.push({type:"modified",payload:{oldIndex:w,newIndex:w,type:"modified",doc:_}})}),f}))}function J1(i,n,r){return J_(i,r).pipe(b((a,l)=>function(i,n,r){return n.forEach(a=>{r.indexOf(a.type)>-1&&(i=function(i,n){switch(n.type){case"added":if(!i[n.newIndex]||!i[n.newIndex].doc.ref.isEqual(n.doc.ref))return bD(i,n.newIndex,0,n);break;case"modified":if(null==i[n.oldIndex]||i[n.oldIndex].doc.ref.isEqual(n.doc.ref)){if(n.oldIndex!==n.newIndex){const r=i.slice();return r.splice(n.oldIndex,1),r.splice(n.newIndex,0,n),r}return bD(i,n.newIndex,1,n)}break;case"removed":if(i[n.oldIndex]&&i[n.oldIndex].doc.ref.isEqual(n.doc.ref))return bD(i,n.oldIndex,1)}return i}(i,a))}),i}(a,l.map(f=>f.payload),n),[]),r=>r.lift(new AA(void 0,void 0)),(0,lt.U)(a=>a.map(l=>({type:l.type,payload:l}))))}function bD(i,n,r,...a){const l=i.slice();return l.splice(n,r,...a),l}function wD(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class ED{constructor(n,r,a){this.ref=n,this.query=r,this.afs=a}stateChanges(n){let r=J_(this.query,this.afs.schedulers.outsideAngular);return n&&n.length>0&&(r=r.pipe((0,lt.U)(a=>a.filter(l=>n.indexOf(l.type)>-1)))),r.pipe(ju(void 0),_m(),E(([a,l])=>l.length>0||!a),(0,lt.U)(([a,l])=>l),hr.iC)}auditTrail(n){return this.stateChanges(n).pipe(b((r,a)=>[...r,...a],[]))}snapshotChanges(n){const r=wD(n);return J1(this.query,r,this.afs.schedulers.outsideAngular).pipe(hr.iC)}valueChanges(n={}){return fb(this.query,this.afs.schedulers.outsideAngular).pipe((0,lt.U)(r=>r.payload.docs.map(a=>n.idField?Object.assign(Object.assign({},a.data()),{[n.idField]:a.id}):a.data())),hr.iC)}get(n){return(0,un.D)(this.query.get(n)).pipe(hr.iC)}add(n){return this.ref.add(n)}doc(n){return new Q1(this.ref.doc(n),this.afs)}}class Q1{constructor(n,r){this.ref=n,this.afs=r}set(n,r){return this.ref.set(n,r)}update(n){return this.ref.update(n)}delete(){return this.ref.delete()}collection(n,r){const a=this.ref.collection(n),{ref:l,query:f}=nS(a,r);return new ED(l,f,this.afs)}snapshotChanges(){return function(i,n){return Wa(i,n).pipe(ju(void 0),_m(),(0,lt.U)(([r,a])=>a.exists?(null==r?void 0:r.exists)?{payload:a,type:"modified"}:{payload:a,type:"added"}:{payload:a,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(hr.iC)}valueChanges(n={}){return this.snapshotChanges().pipe((0,lt.U)(({payload:r})=>n.idField?Object.assign(Object.assign({},r.data()),{[n.idField]:r.id}):r.data()))}get(n){return(0,un.D)(this.ref.get(n)).pipe(hr.iC)}}class pM{constructor(n,r){this.query=n,this.afs=r}stateChanges(n){return n&&0!==n.length?J_(this.query,this.afs.schedulers.outsideAngular).pipe((0,lt.U)(r=>r.filter(a=>n.indexOf(a.type)>-1)),E(r=>r.length>0),hr.iC):J_(this.query,this.afs.schedulers.outsideAngular).pipe(hr.iC)}auditTrail(n){return this.stateChanges(n).pipe(b((r,a)=>[...r,...a],[]))}snapshotChanges(n){const r=wD(n);return J1(this.query,r,this.afs.schedulers.outsideAngular).pipe(hr.iC)}valueChanges(n={}){return fb(this.query,this.afs.schedulers.outsideAngular).pipe((0,lt.U)(a=>a.payload.docs.map(l=>n.idField?Object.assign({[n.idField]:l.id},l.data()):l.data())),hr.iC)}get(n){return(0,un.D)(this.query.get(n)).pipe(hr.iC)}}const X1=new d.OlP("angularfire2.enableFirestorePersistence"),eS=new d.OlP("angularfire2.firestore.persistenceSettings"),tS=new d.OlP("angularfire2.firestore.settings"),gM=new d.OlP("angularfire2.firestore.use-emulator");function nS(i,n=(r=>r)){return{query:n(i),ref:i}}let pb=(()=>{class i{constructor(r,a,l,f,_,w,T,S,M,k,z,K,Ce,Re,qe,Mt){this.schedulers=T;const Vt=(0,Ii.on)(r,w,a),It=M;k&&Y_(Vt,w,z,Ce,Re,qe,K,Mt),[this.firestore,this.persistenceEnabled$]=(0,hr.cc)(`${Vt.name}.firestore`,"AngularFirestore",Vt.name,()=>{const Wt=w.runOutsideAngular(()=>Vt.firestore());if(f&&Wt.settings(f),It&&Wt.useEmulator(...It),l&&!tu(_)){const fi=()=>{try{return(0,un.D)(Wt.enablePersistence(S||void 0).then(()=>!0,()=>!1))}catch(DD){return"undefined"!=typeof console&&console.warn(DD),(0,He.of)(!1)}};return[Wt,w.runOutsideAngular(fi)]}return[Wt,(0,He.of)(!1)]},[f,It,l])}collection(r,a){let l;l="string"==typeof r?this.firestore.collection(r):r;const{ref:f,query:_}=nS(l,a),w=this.schedulers.ngZone.run(()=>f);return new ED(w,_,this)}collectionGroup(r,a){const l=a||(_=>_),f=this.firestore.collectionGroup(r);return new pM(l(f),this)}doc(r){let a;a="string"==typeof r?this.firestore.doc(r):r;const l=this.schedulers.ngZone.run(()=>a);return new Q1(l,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(r){return new(r||i)(d.LFG(Ii.Dh),d.LFG(Ii.xv,8),d.LFG(X1,8),d.LFG(tS,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(hr.HU),d.LFG(eS,8),d.LFG(gM,8),d.LFG(vD,8),d.LFG(_D,8),d.LFG(yD,8),d.LFG(ub,8),d.LFG(lb,8),d.LFG(cb,8),d.LFG(db,8))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),mM=(()=>{class i{constructor(){Kd.Z.registerVersion("angularfire",hr.q4.full,"fst-compat")}static enablePersistence(r){return{ngModule:i,providers:[{provide:X1,useValue:!0},{provide:eS,useValue:r}]}}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:[pb]}),i})(),s=(()=>{class i{constructor(r){this.db=r,this.hoy=new Date,this.dia=this.hoy.getDate(),this.mes=this.hoy.getMonth()+1,this.a\u00f1o=this.hoy.getFullYear(),this.fecha_actual=this.dia+"-"+this.mes+"-"+this.a\u00f1o,this.informacion_base_datos=[]}addInformacion(r){this.db.collection("Asistencia de unidades").doc(this.fecha_actual).set({mobilidad:r})}a\u00f1adir_datos_mobiles(r){this.db.collection("Datos vehiculos").doc("Informacion General").set({datos_mobilidad:r})}ver_datos(){let r=[];return this.db.collection("Datos vehiculos").get().toPromise().then(l=>{const f=l.docs;for(let _ of f){let w=new mm;const T=_.data();return w.nombre_chofer=T.nombre_chofer,w.nombre_controladora=T.nombre_controladora,w.numero_celular_chofer=T.numero_celular_chofer,w.numero_celular_controlador=T.numero_celular_controlador,w.ruta=T.ruta,w.trabajadores=T.trabajadores,w.ruc=T.ruc,w.color=T.color,w.letra=T.letra,w.proveedor=T.proveedor,w.placa=T.placa,w.paradero1=T.paradero1,w.paradero2=T.paradero2,w.paradero3=T.paradero3,w.paradero4=T.paradero4,w.hora1=T.hora1,w.hora2=T.hora,w.hora3=T.hora3,w.hora4=T.hora4,w.activado=T.activado,r=T.datos_mobilidad,r}})}}return i.\u0275fac=function(r){return new(r||i)(d.LFG(pb))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function h(i,n){return{type:7,name:i,definitions:n,options:{}}}function g(i,n=null){return{type:4,styles:n,timings:i}}function I(i){return{type:6,styles:i,offset:null}}function D(i,n,r){return{type:0,name:i,styles:n,options:r}}function N(i,n,r=null){return{type:1,expr:i,animation:n,options:r}}const Et=["toast-component",""];function Qn(i,n){if(1&i){const r=d.EpF();d.TgZ(0,"button",5),d.NdJ("click",function(){return d.CHM(r),d.oxw().remove()}),d.TgZ(1,"span",6),d._uU(2,"\xd7"),d.qZA(),d.qZA()}}function $i(i,n){if(1&i&&(d.ynx(0),d._uU(1),d.BQk()),2&i){const r=d.oxw(2);d.xp6(1),d.hij("[",r.duplicatesCount+1,"]")}}function ng(i,n){if(1&i&&(d.TgZ(0,"div"),d._uU(1),d.YNc(2,$i,2,1,"ng-container",4),d.qZA()),2&i){const r=d.oxw();d.Tol(r.options.titleClass),d.uIk("aria-label",r.title),d.xp6(1),d.hij(" ",r.title," "),d.xp6(1),d.Q6J("ngIf",r.duplicatesCount)}}function Yd(i,n){if(1&i&&d._UZ(0,"div",7),2&i){const r=d.oxw();d.Tol(r.options.messageClass),d.Q6J("innerHTML",r.message,d.oJD)}}function Jd(i,n){if(1&i&&(d.TgZ(0,"div",8),d._uU(1),d.qZA()),2&i){const r=d.oxw();d.Tol(r.options.messageClass),d.uIk("aria-label",r.message),d.xp6(1),d.hij(" ",r.message," ")}}function Qd(i,n){if(1&i&&(d.TgZ(0,"div"),d._UZ(1,"div",9),d.qZA()),2&i){const r=d.oxw();d.xp6(1),d.Udp("width",r.width+"%")}}function gb(i,n){if(1&i){const r=d.EpF();d.TgZ(0,"button",5),d.NdJ("click",function(){return d.CHM(r),d.oxw().remove()}),d.TgZ(1,"span",6),d._uU(2,"\xd7"),d.qZA(),d.qZA()}}function mb(i,n){if(1&i&&(d.ynx(0),d._uU(1),d.BQk()),2&i){const r=d.oxw(2);d.xp6(1),d.hij("[",r.duplicatesCount+1,"]")}}function _b(i,n){if(1&i&&(d.TgZ(0,"div"),d._uU(1),d.YNc(2,mb,2,1,"ng-container",4),d.qZA()),2&i){const r=d.oxw();d.Tol(r.options.titleClass),d.uIk("aria-label",r.title),d.xp6(1),d.hij(" ",r.title," "),d.xp6(1),d.Q6J("ngIf",r.duplicatesCount)}}function yb(i,n){if(1&i&&d._UZ(0,"div",7),2&i){const r=d.oxw();d.Tol(r.options.messageClass),d.Q6J("innerHTML",r.message,d.oJD)}}function vb(i,n){if(1&i&&(d.TgZ(0,"div",8),d._uU(1),d.qZA()),2&i){const r=d.oxw();d.Tol(r.options.messageClass),d.uIk("aria-label",r.message),d.xp6(1),d.hij(" ",r.message," ")}}function bM(i,n){if(1&i&&(d.TgZ(0,"div"),d._UZ(1,"div",9),d.qZA()),2&i){const r=d.oxw();d.xp6(1),d.Udp("width",r.width+"%")}}class ID{constructor(n,r,a,l,f,_){this.toastId=n,this.config=r,this.message=a,this.title=l,this.toastType=f,this.toastRef=_,this._onTap=new qn.xQ,this._onAction=new qn.xQ,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(n){this._onAction.next(n)}onAction(){return this._onAction.asObservable()}}const rS={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},Cb=new d.OlP("ToastConfig");class wM{constructor(n,r){this.component=n,this.injector=r}attach(n,r){return this._attachedHost=n,n.attach(this,r)}detach(){const n=this._attachedHost;if(n)return this._attachedHost=void 0,n.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class IM extends class{attach(n,r){return this._attachedPortal=n,this.attachComponentPortal(n,r)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(n){this._disposeFn=n}}{constructor(n,r,a){super(),this._hostDomElement=n,this._componentFactoryResolver=r,this._appRef=a}attachComponentPortal(n,r){const a=this._componentFactoryResolver.resolveComponentFactory(n.component);let l;return l=a.create(n.injector),this._appRef.attachView(l.hostView),this.setDisposeFn(()=>{this._appRef.detachView(l.hostView),l.destroy()}),r?this._hostDomElement.insertBefore(this._getComponentRootNode(l),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(l)),l}_getComponentRootNode(n){return n.hostView.rootNodes[0]}}let _M=(()=>{class i{constructor(r){this._document=r}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const r=this._document.createElement("div");r.classList.add("overlay-container"),this._document.body.appendChild(r),this._containerElement=r}}return i.\u0275fac=function(r){return new(r||i)(d.LFG(_e))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG(_e))},token:i,providedIn:"root"}),i})();class TM{constructor(n){this._portalHost=n}attach(n,r=!0){return this._portalHost.attach(n,r)}detach(){return this._portalHost.detach()}}let yM=(()=>{class i{constructor(r,a,l,f){this._overlayContainer=r,this._componentFactoryResolver=a,this._appRef=l,this._document=f,this._paneElements=new Map}create(r,a){return this._createOverlayRef(this.getPaneElement(r,a))}getPaneElement(r="",a){return this._paneElements.get(a)||this._paneElements.set(a,{}),this._paneElements.get(a)[r]||(this._paneElements.get(a)[r]=this._createPaneElement(r,a)),this._paneElements.get(a)[r]}_createPaneElement(r,a){const l=this._document.createElement("div");return l.id="toast-container",l.classList.add(r),l.classList.add("toast-container"),a?a.getContainerElement().appendChild(l):this._overlayContainer.getContainerElement().appendChild(l),l}_createPortalHost(r){return new IM(r,this._componentFactoryResolver,this._appRef)}_createOverlayRef(r){return new TM(this._createPortalHost(r))}}return i.\u0275fac=function(r){return new(r||i)(d.LFG(_M),d.LFG(d._Vd),d.LFG(d.z2F),d.LFG(_e))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG(_M),d.LFG(d._Vd),d.LFG(d.z2F),d.LFG(_e))},token:i,providedIn:"root"}),i})();class DM{constructor(n){this._overlayRef=n,this.duplicatesCount=0,this._afterClosed=new qn.xQ,this._activate=new qn.xQ,this._manualClose=new qn.xQ,this._resetTimeout=new qn.xQ,this._countDuplicate=new qn.xQ}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(n,r){n&&this._resetTimeout.next(),r&&this._countDuplicate.next(++this.duplicatesCount)}}class AM{constructor(n,r){this._toastPackage=n,this._parentInjector=r}get(n,r,a){return n===ID?this._toastPackage:this._parentInjector.get(n,r,a)}}let TD=(()=>{class i{constructor(r,a,l,f,_){this.overlay=a,this._injector=l,this.sanitizer=f,this.ngZone=_,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},r.default),r.config),r.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},r.default.iconClasses),r.config.iconClasses))}show(r,a,l={},f=""){return this._preBuildNotification(f,r,a,this.applyConfig(l))}success(r,a,l={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",r,a,this.applyConfig(l))}error(r,a,l={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",r,a,this.applyConfig(l))}info(r,a,l={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",r,a,this.applyConfig(l))}warning(r,a,l={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",r,a,this.applyConfig(l))}clear(r){for(const a of this.toasts)if(void 0!==r){if(a.toastId===r)return void a.toastRef.manualClose()}else a.toastRef.manualClose()}remove(r){const a=this._findToast(r);if(!a||(a.activeToast.toastRef.close(),this.toasts.splice(a.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const l=this.toasts[this.currentlyActive].toastRef;l.isInactive()||(this.currentlyActive=this.currentlyActive+1,l.activate())}return!0}findDuplicate(r="",a="",l,f){const{includeTitleDuplicates:_}=this.toastrConfig;for(const w of this.toasts){const T=_&&w.title===r;if((!_||T)&&w.message===a)return w.toastRef.onDuplicate(l,f),w}return null}applyConfig(r={}){return Object.assign(Object.assign({},this.toastrConfig),r)}_findToast(r){for(let a=0;a<this.toasts.length;a++)if(this.toasts[a].toastId===r)return{index:a,activeToast:this.toasts[a]};return null}_preBuildNotification(r,a,l,f){return f.onActivateTick?this.ngZone.run(()=>this._buildNotification(r,a,l,f)):this._buildNotification(r,a,l,f)}_buildNotification(r,a,l,f){if(!f.toastComponent)throw new Error("toastComponent required");const _=this.findDuplicate(l,a,this.toastrConfig.resetTimeoutOnDuplicate&&f.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&l||a)&&this.toastrConfig.preventDuplicates&&null!==_)return _;this.previousToastMessage=a;let w=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(w=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const T=this.overlay.create(f.positionClass,this.overlayContainer);this.index=this.index+1;let S=a;a&&f.enableHtml&&(S=this.sanitizer.sanitize(d.q3G.HTML,a));const M=new DM(T),k=new ID(this.index,f,S,l,r,M),z=new AM(k,this._injector),K=new wM(f.toastComponent,z),Ce=T.attach(K,this.toastrConfig.newestOnTop);M.componentInstance=Ce.instance;const Re={toastId:this.index,title:l||"",message:a||"",toastRef:M,onShown:M.afterActivate(),onHidden:M.afterClosed(),onTap:k.onTap(),onAction:k.onAction(),portal:Ce};return w||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Re.toastRef.activate()})),this.toasts.push(Re),Re}}return i.\u0275fac=function(r){return new(r||i)(d.LFG(Cb),d.LFG(yM),d.LFG(d.zs3),d.LFG(Ci),d.LFG(d.R0b))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG(Cb),d.LFG(yM),d.LFG(d.gxx),d.LFG(Ci),d.LFG(d.R0b))},token:i,providedIn:"root"}),i})(),xM=(()=>{class i{constructor(r,a,l){this.toastrService=r,this.toastPackage=a,this.ngZone=l,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=a.message,this.title=a.title,this.options=a.config,this.originalTimeout=a.config.timeOut,this.toastClasses=`${a.toastType} ${a.config.toastClass}`,this.sub=a.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=a.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=a.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=a.toastRef.countDuplicate().subscribe(f=>{this.duplicatesCount=f})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const r=(new Date).getTime();this.width=(this.hideTime-r)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(r,a){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(r),a)):this.timeout=setTimeout(()=>r(),a)}outsideInterval(r,a){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(r),a)):this.intervalId=setInterval(()=>r(),a)}runInsideAngular(r){this.ngZone?this.ngZone.run(()=>r()):r()}}return i.\u0275fac=function(r){return new(r||i)(d.Y36(TD),d.Y36(ID),d.Y36(d.R0b))},i.\u0275cmp=d.Xpm({type:i,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(r,a){1&r&&d.NdJ("click",function(){return a.tapToast()})("mouseenter",function(){return a.stickAround()})("mouseleave",function(){return a.delayedHideToast()}),2&r&&(d.d8E("@flyInOut",a.state),d.Tol(a.toastClasses),d.Udp("display",a.displayStyle))},attrs:Et,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(r,a){1&r&&(d.YNc(0,Qn,3,0,"button",0),d.YNc(1,ng,3,5,"div",1),d.YNc(2,Yd,1,3,"div",2),d.YNc(3,Jd,2,4,"div",3),d.YNc(4,Qd,2,2,"div",4)),2&r&&(d.Q6J("ngIf",a.options.closeButton),d.xp6(1),d.Q6J("ngIf",a.title),d.xp6(1),d.Q6J("ngIf",a.message&&a.options.enableHtml),d.xp6(1),d.Q6J("ngIf",a.message&&!a.options.enableHtml),d.xp6(1),d.Q6J("ngIf",a.options.progressBar))},directives:[Oi],encapsulation:2,data:{animation:[h("flyInOut",[D("inactive",I({opacity:0})),D("active",I({opacity:1})),D("removed",I({opacity:0})),N("inactive => active",g("{{ easeTime }}ms {{ easing }}")),N("active => removed",g("{{ easeTime }}ms {{ easing }}"))])]}}),i})();const SM=Object.assign(Object.assign({},rS),{toastComponent:xM});let vM=(()=>{class i{static forRoot(r={}){return{ngModule:i,providers:[{provide:Cb,useValue:{default:SM,config:r}}]}}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[ch]]}),i})(),MM=(()=>{class i{constructor(r,a,l){this.toastrService=r,this.toastPackage=a,this.appRef=l,this.width=-1,this.toastClasses="",this.state="inactive",this.message=a.message,this.title=a.title,this.options=a.config,this.originalTimeout=a.config.timeOut,this.toastClasses=`${a.toastType} ${a.config.toastClass}`,this.sub=a.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=a.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=a.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=a.toastRef.countDuplicate().subscribe(f=>{this.duplicatesCount=f})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const r=(new Date).getTime();this.width=(this.hideTime-r)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return i.\u0275fac=function(r){return new(r||i)(d.Y36(TD),d.Y36(ID),d.Y36(d.z2F))},i.\u0275cmp=d.Xpm({type:i,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(r,a){1&r&&d.NdJ("click",function(){return a.tapToast()})("mouseenter",function(){return a.stickAround()})("mouseleave",function(){return a.delayedHideToast()}),2&r&&(d.Tol(a.toastClasses),d.Udp("display",a.displayStyle))},attrs:Et,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(r,a){1&r&&(d.YNc(0,gb,3,0,"button",0),d.YNc(1,_b,3,5,"div",1),d.YNc(2,yb,1,3,"div",2),d.YNc(3,vb,2,4,"div",3),d.YNc(4,bM,2,2,"div",4)),2&r&&(d.Q6J("ngIf",a.options.closeButton),d.xp6(1),d.Q6J("ngIf",a.title),d.xp6(1),d.Q6J("ngIf",a.message&&a.options.enableHtml),d.xp6(1),d.Q6J("ngIf",a.message&&!a.options.enableHtml),d.xp6(1),d.Q6J("ngIf",a.options.progressBar))},directives:[Oi],encapsulation:2}),i})();function OM(i,n){1&i&&(d.TgZ(0,"div",11),d.TgZ(1,"h1"),d._uU(2,"proveedores"),d.qZA(),d.qZA())}function RM(i,n){if(1&i){const r=d.EpF();d.TgZ(0,"div",19),d.TgZ(1,"h1"),d._uU(2,"A\xf1adir nuevo vehiculo"),d.qZA(),d.TgZ(3,"div",20),d.TgZ(4,"input",21),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw(2).nuevoArray.nombre_chofer=l}),d.qZA(),d.TgZ(5,"input",22),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw(2).nuevoArray.numero_celular_chofer=l}),d.qZA(),d.TgZ(6,"input",23),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw(2).nuevoArray.nombre_controladora=l}),d.qZA(),d.TgZ(7,"input",24),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw(2).nuevoArray.numero_celular_controlador=l}),d.qZA(),d.TgZ(8,"input",25),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw(2).nuevoArray.placa=l}),d.qZA(),d.TgZ(9,"input",26),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw(2).nuevoArray.proveedor=l}),d.qZA(),d.TgZ(10,"input",27),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw(2).nuevoArray.ruta=l}),d.qZA(),d.TgZ(11,"input",28),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw(2).nuevoArray.capacidad=l}),d.qZA(),d.TgZ(12,"input",29),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw(2).nuevoArray.ruc=l}),d.qZA(),d.TgZ(13,"input",30),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw(2).nuevoArray.rason_social=l}),d.qZA(),d.TgZ(14,"div",31),d.TgZ(15,"input",32),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw(2).nuevoArray.paradero1=l}),d.qZA(),d.TgZ(16,"input",33),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw(2).nuevoArray.hora1=l}),d.qZA(),d.TgZ(17,"input",34),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw(2).nuevoArray.paradero2=l}),d.qZA(),d.TgZ(18,"input",35),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw(2).nuevoArray.hora2=l}),d.qZA(),d.TgZ(19,"input",36),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw(2).nuevoArray.paradero3=l}),d.qZA(),d.TgZ(20,"input",37),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw(2).nuevoArray.hora3=l}),d.qZA(),d.TgZ(21,"input",38),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw(2).nuevoArray.paradero4=l}),d.qZA(),d.TgZ(22,"input",39),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw(2).nuevoArray.hora4=l}),d.qZA(),d.qZA(),d.TgZ(23,"div",40),d.TgZ(24,"i",41),d.NdJ("click",function(){return d.CHM(r),d.oxw(2).anadir_nuevo_vehiculo()}),d.qZA(),d.TgZ(25,"i",42),d.NdJ("click",function(){return d.CHM(r),d.oxw(2).cerrar_ana()}),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&i){const r=d.oxw(2);d.xp6(4),d.Q6J("ngModel",r.nuevoArray.nombre_chofer),d.xp6(1),d.Q6J("ngModel",r.nuevoArray.numero_celular_chofer),d.xp6(1),d.Q6J("ngModel",r.nuevoArray.nombre_controladora),d.xp6(1),d.Q6J("ngModel",r.nuevoArray.numero_celular_controlador),d.xp6(1),d.Q6J("ngModel",r.nuevoArray.placa),d.xp6(1),d.Q6J("ngModel",r.nuevoArray.proveedor),d.xp6(1),d.Q6J("ngModel",r.nuevoArray.ruta),d.xp6(1),d.Q6J("ngModel",r.nuevoArray.capacidad),d.xp6(1),d.Q6J("ngModel",r.nuevoArray.ruc),d.xp6(1),d.Q6J("ngModel",r.nuevoArray.rason_social),d.xp6(2),d.Q6J("ngModel",r.nuevoArray.paradero1),d.xp6(1),d.Q6J("ngModel",r.nuevoArray.hora1),d.xp6(1),d.Q6J("ngModel",r.nuevoArray.paradero2),d.xp6(1),d.Q6J("ngModel",r.nuevoArray.hora2),d.xp6(1),d.Q6J("ngModel",r.nuevoArray.paradero3),d.xp6(1),d.Q6J("ngModel",r.nuevoArray.hora3),d.xp6(1),d.Q6J("ngModel",r.nuevoArray.paradero4),d.xp6(1),d.Q6J("ngModel",r.nuevoArray.hora4)}}function PM(i,n){if(1&i){const r=d.EpF();d.TgZ(0,"div",43),d.TgZ(1,"h1"),d._uU(2,"Editar vehiculo"),d.qZA(),d.TgZ(3,"div",44),d.TgZ(4,"input",21),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw(2).nuevoArray.nombre_chofer=l}),d.qZA(),d.TgZ(5,"input",22),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw(2).nuevoArray.numero_celular_chofer=l}),d.qZA(),d.TgZ(6,"input",23),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw(2).nuevoArray.nombre_controladora=l}),d.qZA(),d.TgZ(7,"input",24),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw(2).nuevoArray.numero_celular_controlador=l}),d.qZA(),d.TgZ(8,"input",25),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw(2).nuevoArray.placa=l}),d.qZA(),d.TgZ(9,"input",26),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw(2).nuevoArray.proveedor=l}),d.qZA(),d.TgZ(10,"input",27),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw(2).nuevoArray.ruta=l}),d.qZA(),d.TgZ(11,"input",45),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw(2).nuevoArray.capacidad=l}),d.qZA(),d.TgZ(12,"input",29),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw(2).nuevoArray.ruc=l}),d.qZA(),d.TgZ(13,"input",30),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw(2).nuevoArray.rason_social=l}),d.qZA(),d.TgZ(14,"div",31),d.TgZ(15,"input",32),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw(2).nuevoArray.paradero1=l}),d.qZA(),d.TgZ(16,"input",33),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw(2).nuevoArray.hora1=l}),d.qZA(),d.TgZ(17,"input",34),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw(2).nuevoArray.paradero2=l}),d.qZA(),d.TgZ(18,"input",35),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw(2).nuevoArray.hora2=l}),d.qZA(),d.TgZ(19,"input",36),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw(2).nuevoArray.paradero3=l}),d.qZA(),d.TgZ(20,"input",37),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw(2).nuevoArray.hora3=l}),d.qZA(),d.TgZ(21,"input",38),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw(2).nuevoArray.paradero4=l}),d.qZA(),d.TgZ(22,"input",39),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw(2).nuevoArray.hora4=l}),d.qZA(),d.qZA(),d.TgZ(23,"div",40),d.TgZ(24,"i",41),d.NdJ("click",function(){return d.CHM(r),d.oxw(2).anadir_nuevo_vehiculo()}),d.qZA(),d.TgZ(25,"i",42),d.NdJ("click",function(){return d.CHM(r),d.oxw(2).cerrar_editar()}),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&i){const r=d.oxw(2);d.xp6(4),d.Q6J("ngModel",r.nuevoArray.nombre_chofer),d.xp6(1),d.Q6J("ngModel",r.nuevoArray.numero_celular_chofer),d.xp6(1),d.Q6J("ngModel",r.nuevoArray.nombre_controladora),d.xp6(1),d.Q6J("ngModel",r.nuevoArray.numero_celular_controlador),d.xp6(1),d.Q6J("ngModel",r.nuevoArray.placa),d.xp6(1),d.Q6J("ngModel",r.nuevoArray.proveedor),d.xp6(1),d.Q6J("ngModel",r.nuevoArray.ruta),d.xp6(1),d.Q6J("ngModel",r.nuevoArray.capacidad),d.xp6(1),d.Q6J("ngModel",r.nuevoArray.ruc),d.xp6(1),d.Q6J("ngModel",r.nuevoArray.rason_social),d.xp6(2),d.Q6J("ngModel",r.nuevoArray.paradero1),d.xp6(1),d.Q6J("ngModel",r.nuevoArray.hora1),d.xp6(1),d.Q6J("ngModel",r.nuevoArray.paradero2),d.xp6(1),d.Q6J("ngModel",r.nuevoArray.hora2),d.xp6(1),d.Q6J("ngModel",r.nuevoArray.paradero3),d.xp6(1),d.Q6J("ngModel",r.nuevoArray.hora3),d.xp6(1),d.Q6J("ngModel",r.nuevoArray.paradero4),d.xp6(1),d.Q6J("ngModel",r.nuevoArray.hora4)}}function kM(i,n){if(1&i){const r=d.EpF();d.TgZ(0,"div",46),d.TgZ(1,"div",47),d.TgZ(2,"h1"),d._uU(3,"informacion de la mobilidad"),d.qZA(),d.TgZ(4,"input",48),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw(2).nuevoArray.nombre_chofer=l}),d.qZA(),d.TgZ(5,"input",49),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw(2).nuevoArray.numero_celular_chofer=l}),d.qZA(),d.TgZ(6,"input",50),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw(2).nuevoArray.nombre_controladora=l}),d.qZA(),d.TgZ(7,"input",51),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw(2).nuevoArray.numero_celular_controlador=l}),d.qZA(),d.TgZ(8,"input",52),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw(2).nuevoArray.placa=l}),d.qZA(),d.TgZ(9,"input",53),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw(2).nuevoArray.proveedor=l}),d.qZA(),d.TgZ(10,"input",54),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw(2).nuevoArray.ruta=l}),d.qZA(),d.TgZ(11,"input",55),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw(2).nuevoArray.capacidad=l}),d.qZA(),d.TgZ(12,"input",56),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw(2).nuevoArray.ruc=l}),d.qZA(),d.TgZ(13,"input",57),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw(2).nuevoArray.rason_social=l}),d.qZA(),d.qZA(),d._UZ(14,"div",31),d.TgZ(15,"h1",58),d._uU(16),d.qZA(),d.TgZ(17,"h1",59),d._uU(18),d.qZA(),d.TgZ(19,"h1",60),d._uU(20),d.qZA(),d.TgZ(21,"h1",61),d._uU(22),d.qZA(),d.TgZ(23,"h1",62),d._uU(24),d.qZA(),d.TgZ(25,"h1",63),d._uU(26),d.qZA(),d.TgZ(27,"h1",64),d._uU(28),d.qZA(),d.TgZ(29,"h1",65),d._uU(30),d.qZA(),d.TgZ(31,"div",66),d.TgZ(32,"i",67),d.NdJ("click",function(){return d.CHM(r),d.oxw(2).mostrar_contenedor_editar()}),d.qZA(),d.TgZ(33,"i",68),d.NdJ("click",function(){d.CHM(r);const l=d.oxw(2);return l.borrar(l.nuevoArray)}),d.qZA(),d.TgZ(34,"i",42),d.NdJ("click",function(){return d.CHM(r),d.oxw(2).cerrar_informacion()}),d.qZA(),d.qZA(),d.qZA()}if(2&i){const r=d.oxw(2);d.xp6(4),d.Q6J("ngModel",r.nuevoArray.nombre_chofer),d.xp6(1),d.Q6J("ngModel",r.nuevoArray.numero_celular_chofer),d.xp6(1),d.Q6J("ngModel",r.nuevoArray.nombre_controladora),d.xp6(1),d.Q6J("ngModel",r.nuevoArray.numero_celular_controlador),d.xp6(1),d.Q6J("ngModel",r.nuevoArray.placa),d.xp6(1),d.Q6J("ngModel",r.nuevoArray.proveedor),d.xp6(1),d.Q6J("ngModel",r.nuevoArray.ruta),d.xp6(1),d.Q6J("ngModel",r.nuevoArray.capacidad),d.xp6(1),d.Q6J("ngModel",r.nuevoArray.ruc),d.xp6(1),d.Q6J("ngModel",r.nuevoArray.rason_social),d.xp6(3),d.Oqu(r.nuevoArray.paradero1),d.xp6(2),d.Oqu(r.nuevoArray.hora1),d.xp6(2),d.Oqu(r.nuevoArray.paradero2),d.xp6(2),d.Oqu(r.nuevoArray.hora2),d.xp6(2),d.Oqu(r.nuevoArray.paradero3),d.xp6(2),d.Oqu(r.nuevoArray.hora3),d.xp6(2),d.Oqu(r.nuevoArray.paradero4),d.xp6(2),d.Oqu(r.nuevoArray.hora4)}}function FM(i,n){if(1&i){const r=d.EpF();d.TgZ(0,"div",69),d.NdJ("click",function(){const f=d.CHM(r).$implicit;return d.oxw(2).mostrar_contenedor_informacion(f)}),d.TgZ(1,"div",70),d.TgZ(2,"div",71),d.TgZ(3,"h1"),d._uU(4),d.qZA(),d.qZA(),d.qZA(),d.TgZ(5,"div",72),d.TgZ(6,"h1",73),d._uU(7),d.qZA(),d.qZA(),d.TgZ(8,"div",74),d.TgZ(9,"h1"),d._uU(10),d.qZA(),d.qZA(),d.TgZ(11,"div",75),d._UZ(12,"i",76),d.TgZ(13,"h1",77),d._uU(14),d.qZA(),d.qZA(),d.TgZ(15,"div",78),d.TgZ(16,"h1"),d._uU(17),d.qZA(),d.qZA(),d.TgZ(18,"div",79),d.TgZ(19,"h1"),d._uU(20),d.qZA(),d.qZA(),d.qZA()}if(2&i){const r=n.$implicit;d.xp6(2),d.Jzz("background: ",r.color,";font-weight:800;font-size:8px;line-height:40px;color:#fff"),d.xp6(2),d.Oqu(r.letra),d.xp6(3),d.Oqu(r.proveedor),d.xp6(3),d.Oqu(r.placa),d.xp6(4),d.Oqu(r.ruta),d.xp6(3),d.hij("",r.trabajadores," Empleados"),d.xp6(3),d.hij("",r.capacidad," capacidad")}}function LM(i,n){if(1&i){const r=d.EpF();d.TgZ(0,"div",12),d.TgZ(1,"button",13),d.NdJ("click",function(){return d.CHM(r),d.oxw().subir_datos_vehiculos()}),d._uU(2,"Enviar Datos"),d.qZA(),d.TgZ(3,"h1"),d._uU(4,"Vehiculos"),d.qZA(),d.TgZ(5,"button",14),d.NdJ("click",function(){return d.CHM(r),d.oxw().mostrar_contenedor_()}),d._uU(6,"A\xf1adir Nuevo Vehiculo"),d.qZA(),d._UZ(7,"br"),d.YNc(8,RM,26,18,"div",15),d.YNc(9,PM,26,18,"div",16),d.YNc(10,kM,35,18,"div",17),d.YNc(11,FM,21,9,"div",18),d.qZA()}if(2&i){const r=d.oxw();d.xp6(8),d.Q6J("ngIf",r.contenedor_anadir_nuevo_vehiculo),d.xp6(1),d.Q6J("ngIf",r.contenedor_editar_vehiculo),d.xp6(1),d.Q6J("ngIf",r.mostrar_infomacion_vehiculos),d.xp6(1),d.Q6J("ngForOf",r.informacion_bajada)}}function VM(i,n){1&i&&(d.TgZ(0,"div",80),d.TgZ(1,"h1"),d._uU(2,"Personoal"),d.qZA(),d.qZA())}function UM(i,n){1&i&&(d.TgZ(0,"div",81),d.TgZ(1,"h1"),d._uU(2,"Sanciones"),d.qZA(),d.qZA())}function BM(i,n){1&i&&(d.TgZ(0,"div",82),d.TgZ(1,"h1"),d._uU(2,"Vales"),d.qZA(),d.qZA())}function jM(i,n){1&i&&(d.TgZ(0,"div",83),d.TgZ(1,"h1"),d._uU(2,"Almuerzo"),d.qZA(),d.qZA())}function HM(i,n){1&i&&(d.TgZ(0,"div",84),d.TgZ(1,"h1"),d._uU(2,"Reporte de veles"),d.qZA(),d.qZA())}function ZM(i,n){1&i&&(d.TgZ(0,"div",85),d.TgZ(1,"h1"),d._uU(2,"Crear comunicado"),d.qZA(),d.qZA())}function qM(i,n){if(1&i){const r=d.EpF();d.TgZ(0,"div",29),d.TgZ(1,"div",30),d.TgZ(2,"h1"),d._uU(3,"Editar Datos"),d.qZA(),d.qZA(),d.TgZ(4,"input",31),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw().nuevoArray.nombre_chofer=l}),d.qZA(),d.TgZ(5,"input",32),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw().nuevoArray.numero_celular_chofer=l}),d.qZA(),d.TgZ(6,"input",33),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw().nuevoArray.nombre_controladora=l}),d.qZA(),d.TgZ(7,"input",34),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw().nuevoArray.numero_celular_controlador=l}),d.qZA(),d.TgZ(8,"input",35),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw().nuevoArray.placa=l}),d.qZA(),d.TgZ(9,"input",36),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw().nuevoArray.proveedor=l}),d.qZA(),d.TgZ(10,"input",37),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw().nuevoArray.ruta=l}),d.qZA(),d.TgZ(11,"input",38),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw().nuevoArray.capacidad=l}),d.qZA(),d.TgZ(12,"input",39),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw().nuevoArray.paradero1=l}),d.qZA(),d.qZA()}if(2&i){const r=d.oxw();d.xp6(4),d.Q6J("ngModel",r.nuevoArray.nombre_chofer),d.xp6(1),d.Q6J("ngModel",r.nuevoArray.numero_celular_chofer),d.xp6(1),d.Q6J("ngModel",r.nuevoArray.nombre_controladora),d.xp6(1),d.Q6J("ngModel",r.nuevoArray.numero_celular_controlador),d.xp6(1),d.Q6J("ngModel",r.nuevoArray.placa),d.xp6(1),d.Q6J("ngModel",r.nuevoArray.proveedor),d.xp6(1),d.Q6J("ngModel",r.nuevoArray.ruta),d.xp6(1),d.Q6J("ngModel",r.nuevoArray.capacidad),d.xp6(1),d.Q6J("ngModel",r.nuevoArray.paradero1)}}function GM(i,n){if(1&i){const r=d.EpF();d.TgZ(0,"div",40),d.TgZ(1,"div",41),d.TgZ(2,"div",42),d.TgZ(3,"input",35),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw().placa_asistida=l}),d.qZA(),d.TgZ(4,"button",43),d.NdJ("click",function(){return d.CHM(r),d.oxw().si_vinieron()}),d._uU(5,"Buscar"),d.qZA(),d.qZA(),d.TgZ(6,"div",44),d.TgZ(7,"input",45),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw().nuevoArray.nombre_chofer=l}),d.qZA(),d.TgZ(8,"input",36),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw().nuevoArray.proveedor=l}),d.qZA(),d.TgZ(9,"input",37),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw().nuevoArray.ruta=l}),d.qZA(),d.TgZ(10,"input",46),d.NdJ("ngModelChange",function(l){return d.CHM(r),d.oxw().nuevoArray.trabajadores=l}),d.qZA(),d.qZA(),d.qZA(),d.TgZ(11,"i",47),d.NdJ("click",function(){return d.CHM(r),d.oxw().aumentar()}),d.qZA(),d.TgZ(12,"i",48),d.NdJ("click",function(){return d.CHM(r),d.oxw().cerrar_b()}),d.qZA(),d.qZA()}if(2&i){const r=d.oxw();d.vpz("background:",r.color_contenedor_editable,";  box-shadow: 0 0 20px ",r.color_contenedor_editable,";"),d.xp6(3),d.Q6J("ngModel",r.placa_asistida),d.xp6(4),d.Q6J("ngModel",r.nuevoArray.nombre_chofer),d.xp6(1),d.Q6J("ngModel",r.nuevoArray.proveedor),d.xp6(1),d.Q6J("ngModel",r.nuevoArray.ruta),d.xp6(1),d.Q6J("ngModel",r.nuevoArray.trabajadores),d.xp6(1),d.Jzz("color: ",r.color_cambiante,";")}}function zM(i,n){if(1&i){const r=d.EpF();d.TgZ(0,"div"),d.TgZ(1,"div",49),d.TgZ(2,"div",50),d.NdJ("click",function(){return d.CHM(r),d.oxw().mostrar=!1}),d._uU(3," X\n"),d.qZA(),d.TgZ(4,"div",51),d.TgZ(5,"h1"),d._uU(6,"Nombre del chofer"),d.qZA(),d.qZA(),d.TgZ(7,"div",52),d.TgZ(8,"h1"),d._uU(9),d.qZA(),d.qZA(),d.TgZ(10,"div",53),d.TgZ(11,"h1"),d._uU(12,"Numero telf del chofer"),d.qZA(),d.qZA(),d.TgZ(13,"div",54),d.TgZ(14,"h1"),d._uU(15),d.qZA(),d.qZA(),d.TgZ(16,"div",55),d.TgZ(17,"h1"),d._uU(18,"Nombre de la controladora"),d.qZA(),d.qZA(),d.TgZ(19,"div",56),d.TgZ(20,"h1"),d._uU(21),d.qZA(),d.qZA(),d.TgZ(22,"div",57),d.TgZ(23,"h1"),d._uU(24,"Numero de la controladora"),d.qZA(),d.qZA(),d.TgZ(25,"div",58),d.TgZ(26,"h1"),d._uU(27),d.qZA(),d.qZA(),d.TgZ(28,"div",59),d.TgZ(29,"i",60),d.NdJ("click",function(){d.CHM(r);const l=d.oxw();return l.editar(l.informacion)}),d.qZA(),d.TgZ(30,"i",61),d.NdJ("click",function(){d.CHM(r);const l=d.oxw();return l.borrar(l.informacion)}),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&i){const r=d.oxw();d.xp6(9),d.Oqu(r.informacion.nombre_chofer),d.xp6(6),d.Oqu(r.informacion.numero_celular_chofer),d.xp6(6),d.Oqu(""+r.informacion.nombre_controladora),d.xp6(6),d.hij("",r.informacion.numero_celular_controlador," ")}}function WM(i,n){1&i&&(d.TgZ(0,"div"),d._UZ(1,"div",62),d.qZA())}function KM(i,n){if(1&i){const r=d.EpF();d.TgZ(0,"div",63),d.NdJ("click",function(){const f=d.CHM(r).$implicit;return d.oxw().mostrar_informacion(f)}),d.TgZ(1,"div",64),d.NdJ("click",function(){return d.CHM(r),d.oxw().mostrar=!0}),d.TgZ(2,"div",65),d.TgZ(3,"div",66),d.TgZ(4,"h1"),d._uU(5),d.qZA(),d.qZA(),d.qZA(),d.TgZ(6,"div",67),d.TgZ(7,"h1",68),d._uU(8),d.qZA(),d.qZA(),d.TgZ(9,"div",69),d.TgZ(10,"h1"),d._uU(11),d.qZA(),d.qZA(),d.TgZ(12,"div",70),d._UZ(13,"i",71),d.TgZ(14,"h1",72),d._uU(15),d.qZA(),d.qZA(),d.TgZ(16,"div",73),d.TgZ(17,"h1"),d._uU(18),d.qZA(),d.qZA(),d.TgZ(19,"div",74),d.TgZ(20,"h1"),d._uU(21),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&i){const r=n.$implicit;d.xp6(1),d.Jzz("display:",r.activado,""),d.xp6(2),d.Jzz("background: ",r.color,";font-weight:800;font-size:8px;line-height:40px;color:#fff"),d.xp6(2),d.Oqu(r.letra),d.xp6(3),d.Oqu(r.proveedor),d.xp6(3),d.Oqu(r.placa),d.xp6(4),d.Oqu(r.ruta),d.xp6(3),d.hij("",r.trabajadores," Empleados"),d.xp6(3),d.hij("",r.capacidad," capacidad")}}Object.assign(Object.assign({},rS),{toastComponent:MM});const YM=[{path:"base_datos",component:(()=>{class i{constructor(r,a,l){this.servicio=r,this.toastr=a,this.proveedores_display=!1,this.vehiculos_display=!1,this.personal_display=!1,this.sanciones_display=!1,this.vales_display=!1,this.almuerzo_display=!1,this.reporte_vales_display=!1,this.crear_comunicado_display=!1,this.mostrar_infomacion_vehiculos=!1,this.contenedor_editar_vehiculo=!1,this.contenedor_anadir_nuevo_vehiculo=!1,this.nuevoArray=new mm,this.Array_vehiculos=[],this.can=[{name:"jorge"}],this.informacion_bajada=[]}mostrar_contenedor_informacion(r){this.mostrar_infomacion_vehiculos=!0,this.nuevoArray=r}mostrar_contenedor_(){this.contenedor_anadir_nuevo_vehiculo=!0}cerrar_ana(){this.contenedor_anadir_nuevo_vehiculo=!1}cerrar_informacion(){this.mostrar_infomacion_vehiculos=!1}mostrar_contenedor_editar(){this.contenedor_editar_vehiculo=!0,this.mostrar_infomacion_vehiculos=!1}cerrar_editar(){this.contenedor_editar_vehiculo=!1}anadir_nuevo_vehiculo(){this.informacion_bajada.push({nombre_chofer:this.nuevoArray.nombre_chofer,nombre_controladora:this.nuevoArray.nombre_controladora,placa:this.nuevoArray.placa,capacidad:this.nuevoArray.capacidad,trabajadores:this.nuevoArray.trabajadores,numero_celular_chofer:this.nuevoArray.numero_celular_chofer,numero_celular_controlador:this.nuevoArray.numero_celular_controlador,ruta:this.nuevoArray.ruta,color:this.nuevoArray.color,activado:this.nuevoArray.activado,letra:this.nuevoArray.letra,rason_social:this.nuevoArray.rason_social,ruc:this.nuevoArray.ruc,proveedor:this.nuevoArray.proveedor,paradero1:this.nuevoArray.paradero1,hora1:this.nuevoArray.hora1,paradero2:this.nuevoArray.paradero2,hora2:this.nuevoArray.hora2,paradero3:this.nuevoArray.paradero3,hora3:this.nuevoArray.hora3,paradero4:this.nuevoArray.paradero4,hora4:this.nuevoArray.hora4}),this.contenedor_anadir_nuevo_vehiculo=!1}subir_datos_vehiculos(){this.servicio.a\u00f1adir_datos_mobiles(this.informacion_bajada)}borrar(r){this.mostrar_infomacion_vehiculos=!1;for(let a=0;a<this.informacion_bajada.length;a++)r.placa==this.informacion_bajada[a].placa&&console.log(this.informacion_bajada.splice(a))}mostrar_proveedores(){this.proveedores_display=!1,this.vehiculos_display=!1,this.personal_display=!1,this.sanciones_display=!1,this.vales_display=!1,this.almuerzo_display=!1,this.reporte_vales_display=!1,this.crear_comunicado_display=!1,this.proveedores_display=!0}mostrar_vehiculos(){this.proveedores_display=!1,this.vehiculos_display=!1,this.personal_display=!1,this.sanciones_display=!1,this.vales_display=!1,this.almuerzo_display=!1,this.reporte_vales_display=!1,this.crear_comunicado_display=!1,this.vehiculos_display=!0}mostrar_personal(){this.proveedores_display=!1,this.vehiculos_display=!1,this.personal_display=!1,this.sanciones_display=!1,this.vales_display=!1,this.almuerzo_display=!1,this.reporte_vales_display=!1,this.crear_comunicado_display=!1,this.personal_display=!0}mostrar_sanciones(){this.proveedores_display=!1,this.vehiculos_display=!1,this.personal_display=!1,this.sanciones_display=!1,this.vales_display=!1,this.almuerzo_display=!1,this.reporte_vales_display=!1,this.crear_comunicado_display=!1,this.sanciones_display=!0}mostrar_vales(){this.proveedores_display=!1,this.vehiculos_display=!1,this.personal_display=!1,this.sanciones_display=!1,this.vales_display=!1,this.almuerzo_display=!1,this.reporte_vales_display=!1,this.crear_comunicado_display=!1,this.vales_display=!0}mostrar_almuerzo(){this.proveedores_display=!1,this.vehiculos_display=!1,this.personal_display=!1,this.sanciones_display=!1,this.vales_display=!1,this.almuerzo_display=!1,this.reporte_vales_display=!1,this.crear_comunicado_display=!1,this.almuerzo_display=!0}mostrar_reportes_vales(){this.proveedores_display=!1,this.vehiculos_display=!1,this.personal_display=!1,this.sanciones_display=!1,this.vales_display=!1,this.almuerzo_display=!1,this.reporte_vales_display=!1,this.crear_comunicado_display=!1,this.reporte_vales_display=!0}mostrar_crear_comunicado(){this.proveedores_display=!1,this.vehiculos_display=!1,this.personal_display=!1,this.sanciones_display=!1,this.vales_display=!1,this.almuerzo_display=!1,this.reporte_vales_display=!1,this.crear_comunicado_display=!1,this.crear_comunicado_display=!0}ngOnInit(){this.servicio.ver_datos().then(r=>{this.informacion_bajada=r})}}return i.\u0275fac=function(r){return new(r||i)(d.Y36(s),d.Y36(TD),d.Y36(pb))},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-base-de-datos"]],decls:26,vars:8,consts:[["rel","stylesheet","href","https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css","integrity","sha512-YWzhKL2whUzgiheMoBFwW8CKV4qpHQAEuvilg9FAn5VJUDwKZZxkJNuGM4XkWuk94WCrrwslk8yWNGmY1EduTA==","crossorigin","anonymous","referrerpolicy","no-referrer"],[1,"cabezal"],[3,"click"],["class","proveedores",4,"ngIf"],["class","vehiculos",4,"ngIf"],["class","personal",4,"ngIf"],["class","sanciones",4,"ngIf"],["class","vales",4,"ngIf"],["class","almuerzo",4,"ngIf"],["class","reporte_vales",4,"ngIf"],["class","crear_comunicado",4,"ngIf"],[1,"proveedores"],[1,"vehiculos"],[1,"b_enviar_datos",3,"click"],[1,"b-a\xf1adir-vehiculo-nuevo",3,"click"],["class","contenedor_a\xf1adir_nuevo_vehiculo",4,"ngIf"],["class","contenedor_editar_vehiculo",4,"ngIf"],["class","contenedor_informacion_dato_vehiculos",4,"ngIf"],["class","contenedor-informacion-mobilidad",3,"click",4,"ngFor","ngForOf"],[1,"contenedor_a\xf1adir_nuevo_vehiculo"],[1,"contenedor_a\xf1adir_inputs"],["type","text","placeholder","Nombre del Chofer",3,"ngModel","ngModelChange"],["type","text","placeholder","Telf Chofer",3,"ngModel","ngModelChange"],["type","text","placeholder","Nombre Controladora",3,"ngModel","ngModelChange"],["type","text","placeholder","Telf Controladora",3,"ngModel","ngModelChange"],["type","text","placeholder","Placa",3,"ngModel","ngModelChange"],["type","text","placeholder","Proveedor",3,"ngModel","ngModelChange"],["type","text","placeholder","Ruta",3,"ngModel","ngModelChange"],["type","number","placeholder","Capacidad",3,"ngModel","ngModelChange"],["type","text","placeholder","Ruc",3,"ngModel","ngModelChange"],["type","text","placeholder","Rason Social",3,"ngModel","ngModelChange"],[1,"contenedor_paraderos"],["type","text","placeholder","Paradero 1",3,"ngModel","ngModelChange"],["type","text","placeholder","Hora 1",3,"ngModel","ngModelChange"],["type","text","placeholder","Paradero 2",3,"ngModel","ngModelChange"],["type","text","placeholder","Hora 2",3,"ngModel","ngModelChange"],["type","text","placeholder","Paradero 3",3,"ngModel","ngModelChange"],["type","text","placeholder","Hora 3",3,"ngModel","ngModelChange"],["type","text","placeholder","Paradero 4",3,"ngModel","ngModelChange"],["type","text","placeholder","Hora 4",3,"ngModel","ngModelChange"],[1,"contenedor_icons"],[1,"fas","fa-check-circle",3,"click"],[1,"fas","fa-times-circle",3,"click"],[1,"contenedor_editar_vehiculo"],[1,"contenedor_editar_inputs"],["type","text","placeholder","Capacidad",3,"ngModel","ngModelChange"],[1,"contenedor_informacion_dato_vehiculos"],[1,"contenedor_a\xf1adir_inputs_"],["type","text","placeholder","Nombre del Chofer","disabled","",3,"ngModel","ngModelChange"],["type","text","placeholder","Telf Chofer","disabled","",3,"ngModel","ngModelChange"],["type","text","placeholder","Nombre Controladora","disabled","",3,"ngModel","ngModelChange"],["type","text","placeholder","Telf Controladora","disabled","",3,"ngModel","ngModelChange"],["type","text","placeholder","Placa","disabled","",3,"ngModel","ngModelChange"],["type","text","placeholder","Proveedor","disabled","",3,"ngModel","ngModelChange"],["type","text","placeholder","Ruta","disabled","",3,"ngModel","ngModelChange"],["type","number","placeholder","Capacidad","disabled","",3,"ngModel","ngModelChange"],["type","text","placeholder","Ruc","disabled","",3,"ngModel","ngModelChange"],["type","text","placeholder","Rason Social","disabled","",3,"ngModel","ngModelChange"],[2,"grid-row","1","grid-column","1"],[2,"grid-row","1","grid-column","2"],[2,"grid-row","2","grid-column","1"],[2,"grid-row","2","grid-column","2"],[2,"grid-row","3","grid-column","1"],[2,"grid-row","3","grid-column","2"],[2,"grid-row","4","grid-column","1"],[2,"grid-row","4","grid-column","2"],[1,"icons",2,"margin-left","70%"],[1,"fas","fa-edit",3,"click"],[1,"fas","fa-trash-alt",3,"click"],[1,"contenedor-informacion-mobilidad",3,"click"],[1,"imagen-vehiculo"],[1,"circulo-contacto"],[1,"proveedor"],[2,"color","rgb(0, 149, 0)"],[1,"placa"],[1,"ruta"],[1,"fas","fa-route"],[2,"display","inline-block","margin-left","4%"],[1,"empleados-de-hoy"],[1,"capacidad"],[1,"personal"],[1,"sanciones"],[1,"vales"],[1,"almuerzo"],[1,"reporte_vales"],[1,"crear_comunicado"]],template:function(r,a){1&r&&(d._UZ(0,"link",0),d.TgZ(1,"div",1),d.TgZ(2,"button",2),d.NdJ("click",function(){return a.mostrar_proveedores()}),d._uU(3,"Proveedores"),d.qZA(),d.TgZ(4,"button",2),d.NdJ("click",function(){return a.mostrar_vehiculos()}),d._uU(5,"Vehiculos"),d.qZA(),d.TgZ(6,"button",2),d.NdJ("click",function(){return a.mostrar_personal()}),d._uU(7,"Personal"),d.qZA(),d.TgZ(8,"button",2),d.NdJ("click",function(){return a.mostrar_sanciones()}),d._uU(9,"Sanciones"),d.qZA(),d.TgZ(10,"button",2),d.NdJ("click",function(){return a.mostrar_vales()}),d._uU(11,"Vales"),d.qZA(),d.TgZ(12,"button",2),d.NdJ("click",function(){return a.mostrar_almuerzo()}),d._uU(13,"Almuerzo"),d.qZA(),d.TgZ(14,"button",2),d.NdJ("click",function(){return a.mostrar_reportes_vales()}),d._uU(15,"Reportes de vales"),d.qZA(),d.TgZ(16,"button",2),d.NdJ("click",function(){return a.mostrar_crear_comunicado()}),d._uU(17,"Crear comunicado"),d.qZA(),d.qZA(),d.YNc(18,OM,3,0,"div",3),d.YNc(19,LM,12,4,"div",4),d.YNc(20,VM,3,0,"div",5),d.YNc(21,UM,3,0,"div",6),d.YNc(22,BM,3,0,"div",7),d.YNc(23,jM,3,0,"div",8),d.YNc(24,HM,3,0,"div",9),d.YNc(25,ZM,3,0,"div",10)),2&r&&(d.xp6(18),d.Q6J("ngIf",a.proveedores_display),d.xp6(1),d.Q6J("ngIf",a.vehiculos_display),d.xp6(1),d.Q6J("ngIf",a.personal_display),d.xp6(1),d.Q6J("ngIf",a.sanciones_display),d.xp6(1),d.Q6J("ngIf",a.vales_display),d.xp6(1),d.Q6J("ngIf",a.almuerzo_display),d.xp6(1),d.Q6J("ngIf",a.reporte_vales_display),d.xp6(1),d.Q6J("ngIf",a.crear_comunicado_display))},directives:[Oi,Ni,Ns,Dr,Zh,_c],styles:['@import"https://fonts.googleapis.com/css2?family=Cabin&display=swap";.vehiculos[_ngcontent-%COMP%]{font-family:"Cabin",sans-serif}.cabezal[_ngcontent-%COMP%]{font-family:"Cabin",sans-serif;margin-top:4%;width:95%;height:150px;background:rgba(0,110,255,.548);border-radius:8px;margin-left:2.5%}.cabezal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:20px;margin-top:3%;background:rgba(255,94,0,0);border-radius:8px;border:0;box-shadow:3px 4px 4px #00000078,-2px -4px 5px #ffffff94;margin-left:2%;color:#fff}.cabezal[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{box-shadow:0 0 #00000080,0 0 #ffffff94;transition:.5s}.b-a\\f1[_ngcontent-%COMP%]   adir-vehiculo-nuevo[_ngcontent-%COMP%]{font-family:"Cabin",sans-serif;border-radius:8px;display:inline-block;border:0;background:rgb(0,98,255);color:#fff;font-size:18px;box-shadow:2px 4px 5px #0009,6px -6px 5px #fff;transition:.3s}.b-a\\f1[_ngcontent-%COMP%]   adir-vehiculo-nuevo[_ngcontent-%COMP%]:active{box-shadow:0 0 #0009,0 0 #fff;transition:.3s}.contenedor_paraderos[_ngcontent-%COMP%]{width:45%;margin-top:5%}.contenedor_paraderos[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:45%}.fa-times-circle[_ngcontent-%COMP%]{font-size:30px;color:#ff0000d2;margin-left:5%}.fa-check-circle[_ngcontent-%COMP%]{font-size:30px}.contenedor_icons[_ngcontent-%COMP%]{margin-left:80%;margin-top:2%}.contenedor_a\\f1[_ngcontent-%COMP%]   adir_nuevo_vehiculo[_ngcontent-%COMP%]{font-family:"Cabin",sans-serif;width:30%;height:450px;background:#fff;box-shadow:0 0 15px #0004;border-radius:8px;position:absolute;margin-left:14%;margin-top:-5%}.contenedor_editar_vehiculo[_ngcontent-%COMP%]{font-family:"Cabin",sans-serif;width:30%;height:450px;background:#fff;box-shadow:0 0 15px #0004;border-radius:8px;position:absolute;margin-left:14%;margin-top:-5%}.contenedor_a\\f1[_ngcontent-%COMP%]   adir_inputs_[_ngcontent-%COMP%]{align-items:center;text-align:center}.contenedor_a\\f1[_ngcontent-%COMP%]   adir_nuevo_vehiculo[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-left:2%;margin-top:2%;border-radius:5px;border:0;background:rgb(255,255,255);color:#000;box-shadow:0 0 5px #000000c5;font-size:15px;height:25px}.contenedor_a\\f1[_ngcontent-%COMP%]   adir_inputs_[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-left:2%;margin-top:2%;border-radius:5px;border:0;background:rgb(0,0,0);color:#fff;box-shadow:0 0 5px #000000c5;font-size:15px;height:25px}.contenedor_editar_inputs[_ngcontent-%COMP%]{margin-left:7%}.contenedor_editar_vehiculo[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-left:2%;margin-top:2%;border-radius:5px;border:0;background:rgb(255,255,255);color:#000;box-shadow:0 0 5px #000000c5;font-size:15px;height:25px}.contenedor_a\\f1[_ngcontent-%COMP%]   adir_nuevo_vehiculo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center}.contenedor_informacion_dato_vehiculos[_ngcontent-%COMP%]{height:550px;width:30%;background-color:#fff;box-shadow:0 0 10px #00000070;margin-left:15%;border-radius:8px;margin-top:-10%;position:absolute;z-index:1}.contenedor-informacion-mobilidad[_ngcontent-%COMP%]{font-family:"Cabin",sans-serif;margin-top:10%;display:inline-block;width:35%;margin-left:3%}.circulo-contacto[_ngcontent-%COMP%]{width:90%;margin-left:10%;height:60%;border-radius:50%;z-index:-2}.informacion-mobilidad[_ngcontent-%COMP%]{display:inline-grid;grid-template-columns:2% 48% 24% 20%;grid-template-rows:25% 30% 32%;height:90px;width:100%;color:#000000e3;text-align:center;margin-left:1%;margin-top:-12%;box-shadow:0 0 10px #0000008a;border-radius:8px}.ruta[_ngcontent-%COMP%]{grid-column:2;width:100%;grid-row:2;font-size:7px;text-align:left;margin-left:5%;display:4}.capacidad[_ngcontent-%COMP%]{grid-row:3;grid-column:4;font-size:6px;color:#000000a1}.trabajadores[_ngcontent-%COMP%]{grid-column:4;grid-row:1;text-align:center;font-size:6px}.proveedor[_ngcontent-%COMP%]{grid-column:2;grid-row:3;font-size:7px;width:10%;margin-left:5%}.imagen-vehiculo[_ngcontent-%COMP%]{grid-column:1;font-size:10px;line-height:45px;font-size:6px;height:64px;margin-top:10%}.placa[_ngcontent-%COMP%]{text-align:justify;margin-left:4%}.placa[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{grid-row:1;width:100%;grid-column:2;font-size:20px;margin-left:0%;margin-top:4px}.fa-route[_ngcontent-%COMP%]{font-size:16px;display:inline-block;grid-row:2}@media (max-width:600px){.contenedor-informacion-mobilidad[_ngcontent-%COMP%]{width:45%}.informacion-mobilidad[_ngcontent-%COMP%]{grid-template-columns:2% 48% 15% 20%}.contenedor_a\\f1[_ngcontent-%COMP%]   adir_nuevo_vehiculo[_ngcontent-%COMP%]{width:90%;margin-left:2.2%;margin-top:-20%}.contenedor_a\\f1[_ngcontent-%COMP%]   adir_nuevo_vehiculo[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:40%;margin-left:3%;margin-top:3%}.contenedor_informacion_dato_vehiculos[_ngcontent-%COMP%]{width:90%;height:480px;margin-left:4%}.contenedor_informacion_dato_vehiculos[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:35%;height:20px}.icons[_ngcontent-%COMP%]{font-size:30px;margin-top:5%}.fa-trash-alt[_ngcontent-%COMP%]{font-size:30px}.icons[_ngcontent-%COMP%]   .fa-times-circle[_ngcontent-%COMP%]{font-size:30px}.b_enviar_datos[_ngcontent-%COMP%]{width:110%;margin-top:10%}}.fa-trash-alt[_ngcontent-%COMP%]{display:inline-block;margin-left:10px;color:red;font-size:35px}.b_editar_vehiculo[_ngcontent-%COMP%]{background:rgba(81,255,0,.733);border:0;color:#fff;font-size:18px;box-shadow:2px 4px 5px #0009,6px -6px 5px #fff;transition:.3s;border-radius:8px;display:inline-block;margin-left:2%}.b_editar_vehiculo[_ngcontent-%COMP%]:active{box-shadow:0 0 #0009,0 0 #fff;transition:.3s}.grid-informacion-basica[_ngcontent-%COMP%]{margin-left:5%;display:grid;grid-template-columns:44% 44%;grid-row:20px 20px 20px 20px 20px 20px}.contenedor_paraderos[_ngcontent-%COMP%]{width:50%;display:grid;grid-template-columns:50% 50%;grid-template-rows:20px 20px 20px 20px 20px}.b_enviar_datos[_ngcontent-%COMP%]{background:rgba(0,255,149,.801);border:0;width:10%;z-index:5;font-size:20px;position:fixed;margin-top:26%;margin-left:46%;color:#fff;border-radius:8px;box-shadow:0 0 15px #00000056}']}),i})()},{path:"",component:(()=>{class i{constructor(r,a,l){this.servicio=r,this.toastr=a,this.informacion_mobilidad=[],this.Array_vinieron=[],this.santiago="Santiago",this.aquijes="Aquijes",this.barrio_chino="Barrio Chino",this.pisco="Pisco",this.la_venta="La venta",this.chincha="Chincha",this.tinguina="Tingui\xf1a",this.cantidad=0,this.mostrar=!1,this.color_contenedor_editable="",this.buscador="",this.alamo_c="#5ec733",this.yaurilla_c="#ff9900",this.pisco_c="#9c1212",this.ca\u00f1ete_c="#351212",this.la_venta_c="#1a52ec",this.punta_hermosa_c="#ff008d",this.barrio_chino_c="#ff1717",this.chincha_c="#6100b9",this.aquijes_c="#89ce02",this.filtro=!1,this.tinguina_c="rgb(45, 191, 43)",this.santiago_c="rgb(234, 229, 47)",this.placa="",this.expancion_c="#510f9a",this.segunda_placa="",this.N_chofer="",this.N_controladora="",this.I_dni="",this.i_capacidad=0,this.i_numero_celular_chofer="",this.i_numero_celular_controlador="",this.vehiculos_todos=0,this.vehiculos_chincha=0,this.vehiculos_tierra_prometida=0,this.vehiculos_aquijes=0,this.vehiculos_pisco=0,this.vehiculos_la_venta=0,this.informacion=[],this.title="sistema",this.vehiculos_santiago=0,this.mas_informacion=!1,this.vehiculos_tinguina=0,this.vehiculos_barrio_chino=0,this.contenedor_anadir=!1,this.placa_asistida="",this.nombre_chofer_anadir="",this.numero_chofer_anadir="",this.nombre_controladora_anadir="",this.numero_controladora_anadir="",this.placa_anadir="",this.proveedor_anadir="",this.ruta_anadir="",this.capacidad_anadir=0,this.personal_anadir=0,this.contenedor_editar=!1,this.nuevoArray=new mm,this.funcion_sumar=100,this.total_vehiculo=0,this.funcion_cambiante="",this.preguntar=!0,this.longitud=60,this.color_cambiante="rgb(95, 95, 95)"}todos(){for(let r=0;r<this.informacion_mobilidad.length;r++)this.informacion_mobilidad[r].activado="grid"}filtro_tinguina(){for(let r=0;r<this.informacion_mobilidad.length;r++)this.informacion_mobilidad[r].activado="Tingui\xf1a"==this.informacion_mobilidad[r].ruta?"grid":"none"}filtro_santiago(){for(let r=0;r<this.informacion_mobilidad.length;r++)this.informacion_mobilidad[r].activado="Santiago"==this.informacion_mobilidad[r].ruta?"grid":"none"}filtrado(r){for(let a=0;a<this.informacion_mobilidad.length;a++)this.informacion_mobilidad[a].activado=this.informacion_mobilidad[a].ruta==r?"grid":"none"}filtro_barrio_chino(){for(let r=0;r<this.informacion_mobilidad.length;r++)this.informacion_mobilidad[r].activado="Barrio Chino"==this.informacion_mobilidad[r].ruta?"grid":"none"}filtro_punta_hermosa(){for(let r=0;r<this.informacion_mobilidad.length;r++)this.informacion_mobilidad[r].activado="Punta Hermosa"==this.informacion_mobilidad[r].ruta?"grid":"none"}buscar(){for(let r=0;r<this.informacion_mobilidad.length;r++)this.informacion_mobilidad[r].activado=this.informacion_mobilidad[r].placa.substring(0,this.buscador.length).toUpperCase()==this.buscador.toUpperCase()?"grid":"none"}actualizar_datos_cantidad(){}aumentar(){this.vehiculos_todos=this.Array_vinieron.length+1,"rgb(0, 236, 12)"==this.color_cambiante&&(this.contenedor_anadir=!1,this.color_cambiante="",this.color_contenedor_editable="background: rgba(101, 113, 122, 0.198);",this.nuevoArray=new mm,this.placa_asistida=""),this.total_vehiculo=this.Array_vinieron.length,this.cantidad=0;for(let r=0;r<this.Array_vinieron.length;r++)this.cantidad+=this.Array_vinieron[r].empleados_hoy;for(let r=0;r<this.Array_vinieron.length;r++)"Tingui\xf1a"==this.Array_vinieron[r].ruta&&this.vehiculos_tinguina++;for(let r=0;r<this.Array_vinieron.length;r++)"Chincha"==this.Array_vinieron[r].ruta&&this.vehiculos_chincha++;for(let r=0;r<this.Array_vinieron.length;r++)"Pisco"==this.Array_vinieron[r].ruta&&this.vehiculos_pisco++;for(let r=0;r<this.Array_vinieron.length;r++)"Tierra prometida"==this.Array_vinieron[r].ruta&&this.vehiculos_tierra_prometida++;for(let r=0;r<this.Array_vinieron.length;r++)"Barrio Chino"==this.Array_vinieron[r].ruta&&this.vehiculos_barrio_chino++;for(let r=0;r<this.Array_vinieron.length;r++)"Aquijes"==this.Array_vinieron[r].ruta&&this.vehiculos_aquijes++;for(let r=0;r<this.Array_vinieron.length;r++)"Tierra Prometida"==this.Array_vinieron[r].ruta&&this.vehiculos_tierra_prometida++;for(let r=0;r<this.Array_vinieron.length;r++)"La venta"==this.Array_vinieron[r].ruta&&this.vehiculos_la_venta++;for(let r=0;r<this.Array_vinieron.length;r++)"Santiago"==this.Array_vinieron[r].ruta&&this.vehiculos_santiago++;for(let r=0;r<this.Array_vinieron.length;r++)"Barrio Chino"==this.Array_vinieron[r].ruta&&this.vehiculos_barrio_chino++}cerrar_b(){this.nuevoArray=new mm,this.contenedor_anadir=!1,this.placa_asistida="",this.color_cambiante="rgba(85, 85, 85, 0.822)",this.color_contenedor_editable="background: rgba(101, 113, 122, 0.198);",console.log()}cerrar(){this.mas_informacion=!1,console.log(this.mas_informacion)}mostrar_informacion(r){this.mas_informacion=!0,this.informacion={nombre_chofer:r.nombre_chofer,nombre_controladora:r.nombre_controladora,placa:r.placa,placa_2:"",empleados_hoy:r.empleados_hoy,empleados_ayer:r.empleados_ayer,numero_celular_chofer:r.numero_celular_chofer,numero_celular_controlador:r.numero_celular_controlador,ruta:r.ruta,imagen_vehiculo:r.imagen_vehiculo}}si_vinieron(){if(null==this.Array_vinieron[0]){for(let r=0;r<this.longitud;r++)this.placa_asistida==this.informacion_mobilidad[r].placa&&1==this.preguntar?(this.nuevoArray=this.informacion_mobilidad[r],this.nuevoArray.nombre_chofer=this.informacion_mobilidad[r].nombre_chofer,this.nuevoArray.proveedor=this.informacion_mobilidad[r].proveedor,this.nuevoArray.ruta=this.informacion_mobilidad[r].ruta,this.color_contenedor_editable="rgba(0, 255, 149, 0.349)",this.longitud=0,this.preguntar=!1,this.color_cambiante="rgb(0, 236, 12)"):(this.nuevoArray.nombre_chofer="",this.nuevoArray.proveedor="",this.nuevoArray.ruta="",this.color_contenedor_editable="rgba(255, 17, 0, 0.479)",this.funcion_cambiante="",this.color_cambiante="rgb(95, 95, 95)"),this.preguntar=!0;this.longitud=60,this.preguntar=!0}else for(let r=0;r<this.Array_vinieron.length+1;r++)if(this.placa_asistida!==this.Array_vinieron[r].placa){for(let a=0;a<this.longitud;a++)this.placa_asistida==this.informacion_mobilidad[a].placa&&1==this.preguntar?(this.nuevoArray=this.informacion_mobilidad[a],this.nuevoArray.nombre_chofer=this.informacion_mobilidad[a].nombre_chofer,this.nuevoArray.proveedor=this.informacion_mobilidad[a].proveedor,this.nuevoArray.ruta=this.informacion_mobilidad[a].ruta,this.color_contenedor_editable="rgba(0, 255, 149, 0.349)",this.longitud=0,this.preguntar=!1,this.color_cambiante="rgb(0, 236, 12)"):(this.nuevoArray.nombre_chofer="",this.nuevoArray.proveedor="",this.nuevoArray.ruta="",this.color_contenedor_editable="rgba(255, 17, 0, 0.479)",this.funcion_cambiante="",this.color_cambiante="rgb(95, 95, 95)"),this.preguntar=!0;this.longitud=60,this.preguntar=!0}else this.color_contenedor_editable="rgba(255, 17, 0, 0.479)"}editar(r){this.mostrar=!1;for(let a=0;a<this.informacion_mobilidad.length;a++)r==this.informacion_mobilidad[a].placa&&(this.nombre_controladora_anadir=this.informacion_mobilidad[a].nombre_chofer,this.numero_chofer_anadir=this.informacion_mobilidad[a].numero_celular_chofer,this.nombre_controladora_anadir=this.informacion_mobilidad[a].nombre_controladora,this.numero_chofer_anadir=this.informacion_mobilidad[a].numero_celular_controlador)}borrar(r){--this.total_vehiculo,this.mostrar=!1;for(let a=0;a<this.Array_vinieron.length;a++)r.placa==this.Array_vinieron[a].placa?this.Array_vinieron.splice(a):console.log("no funciono")}b_editar(r){}subir(){this.servicio.addInformacion(this.Array_vinieron)}ngOnInit(){for(let r=0;r<this.Array_vinieron.length;r++)this.cantidad+=this.Array_vinieron[r].empleados_hoy;for(let r=0;r<this.Array_vinieron.length;r++)"Tingui\xf1a"==this.Array_vinieron[r].ruta&&this.vehiculos_tinguina++;for(let r=0;r<this.Array_vinieron.length;r++)"Chincha"==this.Array_vinieron[r].ruta&&this.vehiculos_chincha++;for(let r=0;r<this.Array_vinieron.length;r++)"Pisco"==this.Array_vinieron[r].ruta&&this.vehiculos_pisco++;for(let r=0;r<this.Array_vinieron.length;r++)"Tierra prometida"==this.Array_vinieron[r].ruta&&this.vehiculos_tierra_prometida++;for(let r=0;r<this.Array_vinieron.length;r++)"Barrio Chino"==this.Array_vinieron[r].ruta&&this.vehiculos_barrio_chino++;for(let r=0;r<this.Array_vinieron.length;r++)this.Array_vinieron[r].ruta&&this.vehiculos_todos++;for(let r=0;r<this.Array_vinieron.length;r++)"Aquijes"==this.Array_vinieron[r].ruta&&this.vehiculos_aquijes++;for(let r=0;r<this.Array_vinieron.length;r++)"Tierra Prometida"==this.Array_vinieron[r].ruta&&this.vehiculos_tierra_prometida++;for(let r=0;r<this.Array_vinieron.length;r++)"La venta"==this.Array_vinieron[r].ruta&&this.vehiculos_la_venta++;for(let r=0;r<this.Array_vinieron.length;r++)"Santiago"==this.Array_vinieron[r].ruta&&this.vehiculos_santiago++;for(let r=0;r<this.Array_vinieron.length;r++)"Barrio Chino"==this.Array_vinieron[r].ruta&&this.vehiculos_barrio_chino++}}return i.\u0275fac=function(r){return new(r||i)(d.Y36(s),d.Y36(TD),d.Y36(pb))},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-asistencia"]],decls:54,vars:37,consts:[["rel","stylesheet","href","https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css","integrity","sha512-YWzhKL2whUzgiheMoBFwW8CKV4qpHQAEuvilg9FAn5VJUDwKZZxkJNuGM4XkWuk94WCrrwslk8yWNGmY1EduTA==","crossorigin","anonymous","referrerpolicy","no-referrer"],[1,"contenedor_menu_transporte",2,"display","none"],[1,"marcar_asistencia"],[1,"ver_asistencias"],[1,"vales"],[1,"contenedor_menu_sistema"],[1,"b-transporte"],[1,"b-servicios"],["http-equiv","Content-Type","content","text/html; charset=utf-8"],[1,"b-enviar",3,"click"],["rel","stylesheet","href","https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css","integrity","sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ==","crossorigin","anonymous","referrerpolicy","no-referrer"],["class","contenedor_editar",4,"ngIf"],["class","contenedor_editable",3,"style",4,"ngIf"],[4,"ngIf"],[1,"cantidad-vehiculos"],[1,"total-vehiculo"],[2,"font-size","12px"],[2,"margin-top","0"],[1,"cantidad-trabajadores"],[2,"font-size","12px","width","100%","margin-left","22%"],[2,"margin-left","15%"],["type","text","placeholder","Buscar Placas",1,"input_buscar",2,"background","rgba(245, 241, 241, 0)","margin-left","15%","border","0","font-size","18px","text-align","center","line-height","40px",3,"ngModel","ngModelChange"],[1,"b-buscar",3,"click"],[1,"contenedor-filtros"],[1,"b-b",2,"border","2px solid rgba(0, 0, 0, 0.466)","background","#000",3,"click"],[1,"b-b",3,"click"],[1,"b-a\xf1adir",3,"click"],[1,"fas","fa-plus-square"],["class","contenedor-informacion-mobilidad",3,"click",4,"ngFor","ngForOf"],[1,"contenedor_editar"],[1,"titulo-editar"],["type","text","placeholder","Nombre del Chofer",3,"ngModel","ngModelChange"],["type","text","placeholder","Telf Chofer",3,"ngModel","ngModelChange"],["type","text","placeholder","Nombre Controladora",3,"ngModel","ngModelChange"],["type","text","placeholder","Telf Controladora",3,"ngModel","ngModelChange"],["type","text","placeholder","Placa",3,"ngModel","ngModelChange"],["type","text","placeholder","Proveedor",3,"ngModel","ngModelChange"],["type","text","placeholder","Ruta",3,"ngModel","ngModelChange"],["type","text","placeholder","Capacidad",3,"ngModel","ngModelChange"],["type","text","placeholder","Paradero 1",3,"ngModel","ngModelChange"],[1,"contenedor_editable"],[1,"conte"],[1,"placa_a"],[1,"b-comprobar-buscar",3,"click"],[1,"inputs-buscar"],["type","text","placeholder","Nombre del chofer",3,"ngModel","ngModelChange"],["type","number","placeholder","Personal",3,"ngModel","ngModelChange"],[1,"fas","fa-check-circle",3,"click"],[1,"fas","fa-times-circle",3,"click"],[1,"mas-informacion"],[1,"b-cerrar",3,"click"],[1,"nombre_chofer",2,"background","rgba(0, 0, 0, 0.123)"],[1,"nombre-perfil",2,"background","rgba(0, 0, 0, 0.123)"],[1,"number-telf"],[1,"numero-telf"],[1,"nombre_controladora",2,"background","rgba(0, 0, 0, 0.123)"],[1,"nombre-controladora",2,"background","rgba(0, 0, 0, 0.123)"],[1,"numero_controladora"],[1,"numero-controladora"],[1,"botones-editar-borrar"],[1,"fas","fa-edit",2,"display","inline-block","color","rgb(0, 81, 255)",3,"click"],[1,"fas","fa-trash-alt",2,"display","inline-block","margin-left","10px","color","#f00",3,"click"],[1,""],[1,"contenedor-informacion-mobilidad",3,"click"],[1,"informacion-mobilidad",3,"click"],[1,"imagen-vehiculo"],[1,"circulo-contacto"],[1,"proveedor"],[2,"color","rgb(0, 149, 0)"],[1,"placa"],[1,"ruta"],[1,"fas","fa-route"],[2,"display","inline-block","margin-left","4%"],[1,"empleados-de-hoy"],[1,"capacidad"]],template:function(r,a){1&r&&(d._UZ(0,"link",0),d.TgZ(1,"div",1),d._UZ(2,"div",2),d._UZ(3,"div",3),d._UZ(4,"div",4),d.qZA(),d.TgZ(5,"div",5),d._UZ(6,"div",6),d._UZ(7,"div",7),d.qZA(),d.TgZ(8,"head"),d._UZ(9,"meta",8),d.qZA(),d.TgZ(10,"button",9),d.NdJ("click",function(){return a.subir()}),d._uU(11,"Enviar"),d.qZA(),d._UZ(12,"link",10),d.YNc(13,qM,13,9,"div",11),d.YNc(14,GM,13,12,"div",12),d.YNc(15,zM,31,4,"div",13),d.YNc(16,WM,2,0,"div",13),d.TgZ(17,"div",14),d.TgZ(18,"div",15),d.TgZ(19,"h1",16),d._uU(20," Total de vehiculos"),d.qZA(),d.TgZ(21,"h1",17),d._uU(22),d.qZA(),d.qZA(),d.TgZ(23,"div",18),d.TgZ(24,"div",15),d.TgZ(25,"h1",19),d._uU(26," Total de trabajadores"),d.qZA(),d.TgZ(27,"h1",17),d._uU(28),d.qZA(),d.qZA(),d.qZA(),d.TgZ(29,"div",20),d.TgZ(30,"input",21),d.NdJ("ngModelChange",function(f){return a.buscador=f}),d.qZA(),d.TgZ(31,"button",22),d.NdJ("click",function(){return a.buscar()}),d._uU(32,"buscar"),d.qZA(),d.qZA(),d.TgZ(33,"div",23),d.TgZ(34,"div",24),d.NdJ("click",function(){return a.todos()}),d._uU(35),d.qZA(),d.TgZ(36,"div",25),d.NdJ("click",function(){return a.filtrado(a.santiago)}),d._uU(37),d.qZA(),d.TgZ(38,"div",25),d.NdJ("click",function(){return a.filtrado(a.la_venta)}),d._uU(39),d.qZA(),d.TgZ(40,"div",25),d.NdJ("click",function(){return a.filtrado(a.aquijes)}),d._uU(41),d.qZA(),d.TgZ(42,"div",25),d.NdJ("click",function(){return a.filtrado(a.pisco)}),d._uU(43),d.qZA(),d.TgZ(44,"div",25),d.NdJ("click",function(){return a.filtrado(a.chincha)}),d._uU(45),d.qZA(),d.TgZ(46,"div",25),d.NdJ("click",function(){return a.filtrado(a.tinguina)}),d._uU(47),d.qZA(),d.TgZ(48,"div",25),d.NdJ("click",function(){return a.filtrado(a.barrio_chino)}),d._uU(49),d.qZA(),d.qZA(),d.TgZ(50,"button",26),d.NdJ("click",function(){return a.contenedor_anadir=!0}),d._uU(51,"A\xf1adir "),d._UZ(52,"i",27),d.qZA(),d.YNc(53,KM,22,12,"div",28),d.qZA()),2&r&&(d.xp6(13),d.Q6J("ngIf",a.contenedor_editar),d.xp6(1),d.Q6J("ngIf",a.contenedor_anadir),d.xp6(1),d.Q6J("ngIf",a.mostrar),d.xp6(1),d.Q6J("ngIf",a.mostrar),d.xp6(6),d.Oqu(a.total_vehiculo),d.xp6(6),d.Oqu(a.cantidad),d.xp6(2),d.Q6J("ngModel",a.buscador),d.xp6(5),d.hij("Todos (",a.vehiculos_todos,")"),d.xp6(1),d.Jzz("background: ",a.santiago_c,";"),d.xp6(1),d.hij("Santiago (",a.vehiculos_santiago,")"),d.xp6(1),d.Jzz("background: ",a.la_venta_c,";"),d.xp6(1),d.hij("La venta (",a.vehiculos_la_venta,")"),d.xp6(1),d.Jzz("background: ",a.aquijes_c,";"),d.xp6(1),d.hij("Aquijes (",a.vehiculos_aquijes,")"),d.xp6(1),d.Jzz("background: ",a.pisco_c,";"),d.xp6(1),d.hij("Pisco (",a.vehiculos_pisco,")"),d.xp6(1),d.Jzz("background: ",a.chincha_c,";"),d.xp6(1),d.hij("Chincha (",a.vehiculos_chincha,")"),d.xp6(1),d.Jzz("background: ",a.tinguina_c,";"),d.xp6(1),d.hij("Tingui\xf1a (",a.vehiculos_tinguina,")"),d.xp6(1),d.Jzz("background: ",a.barrio_chino_c,"; font-size:11px"),d.xp6(1),d.hij("Barrio Chino (",a.vehiculos_barrio_chino,")"),d.xp6(4),d.Q6J("ngForOf",a.informacion_mobilidad))},directives:[Oi,Ns,Dr,Zh,Ni,_c],styles:['@import"https://fonts.googleapis.com/css2?family=Cabin&display=swap";.marcar_asistencia[_ngcontent-%COMP%]{position:fixed;width:9%;background:rgb(255,255,255);height:8%;box-shadow:0 0 10px #000;border-radius:15px;margin-top:45%}.ver_asistencias[_ngcontent-%COMP%]{position:fixed;width:9%;background:rgb(255,255,255);height:8%;box-shadow:0 0 10px #000;border-radius:15px;margin-top:60%}.b-enviar[_ngcontent-%COMP%]{background:rgba(0,255,13,.61);border:0px;height:40px;width:10%;margin-left:45%;border-radius:8px;margin-top:40%;font-size:22px;position:fixed;color:#fff;text-shadow:0 0 3px #000;box-shadow:0 0 10px #0000006c}.vales[_ngcontent-%COMP%]{position:fixed;width:9%;background:rgb(255,255,255);height:8%;box-shadow:0 0 10px #000;border-radius:15px;margin-top:75%}.cantidad-rutas[_ngcontent-%COMP%]{font-family:"Cabin",sans-serif;display:inline-block;font-size:7px}.cantidad-trabajadores[_ngcontent-%COMP%]{display:inline-block;margin-left:2%}.total-vehiculo[_ngcontent-%COMP%]{font-family:"Cabin",sans-serif;width:50%;text-align:center;color:#000;font-size:60px;display:inline-block;margin-left:9%}.b-datos[_ngcontent-%COMP%]{width:10%;height:50px;position:fixed;margin-top:135%;margin-left:50%;border-radius:8px;box-shadow:0 0 10px #0007}.imagen-vehiculo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.contenedor-mas-informacion[_ngcontent-%COMP%]{width:95%;height:38px;border-radius:8px;margin-top:10%;background:rgb(240,245,255);position:fixed}.informacion-mobilidad[_ngcontent-%COMP%]:hover{box-shadow:0 0 10px #000000b4;transition:.5s}.proveedor[_ngcontent-%COMP%]{grid-column:2;grid-row:3;font-size:7px;width:10%;margin-left:5%}.icono-ruta[_ngcontent-%COMP%]{grid-row:2;display:inline-block;width:10%}.fa-route[_ngcontent-%COMP%]{font-size:16px;display:inline-block;grid-row:2}h1[_ngcontent-%COMP%]{font-weight:100}.contenedor-informacion-mobilidad[_ngcontent-%COMP%]{font-family:"Cabin",sans-serif;margin-top:10%;display:inline-block;width:45%;margin-left:3%}.circulo-contacto[_ngcontent-%COMP%]{width:90%;margin-left:10%;height:60%;border-radius:50%;z-index:-2}.informacion-mobilidad[_ngcontent-%COMP%]{display:inline-grid;grid-template-columns:15% 48% 10% 20%;grid-template-rows:25% 30% 32%;height:90px;width:100%;color:#000000e3;text-align:center;margin-left:1%;margin-top:-12%;box-shadow:0 0 10px #0000008a;border-radius:8px}.cabezal[_ngcontent-%COMP%]{width:50%;margin-left:20%;display:inline-block;height:40px;border-radius:8px;box-shadow:0 0 6px #0000004b}.capacidad[_ngcontent-%COMP%]{grid-row:3;grid-column:4;font-size:6px;color:#000000a1}.imagen-vehiculo[_ngcontent-%COMP%]{grid-column:1;font-size:10px;line-height:45px;font-size:6px;height:64px;margin-top:10%}.nombre-chofer[_ngcontent-%COMP%]{text-align:left;grid-column:2;font-size:9px}.ruta[_ngcontent-%COMP%]{grid-column:2;width:100%;grid-row:2;font-size:7px;text-align:left;margin-left:5%;display:4}.empleados-de-hoy[_ngcontent-%COMP%]{grid-column:4;grid-row:1;text-align:center;font-size:6px}.placa[_ngcontent-%COMP%]{grid-row:1;width:100%;grid-column:2;font-size:7px;margin-left:5%;text-align:left}.imagen-licencia[_ngcontent-%COMP%]{display:inline-block;width:40%}.imagen-licencia[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;display:inline-block}.b-editar[_ngcontent-%COMP%]{width:16px;height:16px;position:absolute;margin-left:6%;z-index:-1;margin-top:0%;border-radius:50%;background:rgb(223,223,223);border:.5px solid #000}.contenedor_editable[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-top:1%;margin-left:1%;border-radius:5px;border:0;height:35px;font-size:18px}.conte[_ngcontent-%COMP%]{padding-top:5%}.b-aceptar[_ngcontent-%COMP%]{font-size:10px;background:#000;width:22%;text-align:center;border-radius:8PX;margin-left:70%;margin-top:5%;height:30px;color:#ff11007a;font-family:"Cabin",sans-serif;color:#fff}.fa-check-circle[_ngcontent-%COMP%]{color:#555555d2;font-size:40px;margin-top:2.5%;margin-left:75%}.fa-times-circle[_ngcontent-%COMP%]{color:#ff0000d2;font-size:40px;margin-left:2%}.contenedor_editable[_ngcontent-%COMP%]{background:rgba(101,113,122,.198);-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);box-shadow:0 0 20px #00000070;position:fixed;width:40%;margin-left:9%;margin-top:20%;height:260px;align-items:center;font-family:"Cabin",sans-serif;font-size:22px;color:#fff}.input_buscar[_ngcontent-%COMP%]{margin-left:50%;border-radius:10px;width:45%;box-shadow:0 0 5px #00000083}.b-buscar[_ngcontent-%COMP%]{background:#0000;border:0;height:30px;border-radius:8px;box-shadow:0 0 5px #000;margin-left:5%}.nombre_chofer[_ngcontent-%COMP%]{grid-column:1;grid-row:1;font-size:8px}.nombre_controladora[_ngcontent-%COMP%]{grid-row:3;grid-column:1;font-size:8px;color:#000}.numero_controladora[_ngcontent-%COMP%]{font-size:8px;grid-column:1;grid-row:4}.number-telf[_ngcontent-%COMP%]{font-size:8px;grid-row:2;grid-column:1}.nombre-perfil[_ngcontent-%COMP%]{grid-column:2;grid-row:1;margin-left:0%;display:inline-block;font-size:8px}.numero-telf[_ngcontent-%COMP%]{grid-row:2;grid-column:2;font-size:8px}.contenedor-a\\f1[_ngcontent-%COMP%]   adir[_ngcontent-%COMP%]{border:0}.contenedor-a\\f1[_ngcontent-%COMP%]   adir[_ngcontent-%COMP%]{width:85%;margin-left:7%;margin-top:10%;position:absolute;display:none;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px);height:500px;background:rgba(0,0,0,.219);box-shadow:0 0 20px #00000080}.b-a\\f1[_ngcontent-%COMP%]   adir[_ngcontent-%COMP%]{border:0;display:block;height:6.5%;width:22%;font-size:18px;height:35px;border-radius:8px;background:rgb(0,17,255);margin-top:5%;color:#fff;box-shadow:0 0 5px #0000009f;z-index:0}.contenedor-filtros[_ngcontent-%COMP%]{z-index:1;font-family:"Cabin",sans-serif;text-align:center;color:#fff;font-size:14px;margin-top:5%}.placa_a[_ngcontent-%COMP%]{width:100%;align-items:center;color:#fff}.placa_a[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:60%;margin-left:18%;height:40px;background-color:#fff;background:rgb(250,250,250);font-size:15px}.contenedor-filtros[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:"Cabin",sans-serif;border:0;text-shadow:0 0 8px #fff;border-radius:8px;position:initial;color:#0a0a0a;font-size:15px;margin-left:1%;margin-top:1%}.b-b[_ngcontent-%COMP%]{display:inline-block;width:22%;margin-left:1%;margin-top:1%;border-radius:8px}.botones-editar-borrar[_ngcontent-%COMP%]{grid-row:5;grid-column:2;font-size:30px;margin-left:55%;margin-top:5%}.b-b[_ngcontent-%COMP%]:hover{box-shadow:0 0 10px #000}.mas-informacion[_ngcontent-%COMP%]{font-family:"Cabin",sans-serif;background:rgb(240,245,255);height:200px;grid-template-columns:50% 50%;grid-template-rows:35px 35px 35px 35px 35px;font-weight:100;color:#000;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);border-radius:8px;margin-top:30%;width:30%;margin-left:15%;position:fixed;display:grid;box-shadow:0 0 10px #0000008f}.rutas[_ngcontent-%COMP%]{display:grid;grid-template-columns:50% 50%;grid-template-rows:30px 30px 30px 30px 30px}.nombre-controladora[_ngcontent-%COMP%]{font-size:8px;grid-row:3;grid-column:2}.numero-controladora[_ngcontent-%COMP%]{font-size:8px;grid-row:4;grid-column:2}.b-cerrar[_ngcontent-%COMP%]{width:14%;height:16%;border-radius:50%;box-shadow:0 0 10px red;background:#f00;line-height:30px;text-align:center;margin-top:3%;margin-left:80%;position:absolute;grid-column:2;grid-row:1}.titulo-editar[_ngcontent-%COMP%]{font-size:15px;padding-top:0;height:30px;text-align:center;color:#fff}.inputs-buscar[_ngcontent-%COMP%]{margin-left:6.5%;margin-top:5%}.b-comprobar-buscar[_ngcontent-%COMP%]{font-size:14px;margin-left:2%;border-radius:8px;background:#fff;color:#000;height:30px;display:inline-block}.contenedor_editar[_ngcontent-%COMP%]{font-family:"Cabin",sans-serif;background:rgb(7,72,211);width:75%;height:300px;box-shadow:0 0 20px #0000005b;margin-top:50%;margin-left:11%;position:absolute}.contenedor_editar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-left:4%;margin-top:4%}@media (max-width:600px){.b-enviar[_ngcontent-%COMP%]{width:30%;margin-top:530px;margin-left:60%;height:32px}.b-a\\f1[_ngcontent-%COMP%]   adir[_ngcontent-%COMP%]{font-size:15px;height:22px}.contenedor_editable[_ngcontent-%COMP%]{width:90%;margin-left:2%;height:175px;margin-top:95%}.contenedor_editable[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:25px;width:45%;font-size:14px}.fa-times-circle[_ngcontent-%COMP%]{font-size:30px}.fa-check-circle[_ngcontent-%COMP%]{font-size:30px}}']}),i})()},{path:"reporte_vales",component:(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-reportes-de-vales"]],decls:33,vars:0,consts:[[2,"display","flex","overflow-x","scroll"],[1,"tabla_reporte"],[1,"1"],[1,"2"],[1,"3"],[1,"4"],[1,"5"],[1,"6"],[1,"7"],[1,"8"],[1,"9"],[1,"10"],[1,"11"],[1,"12"],[1,"13"],[1,"14"],[1,"15"],[1,"16"],[1,"17"],[1,"18"],[1,"19"],[1,"20"],[1,"21"],[1,"22"],[1,"23"],[1,"24"],[1,"25"],[1,"26"],[1,"27"]],template:function(r,a){1&r&&(d.TgZ(0,"div"),d.TgZ(1,"h1"),d._uU(2,"Reportes de vales"),d.qZA(),d.qZA(),d.TgZ(3,"div"),d.TgZ(4,"div",0),d.TgZ(5,"div",1),d._UZ(6,"div",2),d._UZ(7,"div",3),d._UZ(8,"div",4),d._UZ(9,"div",5),d._UZ(10,"div",6),d._UZ(11,"div",7),d._UZ(12,"div",8),d._UZ(13,"div",9),d._UZ(14,"div",10),d._UZ(15,"div",11),d._UZ(16,"div",12),d._UZ(17,"div",13),d._UZ(18,"div",14),d._UZ(19,"div",15),d._UZ(20,"div",16),d._UZ(21,"div",17),d._UZ(22,"div",18),d._UZ(23,"div",19),d._UZ(24,"div",20),d._UZ(25,"div",21),d._UZ(26,"div",22),d._UZ(27,"div",23),d._UZ(28,"div",24),d._UZ(29,"div",25),d._UZ(30,"div",26),d._UZ(31,"div",27),d._UZ(32,"div",28),d.qZA(),d.qZA(),d.qZA())},styles:[".tabla_reporte[_ngcontent-%COMP%]{display:grid;grid-template-columns:15% 30% 15% 15% 15% 15% 20% 15% 15% 15% 15% 15% 15% 15% 15% 15% 15% 15% 15% 15% 15% 15% 15% 15% 15% 15% 15%;grid-row:30px;height:50px;min-width:100%}.ruta_realizada[_ngcontent-%COMP%]{grid-column:1;grid-row:1;width:100%;height:12px;margin-left:6.5%;margin-top:4%;font-size:3px;border:1px solid #000}.tabla_reporte[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{border:1px solid #000;min-width:100%;height:25px}"]}),i})()},{path:"servicio",component:(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-servicio"]],decls:2,vars:0,template:function(r,a){1&r&&(d.TgZ(0,"p"),d._uU(1,"servicio works!"),d.qZA())},styles:[""]}),i})()},{path:"vales",component:(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-vales"]],decls:57,vars:0,consts:[[1,"contenedor_filtro"],["type","date"],[1,"vale"],[1,"grid1"],[1,"titulo_vale"],[1,"numero_vale"],[1,"contenedor_informacion_vale"],[1,"nombre_proveedor"],[1,"empresa_transporte"],[1,"chofer"],[1,"nombre_proveedor_rellenar"],[1,"fecha"],[1,"nombre_transporte"],[1,"nombre_chofer_rellenar"],[1,"ruc_rellenar"],[1,"placa_rellenar"],[1,"contenedor_partida_hora"],[1,"punto_partida"],[1,"rellenar_partida"],[1,"hora"],[1,"rellenar_hora"],[1,"punto_llegada"],[1,"rellenar_punto_llegada"],[1,"hora_llegada"],[1,"rellenar_hora_llegada"],[1,"contenedor_ruta_realizada"],[1,"ruta_realizada"],[1,"rellenar_ruta_realizada"],[1,"contenedor_total_pasajeros"],[1,"total_pasajeros"],[1,"calculo_total_pasajeros"],[1,"capacidad_bus"],[1,"calculo_capacidad"]],template:function(r,a){1&r&&(d.TgZ(0,"div",0),d._UZ(1,"input",1),d.qZA(),d.TgZ(2,"div",2),d.TgZ(3,"div",3),d.TgZ(4,"div",4),d.TgZ(5,"h1"),d._uU(6,"VALE DE TRANSPORTE"),d.qZA(),d.TgZ(7,"h2"),d._uU(8,"FUNDO:NATALIA"),d.qZA(),d.qZA(),d._UZ(9,"div",5),d.qZA(),d.TgZ(10,"div",6),d.TgZ(11,"div",7),d.TgZ(12,"h1"),d._uU(13,"NOMBRE DEL PROVEEDOR"),d.qZA(),d.qZA(),d.TgZ(14,"div",8),d.TgZ(15,"h1"),d._uU(16,"EMPRESA DE TRANSPORTE"),d.qZA(),d.qZA(),d.TgZ(17,"div",9),d.TgZ(18,"h1"),d._uU(19,"CHOFER"),d.qZA(),d.qZA(),d._UZ(20,"div",10),d._UZ(21,"div",11),d._UZ(22,"div",12),d._UZ(23,"div",13),d._UZ(24,"div",14),d._UZ(25,"div",15),d.qZA(),d.TgZ(26,"div",16),d.TgZ(27,"div",17),d.TgZ(28,"h1"),d._uU(29,"PUNTO DE PARTIDA"),d.qZA(),d.qZA(),d._UZ(30,"div",18),d.TgZ(31,"div",19),d.TgZ(32,"h1"),d._uU(33,"HORA"),d.qZA(),d.qZA(),d._UZ(34,"div",20),d.TgZ(35,"div",21),d.TgZ(36,"h1"),d._uU(37,"PUNTO DE LLEGADA"),d.qZA(),d.qZA(),d._UZ(38,"div",22),d.TgZ(39,"div",23),d.TgZ(40,"h1"),d._uU(41,"HORA DE LLEGADA"),d.qZA(),d.qZA(),d._UZ(42,"div",24),d.qZA(),d.TgZ(43,"div",25),d.TgZ(44,"div",26),d.TgZ(45,"h1"),d._uU(46,"RUTA REALIZADA"),d.qZA(),d.qZA(),d._UZ(47,"div",27),d.qZA(),d.TgZ(48,"div",28),d.TgZ(49,"div",29),d.TgZ(50,"h1"),d._uU(51,"N TOTAL DE PASAJERO"),d.qZA(),d.qZA(),d._UZ(52,"div",30),d.TgZ(53,"div",31),d.TgZ(54,"h1"),d._uU(55,"CAPACIDAD DEL BUS"),d.qZA(),d.qZA(),d._UZ(56,"div",32),d.qZA(),d.qZA())},styles:[".contenedor_filtro[_ngcontent-%COMP%]{margin-top:10%}.vale[_ngcontent-%COMP%]{width:40%;flex-wrap:wrap;height:160px;margin-top:5%;background:rgb(255,255,255);box-shadow:0 0 8px #00000070}@keyframes agrandar{to{position:absolute;width:55%;height:450px}}.titulo_vale[_ngcontent-%COMP%]{grid-column:1;grid-row:1;width:100%;height:100%;border:1px solid #000;margin-top:5%;margin-left:3%}.vale[_ngcontent-%COMP%]:active{animation:agrandar;animation-fill-mode:forwards}.numero_vale[_ngcontent-%COMP%]{grid-column:2;grid-row:1;width:100%;height:100%;border:1px solid #000;margin-top:11%;margin-left:10%}.titulo_vale[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:9px;margin:0;text-align:center}.titulo_vale[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:5px;margin:0;text-align:center}.grid1[_ngcontent-%COMP%]{display:grid;width:100%;height:0;grid-template-columns:65% 30%;grid-template-rows:20px 0px 0px}.contenedor_informacion_vale[_ngcontent-%COMP%]{margin-top:40px;margin-left:2%;display:grid;width:100%;grid-template-columns:30% 40% 24%;grid-template-rows:12px 12px 12px}.nombre_proveedor[_ngcontent-%COMP%]{margin-top:0%;grid-column:1;grid-row:1;width:100%;height:12PX;font-size:3px;border:1px solid #000}.empresa_transporte[_ngcontent-%COMP%]{grid-column:1;grid-row:2;width:100%;height:12PX;font-size:3px;margin-top:2%;border:1px solid #000}.contenedor_ruta_realizada[_ngcontent-%COMP%]{display:grid;grid-template-columns:30% 65%;grid-template-rows:20px;height:20px;margin:0}.ruta_realizada[_ngcontent-%COMP%]{grid-column:1;grid-row:1;width:100%;height:12px;margin-left:6.5%;margin-top:-1%;font-size:3px;border:1px solid #000}.rellenar_ruta_realizada[_ngcontent-%COMP%]{grid-column:2;grid-row:1;width:99.5%;height:11.5px;margin-left:3.8%;margin-top:-.5%;font-size:3px;border:1px solid #000}.nombre_chofer_rellenar[_ngcontent-%COMP%]{grid-column:2;grid-row:3;width:100%;height:12px;margin-left:1%;margin-top:2.5%;font-size:3px;border:1px solid #000}.nombre_proveedor_rellenar[_ngcontent-%COMP%]{grid-column:2;grid-row:1;width:100%;height:12px;margin-left:1%;margin-top:0%;font-size:3px;border:1px solid #000}.ruc_rellenar[_ngcontent-%COMP%]{grid-column:3;grid-row:2;width:100%;height:12.5px;margin-left:4%;margin-top:2%;font-size:3px;border:1px solid #000}.calculo_total_pasajeros[_ngcontent-%COMP%]{grid-column:2;grid-row:1;width:100%;height:12px;margin-left:10%;margin-top:-14%;font-size:3px;border:1px solid #000}.capacidad_bus[_ngcontent-%COMP%]{grid-column:3;grid-row:1;width:100%;height:12px;margin-left:11%;margin-top:-14%;font-size:2.5px;border:1px solid #000}.calculo_capacidad[_ngcontent-%COMP%]{grid-column:4;grid-row:1;width:102%;height:11px;margin-left:11%;margin-top:-11%;font-size:3px;border:1px solid #000}.placa_rellenar[_ngcontent-%COMP%]{grid-column:3;grid-row:3;width:100%;height:12px;margin-left:4%;margin-top:4%;font-size:3px;border:1px solid #000}.fecha[_ngcontent-%COMP%]{grid-column:3;grid-row:1;width:100%;height:12px;margin-left:4%;margin-top:0%;font-size:3px;border:1px solid #000}.nombre_transporte[_ngcontent-%COMP%]{grid-column:2;grid-row:2;width:100%;height:13px;margin-left:1%;margin-top:1%;font-size:3px;border:1px solid #000}.chofer[_ngcontent-%COMP%]{grid-column:1;grid-row:3;width:100%;height:12px;margin-top:3%;font-size:3px;border:1px solid #000}.contenedor_partida_hora[_ngcontent-%COMP%]{display:grid;grid-template-columns:30.5% 20% 20% 23.5%;grid-row:20px 20px}.rellenar_hora[_ngcontent-%COMP%]{grid-column:2;grid-row:2;width:100%;height:12px;margin-left:10%;margin-top:-1.5%;font-size:3px;border:1px solid #000}.rellenar_punto_llegada[_ngcontent-%COMP%]{grid-column:4;grid-row:1;width:103%;height:12.5px;margin-left:10%;margin-top:5%;font-size:3px;border:1px solid #000}.rellenar_hora_llegada[_ngcontent-%COMP%]{grid-column:4;grid-row:2;width:103%;height:12px;margin-left:10%;margin-top:-2%;font-size:3px;border:1px solid #000}.rellenar_partida[_ngcontent-%COMP%]{grid-column:2;grid-row:1;width:100%;height:13px;margin-left:10%;margin-top:6%;font-size:3px;border:1px solid #000}.punto_partida[_ngcontent-%COMP%]{grid-column:1;grid-row:1;width:99%;height:12px;margin-left:6%;margin-top:4.5%;font-size:3px;border:1px solid #000}.hora[_ngcontent-%COMP%]{grid-column:1;grid-row:2;width:99%;height:12px;margin-top:-1%;margin-left:6%;font-size:3px;border:1px solid #000}.punto_llegada[_ngcontent-%COMP%]{grid-column:3;grid-row:1;width:98%;height:12.5px;margin-top:6%;margin-left:12%;font-size:2.5px;border:1px solid #000}.hora_llegada[_ngcontent-%COMP%]{grid-column:3;grid-row:2;width:98%;height:12px;margin-top:-3%;margin-left:12%;font-size:2.5px;border:1px solid #000}.contenedor_total_pasajeros[_ngcontent-%COMP%]{grid-template-columns:30.5% 20% 20% 23.5%;grid-row:20px;display:grid}.total_pasajeros[_ngcontent-%COMP%]{grid-column:1;grid-row:1;width:99%;height:12px;margin-left:6.5%;margin-top:-9%;font-size:3px;border:1px solid #000}"]}),i})()}];let JM=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[Wu.forRoot(YM)],Wu]}),i})();const QM=function(){return["/"]},XM=function(){return["/servicio"]},eN=function(){return["/vales"]},tN=function(){return["/base_datos"]},nN=function(){return["/reporte_vales"]};let rN=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-root"]],decls:22,vars:10,consts:[[1,"menu"],[1,"nombre_usuario"],[1,"slider_menu"],[1,"contenedor_letras"],["routerLinkActive","router-link-active",3,"routerLink"],[1,"contenedor_distribucion"]],template:function(r,a){1&r&&(d.TgZ(0,"div",0),d.TgZ(1,"h1",1),d._uU(2,"Administrador"),d.qZA(),d.TgZ(3,"div",2),d.TgZ(4,"div",3),d.TgZ(5,"div",4),d.TgZ(6,"h1"),d._uU(7,"Asistencia"),d.qZA(),d.qZA(),d.TgZ(8,"div",4),d.TgZ(9,"h1"),d._uU(10,"Servicio"),d.qZA(),d.qZA(),d.TgZ(11,"div",4),d.TgZ(12,"h1"),d._uU(13,"Vales"),d.qZA(),d.qZA(),d.TgZ(14,"div",4),d.TgZ(15,"h1"),d._uU(16,"Base de datos"),d.qZA(),d.qZA(),d.TgZ(17,"div",4),d.TgZ(18,"h1"),d._uU(19,"Reportes de vales"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(20,"div",5),d._UZ(21,"router-outlet"),d.qZA()),2&r&&(d.xp6(5),d.Q6J("routerLink",d.DdM(5,QM)),d.xp6(3),d.Q6J("routerLink",d.DdM(6,XM)),d.xp6(3),d.Q6J("routerLink",d.DdM(7,eN)),d.xp6(3),d.Q6J("routerLink",d.DdM(8,tN)),d.xp6(3),d.Q6J("routerLink",d.DdM(9,nN)))},directives:[Vc,Vo,Af],styles:['@import"https://fonts.googleapis.com/css2?family=Cabin&display=swap";.menu[_ngcontent-%COMP%]{font-family:"Cabin",sans-serif;position:fixed;width:25%;height:650px;margin-left:2%;margin-top:1%;border-radius:8px;box-shadow:0 0 20px #0000007e;background:#fff}.contenedor_b_menus[_ngcontent-%COMP%]{background:rgba(0,135,197,.308);width:30%;height:150px}.slider_menu[_ngcontent-%COMP%]{background:rgba(0,105,204,.103);width:70%;height:350px;margin-left:15%;margin-top:20%;text-align:justify;border-radius:15px}.contenedor_letras[_ngcontent-%COMP%]{margin-left:20%;padding-top:10%}.slider_menu[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding-top:5%;font-size:18px}.slider_menu[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:10px;cursor:pointer}.contenedor_distribucion[_ngcontent-%COMP%]{width:50%;margin-top:0;margin-left:30%;display:inline-block}.nombre_usuario[_ngcontent-%COMP%]{font-size:25px;text-align:center}.b_asistencia[_ngcontent-%COMP%]{width:50%;height:120px;margin-left:5%;border-radius:5px;box-shadow:0 0 15px #008659;background-color:#00ff88b0;display:inline-block}.b_asistencia[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-left:5%;padding-top:2%}.b_servicio[_ngcontent-%COMP%]{width:35%;margin-left:3%;height:100px;border-radius:8px;box-shadow:0 0 20px #c40000;display:inline-block;background-color:#f00b}.b_servicio[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding-top:-10%;margin-left:6%}.b_vales[_ngcontent-%COMP%]{width:30%;height:100px;border-radius:8px;margin-left:5%;background-color:#ff0eb7bb;box-shadow:0 0 15px #f0d;display:inline-block;margin-top:4%}.b_vales[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-left:5%}.base_datos[_ngcontent-%COMP%]{margin-left:3%;width:50%;display:inline-block;height:120px;border-radius:8px;box-shadow:0 0 20px #0056f7;background-color:#0400ffd8}.base_datos[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-left:5%}@media (max-width:600px){.titulo[_ngcontent-%COMP%]{font-size:25px}.slider_menu[_ngcontent-%COMP%]{background:#fff;width:100%;height:65px;margin:0}.menu[_ngcontent-%COMP%]{width:100%;align-items:center;height:130px;margin-left:0%;background:rgb(255,255,255);margin-top:0%;text-align:center}.menu[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:4% 0 2%}.contenedor_letras[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{min-width:30%;display:flex;margin-top:-10%;box-shadow:0 0 10px #0000006c;height:40px;text-align:center;margin-left:5%;border-radius:8px;font-size:8px;display:inline-block}.contenedor_letras[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:12px}.contenedor_distribucion[_ngcontent-%COMP%]{width:100%;margin-top:36%;margin-left:0}.contenedor_letras[_ngcontent-%COMP%]{display:flex;height:25px;margin-left:2%;font-weight:100;scroll-behavior:smooth;overflow-x:scroll;margin-top:4%}}']}),i})();const CM_firebaseConfig={apiKey:"AIzaSyDnR5H0QZKVF3BVH5HO62n6fTx48a5uEmA",authDomain:"transporte-natalia.firebaseapp.com",projectId:"transporte-natalia",storageBucket:"transporte-natalia.appspot.com",messagingSenderId:"278832053885",appId:"1:278832053885:web:3969f293bf48699f153b14",measurementId:"G-1FZSLY3D5W"};let iN=(()=>{class i{}return i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=d.oAB({type:i,bootstrap:[rN]}),i.\u0275inj=d.cJS({providers:[],imports:[[mu,JM,Fg,Ii.hO.initializeApp(CM_firebaseConfig),mM,vM.forRoot()]]}),i})();(0,d.G48)(),uy().bootstrapModule(iN).catch(i=>console.error(i))},4762:(We,we,L)=>{"use strict";function me(ie,ae){var ce={};for(var ue in ie)Object.prototype.hasOwnProperty.call(ie,ue)&&ae.indexOf(ue)<0&&(ce[ue]=ie[ue]);if(null!=ie&&"function"==typeof Object.getOwnPropertySymbols){var le=0;for(ue=Object.getOwnPropertySymbols(ie);le<ue.length;le++)ae.indexOf(ue[le])<0&&Object.prototype.propertyIsEnumerable.call(ie,ue[le])&&(ce[ue[le]]=ie[ue[le]])}return ce}function fe(ie,ae,ce,ue){return new(ce||(ce=Promise))(function(J,Me){function Ke(gt){try{tt(ue.next(gt))}catch(Kt){Me(Kt)}}function yt(gt){try{tt(ue.throw(gt))}catch(Kt){Me(Kt)}}function tt(gt){gt.done?J(gt.value):function(J){return J instanceof ce?J:new ce(function(Me){Me(J)})}(gt.value).then(Ke,yt)}tt((ue=ue.apply(ie,ae||[])).next())})}function q(ie,ae){var ue,le,J,Me,ce={label:0,sent:function(){if(1&J[0])throw J[1];return J[1]},trys:[],ops:[]};return Me={next:Ke(0),throw:Ke(1),return:Ke(2)},"function"==typeof Symbol&&(Me[Symbol.iterator]=function(){return this}),Me;function Ke(tt){return function(gt){return function(tt){if(ue)throw new TypeError("Generator is already executing.");for(;ce;)try{if(ue=1,le&&(J=2&tt[0]?le.return:tt[0]?le.throw||((J=le.return)&&J.call(le),0):le.next)&&!(J=J.call(le,tt[1])).done)return J;switch(le=0,J&&(tt=[2&tt[0],J.value]),tt[0]){case 0:case 1:J=tt;break;case 4:return ce.label++,{value:tt[1],done:!1};case 5:ce.label++,le=tt[1],tt=[0];continue;case 7:tt=ce.ops.pop(),ce.trys.pop();continue;default:if(!(J=(J=ce.trys).length>0&&J[J.length-1])&&(6===tt[0]||2===tt[0])){ce=0;continue}if(3===tt[0]&&(!J||tt[1]>J[0]&&tt[1]<J[3])){ce.label=tt[1];break}if(6===tt[0]&&ce.label<J[1]){ce.label=J[1],J=tt;break}if(J&&ce.label<J[2]){ce.label=J[2],ce.ops.push(tt);break}J[2]&&ce.ops.pop(),ce.trys.pop();continue}tt=ae.call(ie,ce)}catch(gt){tt=[6,gt],le=0}finally{ue=J=0}if(5&tt[0])throw tt[1];return{value:tt[0]?tt[1]:void 0,done:!0}}([tt,gt])}}}function W(ie){var ae="function"==typeof Symbol&&Symbol.iterator,ce=ae&&ie[ae],ue=0;if(ce)return ce.call(ie);if(ie&&"number"==typeof ie.length)return{next:function(){return ie&&ue>=ie.length&&(ie=void 0),{value:ie&&ie[ue++],done:!ie}}};throw new TypeError(ae?"Object is not iterable.":"Symbol.iterator is not defined.")}function G(ie,ae){var ce="function"==typeof Symbol&&ie[Symbol.iterator];if(!ce)return ie;var le,Me,ue=ce.call(ie),J=[];try{for(;(void 0===ae||ae-- >0)&&!(le=ue.next()).done;)J.push(le.value)}catch(Ke){Me={error:Ke}}finally{try{le&&!le.done&&(ce=ue.return)&&ce.call(ue)}finally{if(Me)throw Me.error}}return J}function ne(ie,ae,ce){if(ce||2===arguments.length)for(var J,ue=0,le=ae.length;ue<le;ue++)(J||!(ue in ae))&&(J||(J=Array.prototype.slice.call(ae,0,ue)),J[ue]=ae[ue]);return ie.concat(J||Array.prototype.slice.call(ae))}L.d(we,{_T:()=>me,mG:()=>fe,Jh:()=>q,XA:()=>W,CR:()=>G,ev:()=>ne})},8239:(We,we,L)=>{"use strict";function d(U,me,ge,se,_e,fe,q){try{var P=U[fe](q),F=P.value}catch(W){return void ge(W)}P.done?me(F):Promise.resolve(F).then(se,_e)}function ee(U){return function(){var me=this,ge=arguments;return new Promise(function(se,_e){var fe=U.apply(me,ge);function q(F){d(fe,se,_e,q,P,"next",F)}function P(F){d(fe,se,_e,q,P,"throw",F)}q(void 0)})}}L.d(we,{Z:()=>ee})}},We=>{We(We.s=8675)}]);